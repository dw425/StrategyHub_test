<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event-Driven Architecture | Architecture Patterns | Strategy Hub</title>
    <style>
        :root {
            --brand-orange: #FF9900;
            --cat-primary: #6366F1;
            --cat-light: #818CF8;
            --cat-dark: #4F46E5;
            --cat-glow: rgba(99, 102, 241, 0.15);
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --bg-card-alt: #1a1a2e;
            --bg-hover: #252538;
            --border-color: #2a2a3e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6a6a7a;
            --green: #10B981;
            --yellow: #F59E0B;
            --red: #EF4444;
            --blue: #3B82F6;
            --cyan: #06B6D4;
            --kafka: #231F20;
            --sidebar-width: 280px;
            --header-height: 60px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
        }

        header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            padding: 0 32px;
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
            height: var(--header-height);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo { font-size: 20px; font-weight: 700; text-decoration: none; color: inherit; }
        .logo span { color: var(--brand-orange); }

        .breadcrumb { display: flex; align-items: center; gap: 8px; font-size: 14px; }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; }
        .breadcrumb a:hover { color: var(--brand-orange); }
        .breadcrumb .sep { color: var(--text-muted); }
        .breadcrumb .current { color: var(--text-primary); }

        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: var(--bg-card);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            z-index: 100;
            padding: 24px 0;
        }

        .sidebar-section { margin-bottom: 24px; }
        .sidebar-title { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--cat-light); padding: 0 24px; margin-bottom: 8px; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav a { display: flex; align-items: center; gap: 8px; padding: 10px 24px; color: var(--text-secondary); text-decoration: none; font-size: 13px; border-left: 3px solid transparent; transition: all 0.2s; }
        .sidebar-nav a:hover { background: var(--bg-hover); color: var(--text-primary); }
        .sidebar-nav a.active { background: var(--cat-glow); color: var(--cat-light); border-left-color: var(--cat-light); }
        .nav-icon { font-size: 16px; width: 24px; text-align: center; }

        .main-wrapper { margin-left: var(--sidebar-width); margin-top: var(--header-height); }
        .main-content { max-width: 1200px; padding: 32px; }

        /* Hero */
        .hero {
            margin-bottom: 28px;
            padding: 28px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            position: relative;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--red), var(--yellow), var(--green));
            border-radius: 14px 14px 0 0;
        }
        .hero-tag { display: inline-flex; background: var(--cat-glow); border: 1px solid var(--cat-dark); padding: 5px 14px; border-radius: 9999px; font-size: 11px; color: var(--cat-light); margin-bottom: 14px; }
        .hero h1 { font-size: 28px; font-weight: 700; margin-bottom: 12px; }
        .hero > p { font-size: 14px; color: var(--text-secondary); line-height: 1.7; max-width: 800px; margin-bottom: 24px; }
        .hero-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }
        .hero-stat { background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 10px; padding: 16px; text-align: center; }
        .hero-stat-value { font-size: 22px; font-weight: 700; color: var(--cat-light); }
        .hero-stat-label { font-size: 10px; color: var(--text-muted); margin-top: 4px; }

        /* Business Case */
        .business-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
        .business-card { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; text-align: center; }
        .business-icon { font-size: 28px; margin-bottom: 8px; }
        .business-stat { font-size: 28px; font-weight: 700; color: var(--cat-light); margin-bottom: 4px; }
        .business-label { font-size: 12px; font-weight: 600; color: var(--text-primary); margin-bottom: 8px; }
        .business-desc { font-size: 11px; color: var(--text-secondary); line-height: 1.5; }
        
        .use-cases-block { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .use-cases-block h4 { font-size: 14px; font-weight: 600; margin-bottom: 16px; color: var(--cat-light); }
        .use-cases-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
        .use-case { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 14px; display: flex; flex-direction: column; gap: 4px; }
        .use-case-icon { font-size: 20px; }
        .use-case-name { font-size: 12px; font-weight: 600; color: var(--text-primary); }
        .use-case-desc { font-size: 10px; color: var(--text-muted); }

        /* Architecture Diagram */
        .architecture-diagram { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; }
        .arch-svg { width: 100%; height: auto; }
        
        .flow-explanation { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .flow-step { display: flex; align-items: flex-start; gap: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 12px 16px; }
        .step-num { width: 24px; height: 24px; background: var(--cat-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; flex-shrink: 0; }
        .step-text { font-size: 12px; color: var(--text-secondary); line-height: 1.5; }
        .step-text strong { color: var(--text-primary); }
        .step-text code { background: var(--bg-dark); padding: 2px 6px; border-radius: 4px; font-size: 10px; color: var(--cat-light); }

        /* Tech Stack Patterns */
        .stack-patterns { display: flex; flex-direction: column; gap: 20px; }
        .stack-pattern { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .stack-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; }
        .stack-badge { font-size: 10px; font-weight: 600; padding: 4px 10px; border-radius: 20px; text-transform: uppercase; letter-spacing: 0.5px; }
        .stack-badge.kafka { background: rgba(239, 68, 68, 0.2); color: #EF4444; }
        .stack-badge.aws { background: rgba(255, 153, 0, 0.2); color: #FF9900; }
        .stack-badge.azure { background: rgba(0, 120, 212, 0.2); color: #0078D4; }
        .stack-name { font-size: 16px; font-weight: 600; color: var(--text-primary); }
        .stack-use { font-size: 11px; color: var(--text-muted); margin-left: auto; }
        .stack-diagram { background: var(--bg-dark); border-radius: 8px; padding: 16px; margin-bottom: 12px; }
        .stack-svg { width: 100%; height: auto; }
        .stack-benefits { display: flex; gap: 16px; flex-wrap: wrap; }
        .benefit { font-size: 11px; color: var(--green); background: rgba(16, 185, 129, 0.1); padding: 4px 10px; border-radius: 4px; }

        /* Module */
        .module { margin-bottom: 40px; padding-top: 28px; border-top: 1px solid var(--border-color); }
        .module:first-of-type { border-top: none; padding-top: 0; }
        .module-header { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; }
        .module-icon { width: 52px; height: 52px; background: var(--cat-glow); border: 2px solid var(--cat-primary); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .module-info h2 { font-size: 22px; font-weight: 600; margin-bottom: 4px; }
        .module-info p { font-size: 13px; color: var(--text-muted); }

        /* Content Block */
        .content-block { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 24px; margin-bottom: 20px; }
        .content-block h3 { font-size: 16px; font-weight: 600; margin-bottom: 14px; color: var(--cat-light); }
        .content-block p { font-size: 13px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 12px; }
        .content-block p:last-child { margin-bottom: 0; }
        .content-block p strong { color: var(--text-primary); }

        /* Two/Three Column */
        .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px; }
        .three-col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 24px; }
        .info-box { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; }
        .info-box h4 { font-size: 14px; font-weight: 600; margin-bottom: 12px; color: var(--text-primary); display: flex; align-items: center; gap: 10px; }
        .info-box h4::before { content: ''; width: 3px; height: 16px; background: var(--cat-primary); border-radius: 2px; }
        .info-list { list-style: none; margin: 0; padding: 0; }
        .info-list li { font-size: 12px; color: var(--text-secondary); padding: 8px 0; border-bottom: 1px solid var(--border-color); line-height: 1.5; }
        .info-list li:last-child { border-bottom: none; }
        .info-list li strong { color: var(--text-primary); }

        /* Flow Complexity Levels */
        .flow-complexity { display: flex; flex-direction: column; gap: 20px; margin-bottom: 24px; }
        .flow-level { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .flow-level-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
        .flow-level-badge { font-size: 10px; font-weight: 600; padding: 4px 10px; border-radius: 20px; text-transform: uppercase; letter-spacing: 0.5px; }
        .flow-level-badge.simple { background: rgba(16, 185, 129, 0.2); color: #10B981; }
        .flow-level-badge.medium { background: rgba(245, 158, 11, 0.2); color: #F59E0B; }
        .flow-level-badge.complex { background: rgba(239, 68, 68, 0.2); color: #EF4444; }
        .flow-level-title { font-size: 14px; font-weight: 600; color: var(--text-primary); }
        .flow-level-diagram { display: flex; align-items: center; justify-content: center; gap: 12px; padding: 16px; background: var(--bg-dark); border-radius: 8px; margin-bottom: 12px; flex-wrap: wrap; }
        .flow-level-diagram-complex { padding: 16px; background: var(--bg-dark); border-radius: 8px; margin-bottom: 12px; }
        .flow-svg { width: 100%; height: auto; max-height: 120px; }
        .flow-node { background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 6px; padding: 8px 14px; font-size: 11px; font-weight: 500; white-space: nowrap; }
        .flow-node.producer { border-color: #10B981; color: #10B981; }
        .flow-node.broker-small { border-color: #EF4444; color: #EF4444; background: rgba(239, 68, 68, 0.1); }
        .flow-node.consumer { border-color: #06B6D4; color: #06B6D4; }
        .flow-node.consumer-sm { border-color: #06B6D4; color: #06B6D4; font-size: 10px; padding: 6px 10px; }
        .flow-connector { color: var(--cat-light); font-size: 16px; }
        .flow-fan { display: flex; flex-direction: column; gap: 2px; }
        .flow-consumers { display: flex; flex-direction: column; gap: 6px; }
        .flow-level-desc { font-size: 12px; color: var(--text-secondary); }

        /* Pattern Cards */
        .pattern-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px; }
        .pattern-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; }
        .pattern-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
        .pattern-icon { font-size: 24px; }
        .pattern-name { font-size: 15px; font-weight: 600; }
        .pattern-desc { font-size: 12px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 12px; }
        .pattern-tags { display: flex; flex-wrap: wrap; gap: 6px; }
        .pattern-tag { font-size: 10px; padding: 3px 8px; background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 4px; color: var(--text-muted); }

        /* Platform Cards */
        .platform-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px; }
        .platform-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; text-align: center; }
        .platform-logo { font-size: 32px; margin-bottom: 12px; }
        .platform-name { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
        .platform-type { font-size: 11px; color: var(--cat-light); margin-bottom: 12px; }
        .platform-desc { font-size: 11px; color: var(--text-secondary); line-height: 1.5; }

        /* Comparison Table */
        .table-wrapper { overflow-x: auto; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; margin-bottom: 24px; }
        .comparison-table { width: 100%; border-collapse: collapse; min-width: 700px; }
        .comparison-table th { background: var(--bg-card-alt); padding: 12px; text-align: left; font-size: 11px; font-weight: 600; border-bottom: 2px solid var(--border-color); color: var(--text-primary); }
        .comparison-table td { padding: 10px 12px; font-size: 11px; color: var(--text-secondary); border-bottom: 1px solid var(--border-color); }
        .comparison-table td:first-child { font-weight: 600; color: var(--text-primary); }
        .comparison-table tr:hover td { background: var(--bg-hover); }

        /* Best Practices */
        .bp-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; margin-bottom: 24px; }
        .bp-card { background: var(--bg-dark); border-radius: 12px; padding: 24px; }
        .bp-card.do { border: 1px solid var(--green); }
        .bp-card.dont { border: 1px solid var(--red); }
        .bp-title { font-size: 16px; font-weight: 600; margin-bottom: 20px; }
        .bp-card.do .bp-title { color: var(--green); }
        .bp-card.dont .bp-title { color: var(--red); }
        .bp-list { list-style: none; margin: 0; padding: 0; }
        .bp-list li { font-size: 13px; color: var(--text-secondary); padding: 6px 0; display: flex; align-items: flex-start; gap: 10px; }
        .bp-list li .icon { flex-shrink: 0; }
        .bp-card.do .bp-list li .icon { color: var(--green); }
        .bp-card.dont .bp-list li .icon { color: var(--red); }

        /* Agent Section */
        .agent-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 20px; margin-bottom: 24px; }
        .agent-info { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; }
        .agent-avatar { width: 56px; height: 56px; background: linear-gradient(135deg, var(--red), var(--yellow)); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 28px; margin-bottom: 16px; }
        .agent-name { font-size: 18px; font-weight: 600; margin-bottom: 4px; }
        .agent-role { font-size: 12px; color: var(--cat-light); margin-bottom: 16px; }
        .agent-desc { font-size: 12px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }
        .agent-caps { list-style: none; margin: 0; padding: 0; }
        .agent-caps li { font-size: 12px; color: var(--text-secondary); padding: 8px 0; display: flex; align-items: center; gap: 10px; }
        .agent-caps li .icon { color: var(--cat-light); }

        .code-panel { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; overflow: hidden; }
        .code-header { display: flex; align-items: center; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); }
        .code-tab { padding: 12px 20px; font-size: 11px; color: var(--text-muted); cursor: pointer; border-bottom: 2px solid transparent; }
        .code-tab.active { color: var(--cat-light); border-bottom-color: var(--cat-light); background: rgba(99, 102, 241, 0.1); }
        .code-filename { margin-left: auto; padding: 12px 20px; font-size: 10px; color: var(--text-muted); font-family: monospace; }
        .code-content { padding: 20px; font-family: 'Monaco', 'Consolas', monospace; font-size: 11px; line-height: 1.7; background: var(--bg-dark); overflow-x: auto; max-height: 320px; overflow-y: auto; }
        .code-comment { color: #6A737D; }
        .code-keyword { color: #FF7B72; }
        .code-string { color: #A5D6FF; }
        .code-function { color: #D2A8FF; }

        /* Related */
        .related-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .related-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; text-decoration: none; color: inherit; transition: all 0.2s; }
        .related-card:hover { border-color: var(--cat-primary); transform: translateY(-2px); }
        .related-num { font-size: 10px; color: var(--cat-light); margin-bottom: 6px; }
        .related-title { font-size: 14px; font-weight: 600; margin-bottom: 6px; }
        .related-desc { font-size: 11px; color: var(--text-muted); }

        /* Footer */
        footer { background: var(--bg-card); border-top: 1px solid var(--border-color); padding: 24px 32px; margin-left: var(--sidebar-width); }
        .footer-nav { display: flex; justify-content: space-between; align-items: center; }
        .footer-link { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-secondary); padding: 12px 20px; background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 12px; transition: all 0.2s; }
        .footer-link:hover { border-color: var(--cat-primary); color: var(--text-primary); }
        .footer-link-label { font-size: 11px; color: var(--text-muted); }
        .footer-link-title { font-size: 13px; font-weight: 600; }
        .footer-brand { font-size: 13px; color: var(--text-muted); }
        .footer-brand span { color: var(--brand-orange); }

        @media (max-width: 1024px) {
            .sidebar { display: none; }
            .main-wrapper { margin-left: 0; }
            footer { margin-left: 0; }
            .two-col, .three-col, .bp-grid, .agent-grid, .pattern-grid { grid-template-columns: 1fr; }
            .platform-grid { grid-template-columns: 1fr; }
            .related-grid { grid-template-columns: 1fr; }
            .flow-level-diagram { flex-direction: column; }
            .business-grid { grid-template-columns: repeat(2, 1fr); }
            .use-cases-grid { grid-template-columns: repeat(2, 1fr); }
            .flow-explanation { grid-template-columns: 1fr; }
            .stack-use { margin-left: 0; width: 100%; margin-top: 8px; }
        }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="logo"><span>STRATEGY</span>HUB</a>
    <div class="header-tagline">Enterprise Technology Knowledge Base</div>
</header>

<aside class="sidebar">
    <div class="sidebar-section">
        <div class="sidebar-title">üèóÔ∏è Category 09</div>
        <ul class="sidebar-nav">
            <li><a href="cat09-architecture-overview.html"><span class="nav-icon">üè†</span> Overview</a></li>
            <li><a href="cat09-p1-microservices.html"><span class="nav-icon">üî≤</span> 9.1 Microservices</a></li>
            <li><a href="cat09-p2-event-driven.html" class="active"><span class="nav-icon">‚ö°</span> 9.2 Event-Driven</a></li>
            <li><a href="cat09-p3-data-mesh.html"><span class="nav-icon">üï∏Ô∏è</span> 9.3 Data Mesh</a></li>
            <li><a href="cat09-p4-lakehouse.html"><span class="nav-icon">üè†</span> 9.4 Data Lakehouse</a></li>
            <li><a href="cat09-p5-api-patterns.html"><span class="nav-icon">üîå</span> 9.5 API Patterns</a></li>
            <li><a href="cat09-p6-cqrs-eventsourcing.html"><span class="nav-icon">üìö</span> 9.6 CQRS & Event Sourcing</a></li>
            <li><a href="cat09-p7-domain-driven.html"><span class="nav-icon">üéØ</span> 9.7 Domain-Driven Design</a></li>
        </ul>
    </div>
    <div class="sidebar-section">
        <div class="sidebar-title">üìÑ On This Page</div>
        <ul class="sidebar-nav">
            <li><a href="#overview"><span class="nav-icon">üìñ</span> Overview</a></li>
            <li><a href="#business-case"><span class="nav-icon">üíº</span> Business Case</a></li>
            <li><a href="#real-world"><span class="nav-icon">üèóÔ∏è</span> Real-World Flow</a></li>
            <li><a href="#tech-stacks"><span class="nav-icon">üîß</span> Tech Stacks</a></li>
            <li><a href="#patterns"><span class="nav-icon">üîÑ</span> Messaging Patterns</a></li>
            <li><a href="#platforms"><span class="nav-icon">üõ†Ô∏è</span> Platforms</a></li>
            <li><a href="#comparison"><span class="nav-icon">‚öñÔ∏è</span> Comparison</a></li>
            <li><a href="#practices"><span class="nav-icon">‚úÖ</span> Best Practices</a></li>
            <li><a href="#agent"><span class="nav-icon">ü§ñ</span> Agent This</a></li>
        </ul>
    </div>
</aside>

<div class="main-wrapper">
    <div class="main-content">

        <!-- HERO -->
        <section class="hero" id="overview">
            <div class="hero-tag">‚ö° Page 9.2 ‚Ä¢ Reactive Systems</div>
            <h1>Event-Driven Architecture</h1>
            <p>An architectural paradigm where the flow of the program is determined by events‚Äîsignificant changes in state that are published, detected, and consumed by loosely coupled services. The foundation of reactive, real-time systems.</p>
            <div class="hero-stats">
                <div class="hero-stat"><div class="hero-stat-value">7T+</div><div class="hero-stat-label">Events/Day (LinkedIn)</div></div>
                <div class="hero-stat"><div class="hero-stat-value">80%</div><div class="hero-stat-label">Enterprises Using</div></div>
                <div class="hero-stat"><div class="hero-stat-value">10ms</div><div class="hero-stat-label">Typical Latency</div></div>
                <div class="hero-stat"><div class="hero-stat-value">99.99%</div><div class="hero-stat-label">Availability Target</div></div>
            </div>
        </section>

        <!-- BUSINESS CASE -->
        <section class="module" id="business-case">
            <div class="module-header">
                <div class="module-icon">üíº</div>
                <div class="module-info">
                    <h2>The Business Case for Event-Driven</h2>
                    <p>Why leading companies are adopting EDA</p>
                </div>
            </div>

            <div class="business-grid">
                <div class="business-card">
                    <div class="business-icon">‚ö°</div>
                    <div class="business-stat">100x</div>
                    <div class="business-label">Faster Response</div>
                    <div class="business-desc">React to business events in milliseconds instead of batch processing overnight</div>
                </div>
                <div class="business-card">
                    <div class="business-icon">üìà</div>
                    <div class="business-stat">10x</div>
                    <div class="business-label">Scalability</div>
                    <div class="business-desc">Add new consumers without modifying producers‚Äîscale teams independently</div>
                </div>
                <div class="business-card">
                    <div class="business-icon">üõ°Ô∏è</div>
                    <div class="business-stat">99.99%</div>
                    <div class="business-label">Availability</div>
                    <div class="business-desc">Services fail independently, events persist in broker until processed</div>
                </div>
                <div class="business-card">
                    <div class="business-icon">üîç</div>
                    <div class="business-stat">100%</div>
                    <div class="business-label">Audit Trail</div>
                    <div class="business-desc">Every state change captured as immutable event‚Äîcompliance built-in</div>
                </div>
            </div>

            <div class="use-cases-block">
                <h4>Common Use Cases</h4>
                <div class="use-cases-grid">
                    <div class="use-case">
                        <span class="use-case-icon">üõí</span>
                        <span class="use-case-name">E-commerce</span>
                        <span class="use-case-desc">Order ‚Üí Payment ‚Üí Inventory ‚Üí Shipping</span>
                    </div>
                    <div class="use-case">
                        <span class="use-case-icon">üè¶</span>
                        <span class="use-case-name">Banking</span>
                        <span class="use-case-desc">Transaction ‚Üí Fraud Check ‚Üí Ledger ‚Üí Notification</span>
                    </div>
                    <div class="use-case">
                        <span class="use-case-icon">üìä</span>
                        <span class="use-case-name">Analytics</span>
                        <span class="use-case-desc">Clickstream ‚Üí Enrichment ‚Üí ML ‚Üí Dashboard</span>
                    </div>
                    <div class="use-case">
                        <span class="use-case-icon">üöö</span>
                        <span class="use-case-name">Logistics</span>
                        <span class="use-case-desc">GPS Update ‚Üí Route Optimize ‚Üí ETA ‚Üí Customer</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- REAL-WORLD ARCHITECTURE -->
        <section class="module" id="real-world">
            <div class="module-header">
                <div class="module-icon">üèóÔ∏è</div>
                <div class="module-info">
                    <h2>Real-World Architecture: E-Commerce Order Flow</h2>
                    <p>How events flow through a modern order processing system</p>
                </div>
            </div>

            <div class="architecture-diagram">
                <svg viewBox="0 0 900 400" class="arch-svg">
                    <defs>
                        <pattern id="gridPattern" width="20" height="20" patternUnits="userSpaceOnUse">
                            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#1a1a2e" stroke-width="0.5"/>
                        </pattern>
                        <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#818CF8"/>
                        </marker>
                    </defs>
                    
                    <rect width="100%" height="100%" fill="url(#gridPattern)"/>
                    
                    <!-- Title -->
                    <text x="450" y="25" text-anchor="middle" fill="#818CF8" font-size="14" font-weight="600">Event-Driven Order Processing</text>
                    
                    <!-- Customer/Frontend -->
                    <rect x="30" y="160" width="100" height="80" rx="10" fill="#1a1a2e" stroke="#3B82F6" stroke-width="2"/>
                    <text x="80" y="190" text-anchor="middle" fill="#3B82F6" font-size="20">üõí</text>
                    <text x="80" y="210" text-anchor="middle" fill="#fff" font-size="11" font-weight="600">Customer</text>
                    <text x="80" y="225" text-anchor="middle" fill="#6a6a7a" font-size="9">Web/Mobile</text>
                    
                    <!-- Order Service -->
                    <rect x="180" y="160" width="100" height="80" rx="10" fill="#1a1a2e" stroke="#10B981" stroke-width="2"/>
                    <text x="230" y="190" text-anchor="middle" fill="#10B981" font-size="20">üì¶</text>
                    <text x="230" y="210" text-anchor="middle" fill="#fff" font-size="11" font-weight="600">Order Service</text>
                    <text x="230" y="225" text-anchor="middle" fill="#6a6a7a" font-size="9">Creates Order</text>
                    
                    <!-- Kafka Cluster -->
                    <rect x="330" y="120" width="140" height="160" rx="12" fill="rgba(239, 68, 68, 0.1)" stroke="#EF4444" stroke-width="2"/>
                    <text x="400" y="145" text-anchor="middle" fill="#EF4444" font-size="12" font-weight="600">Apache Kafka</text>
                    
                    <!-- Topics inside Kafka -->
                    <rect x="345" y="160" width="110" height="24" rx="4" fill="#1a1a2e" stroke="#EF4444" stroke-width="1"/>
                    <text x="400" y="176" text-anchor="middle" fill="#F87171" font-size="9">orders.created</text>
                    
                    <rect x="345" y="190" width="110" height="24" rx="4" fill="#1a1a2e" stroke="#EF4444" stroke-width="1"/>
                    <text x="400" y="206" text-anchor="middle" fill="#F87171" font-size="9">payments.processed</text>
                    
                    <rect x="345" y="220" width="110" height="24" rx="4" fill="#1a1a2e" stroke="#EF4444" stroke-width="1"/>
                    <text x="400" y="236" text-anchor="middle" fill="#F87171" font-size="9">inventory.reserved</text>
                    
                    <rect x="345" y="250" width="110" height="24" rx="4" fill="#1a1a2e" stroke="#EF4444" stroke-width="1"/>
                    <text x="400" y="266" text-anchor="middle" fill="#F87171" font-size="9">shipping.dispatched</text>
                    
                    <!-- Consumer Services -->
                    <!-- Payment -->
                    <rect x="520" y="50" width="100" height="70" rx="10" fill="#1a1a2e" stroke="#F59E0B" stroke-width="2"/>
                    <text x="570" y="75" text-anchor="middle" fill="#F59E0B" font-size="18">üí≥</text>
                    <text x="570" y="95" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">Payment</text>
                    <text x="570" y="108" text-anchor="middle" fill="#6a6a7a" font-size="8">Stripe/PayPal</text>
                    
                    <!-- Inventory -->
                    <rect x="520" y="135" width="100" height="70" rx="10" fill="#1a1a2e" stroke="#8B5CF6" stroke-width="2"/>
                    <text x="570" y="160" text-anchor="middle" fill="#8B5CF6" font-size="18">üìä</text>
                    <text x="570" y="180" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">Inventory</text>
                    <text x="570" y="193" text-anchor="middle" fill="#6a6a7a" font-size="8">Reserve Stock</text>
                    
                    <!-- Shipping -->
                    <rect x="520" y="220" width="100" height="70" rx="10" fill="#1a1a2e" stroke="#06B6D4" stroke-width="2"/>
                    <text x="570" y="245" text-anchor="middle" fill="#06B6D4" font-size="18">üöö</text>
                    <text x="570" y="265" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">Shipping</text>
                    <text x="570" y="278" text-anchor="middle" fill="#6a6a7a" font-size="8">FedEx/UPS</text>
                    
                    <!-- Notification -->
                    <rect x="520" y="305" width="100" height="70" rx="10" fill="#1a1a2e" stroke="#EC4899" stroke-width="2"/>
                    <text x="570" y="330" text-anchor="middle" fill="#EC4899" font-size="18">üìß</text>
                    <text x="570" y="350" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">Notification</text>
                    <text x="570" y="363" text-anchor="middle" fill="#6a6a7a" font-size="8">Email/SMS</text>
                    
                    <!-- Analytics/Data -->
                    <rect x="670" y="160" width="100" height="80" rx="10" fill="#1a1a2e" stroke="#14B8A6" stroke-width="2"/>
                    <text x="720" y="190" text-anchor="middle" fill="#14B8A6" font-size="20">üìà</text>
                    <text x="720" y="210" text-anchor="middle" fill="#fff" font-size="11" font-weight="600">Analytics</text>
                    <text x="720" y="225" text-anchor="middle" fill="#6a6a7a" font-size="9">Databricks</text>
                    
                    <!-- Saga Coordinator -->
                    <rect x="780" y="50" width="100" height="70" rx="10" fill="#1a1a2e" stroke="#F97316" stroke-width="2"/>
                    <text x="830" y="75" text-anchor="middle" fill="#F97316" font-size="18">üéØ</text>
                    <text x="830" y="95" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">Saga</text>
                    <text x="830" y="108" text-anchor="middle" fill="#6a6a7a" font-size="8">Orchestrator</text>
                    
                    <!-- Arrows -->
                    <path d="M 130 200 L 175 200" stroke="#818CF8" stroke-width="2" marker-end="url(#arrow)"/>
                    <path d="M 280 200 L 325 200" stroke="#818CF8" stroke-width="2" marker-end="url(#arrow)"/>
                    
                    <!-- Fan out from Kafka -->
                    <path d="M 470 172 L 515 85" stroke="#818CF8" stroke-width="1.5" marker-end="url(#arrow)"/>
                    <path d="M 470 200 L 515 170" stroke="#818CF8" stroke-width="1.5" marker-end="url(#arrow)"/>
                    <path d="M 470 228 L 515 255" stroke="#818CF8" stroke-width="1.5" marker-end="url(#arrow)"/>
                    <path d="M 470 262 L 515 340" stroke="#818CF8" stroke-width="1.5" marker-end="url(#arrow)"/>
                    
                    <!-- To Analytics -->
                    <path d="M 620 170 L 665 190" stroke="#818CF8" stroke-width="1.5" marker-end="url(#arrow)"/>
                    <path d="M 620 255 L 665 210" stroke="#818CF8" stroke-width="1.5" marker-end="url(#arrow)"/>
                    
                    <!-- Back to Kafka (events) -->
                    <path d="M 570 120 C 570 130, 470 130, 470 160" stroke="#F59E0B" stroke-width="1" stroke-dasharray="4,2"/>
                    <path d="M 570 205 C 530 215, 480 215, 470 220" stroke="#8B5CF6" stroke-width="1" stroke-dasharray="4,2"/>
                    
                    <!-- To Saga -->
                    <path d="M 620 85 L 775 85" stroke="#818CF8" stroke-width="1.5" marker-end="url(#arrow)"/>
                    
                    <!-- Legend -->
                    <rect x="30" y="330" width="250" height="60" rx="8" fill="#1a1a2e" stroke="#2a2a3e"/>
                    <text x="45" y="350" fill="#6a6a7a" font-size="10">Legend:</text>
                    <line x1="45" y1="365" x2="65" y2="365" stroke="#818CF8" stroke-width="2"/>
                    <text x="70" y="368" fill="#a0a0b0" font-size="9">Event Flow</text>
                    <line x1="130" y1="365" x2="150" y2="365" stroke="#F59E0B" stroke-width="1" stroke-dasharray="4,2"/>
                    <text x="155" y="368" fill="#a0a0b0" font-size="9">Publishes Event</text>
                </svg>
            </div>
            
            <div class="flow-explanation">
                <div class="flow-step">
                    <span class="step-num">1</span>
                    <span class="step-text"><strong>Customer places order</strong> ‚Üí Order Service creates order and publishes <code>orders.created</code></span>
                </div>
                <div class="flow-step">
                    <span class="step-num">2</span>
                    <span class="step-text"><strong>Payment Service</strong> consumes event, charges card, publishes <code>payments.processed</code></span>
                </div>
                <div class="flow-step">
                    <span class="step-num">3</span>
                    <span class="step-text"><strong>Inventory Service</strong> reserves stock, publishes <code>inventory.reserved</code></span>
                </div>
                <div class="flow-step">
                    <span class="step-num">4</span>
                    <span class="step-text"><strong>Shipping Service</strong> creates label, publishes <code>shipping.dispatched</code></span>
                </div>
                <div class="flow-step">
                    <span class="step-num">5</span>
                    <span class="step-text"><strong>Notification Service</strong> sends confirmation email at each step</span>
                </div>
                <div class="flow-step">
                    <span class="step-num">6</span>
                    <span class="step-text"><strong>Analytics</strong> captures all events for real-time dashboards and ML</span>
                </div>
            </div>
        </section>

        <!-- TECH STACK PATTERNS -->
        <section class="module" id="tech-stacks">
            <div class="module-header">
                <div class="module-icon">üîß</div>
                <div class="module-info">
                    <h2>Common Tech Stack Patterns</h2>
                    <p>Real-world implementations with popular technologies</p>
                </div>
            </div>

            <div class="stack-patterns">
                <!-- Pattern 1: Kafka-Centric -->
                <div class="stack-pattern">
                    <div class="stack-header">
                        <span class="stack-badge kafka">Open Source</span>
                        <span class="stack-name">Kafka-Centric Stack</span>
                        <span class="stack-use">High-throughput streaming ‚Ä¢ Financial services ‚Ä¢ IoT</span>
                    </div>
                    <div class="stack-diagram">
                        <svg viewBox="0 0 700 140" class="stack-svg">
                            <defs>
                                <marker id="stackArrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#818CF8"/>
                                </marker>
                            </defs>
                            
                            <!-- Producers -->
                            <rect x="10" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#10B981" stroke-width="2"/>
                            <text x="55" y="68" text-anchor="middle" fill="#10B981" font-size="16">‚ò∏Ô∏è</text>
                            <text x="55" y="85" text-anchor="middle" fill="#fff" font-size="10">Kubernetes</text>
                            
                            <!-- Arrow -->
                            <path d="M 105 70 L 140 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Kafka -->
                            <rect x="145" y="30" width="120" height="80" rx="10" fill="rgba(239, 68, 68, 0.15)" stroke="#EF4444" stroke-width="2"/>
                            <text x="205" y="55" text-anchor="middle" fill="#EF4444" font-size="14" font-weight="600">Apache Kafka</text>
                            <text x="205" y="75" text-anchor="middle" fill="#F87171" font-size="9">Confluent Cloud</text>
                            <text x="205" y="90" text-anchor="middle" fill="#6a6a7a" font-size="8">Schema Registry</text>
                            <text x="205" y="102" text-anchor="middle" fill="#6a6a7a" font-size="8">ksqlDB</text>
                            
                            <!-- Arrow -->
                            <path d="M 270 70 L 305 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Stream Processing -->
                            <rect x="310" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#F59E0B" stroke-width="2"/>
                            <text x="355" y="68" text-anchor="middle" fill="#F59E0B" font-size="14">‚ö°</text>
                            <text x="355" y="85" text-anchor="middle" fill="#fff" font-size="9">Flink / Spark</text>
                            
                            <!-- Arrow -->
                            <path d="M 405 70 L 440 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Data Lake -->
                            <rect x="445" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#06B6D4" stroke-width="2"/>
                            <text x="490" y="68" text-anchor="middle" fill="#06B6D4" font-size="14">üî∑</text>
                            <text x="490" y="85" text-anchor="middle" fill="#fff" font-size="9">Databricks</text>
                            
                            <!-- Arrow -->
                            <path d="M 540 70 L 575 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- BI -->
                            <rect x="580" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#8B5CF6" stroke-width="2"/>
                            <text x="625" y="68" text-anchor="middle" fill="#8B5CF6" font-size="14">üìä</text>
                            <text x="625" y="85" text-anchor="middle" fill="#fff" font-size="9">Analytics/ML</text>
                        </svg>
                    </div>
                    <div class="stack-benefits">
                        <span class="benefit">‚úì Millions msg/sec</span>
                        <span class="benefit">‚úì Event replay</span>
                        <span class="benefit">‚úì Multi-region</span>
                        <span class="benefit">‚úì Exactly-once</span>
                    </div>
                </div>

                <!-- Pattern 2: AWS Native -->
                <div class="stack-pattern">
                    <div class="stack-header">
                        <span class="stack-badge aws">AWS Native</span>
                        <span class="stack-name">Serverless Event Stack</span>
                        <span class="stack-use">Variable workloads ‚Ä¢ Startups ‚Ä¢ Cost optimization</span>
                    </div>
                    <div class="stack-diagram">
                        <svg viewBox="0 0 700 140" class="stack-svg">
                            <!-- API Gateway -->
                            <rect x="10" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#FF9900" stroke-width="2"/>
                            <text x="55" y="68" text-anchor="middle" fill="#FF9900" font-size="14">üåê</text>
                            <text x="55" y="85" text-anchor="middle" fill="#fff" font-size="9">API Gateway</text>
                            
                            <path d="M 105 70 L 140 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- EventBridge -->
                            <rect x="145" y="30" width="120" height="80" rx="10" fill="rgba(255, 153, 0, 0.15)" stroke="#FF9900" stroke-width="2"/>
                            <text x="205" y="55" text-anchor="middle" fill="#FF9900" font-size="12" font-weight="600">EventBridge</text>
                            <text x="205" y="75" text-anchor="middle" fill="#FBBF24" font-size="9">Rules Engine</text>
                            <text x="205" y="90" text-anchor="middle" fill="#6a6a7a" font-size="8">Schema Registry</text>
                            <text x="205" y="102" text-anchor="middle" fill="#6a6a7a" font-size="8">Event Archive</text>
                            
                            <path d="M 270 70 L 305 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Lambda -->
                            <rect x="310" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#FF9900" stroke-width="2"/>
                            <text x="355" y="68" text-anchor="middle" fill="#FF9900" font-size="14">Œª</text>
                            <text x="355" y="85" text-anchor="middle" fill="#fff" font-size="9">Lambda</text>
                            
                            <path d="M 405 70 L 440 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- DynamoDB -->
                            <rect x="445" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#3B82F6" stroke-width="2"/>
                            <text x="490" y="68" text-anchor="middle" fill="#3B82F6" font-size="14">üóÑÔ∏è</text>
                            <text x="490" y="85" text-anchor="middle" fill="#fff" font-size="9">DynamoDB</text>
                            
                            <path d="M 540 70 L 575 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- SNS/SQS Fan-out -->
                            <rect x="580" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#EC4899" stroke-width="2"/>
                            <text x="625" y="68" text-anchor="middle" fill="#EC4899" font-size="14">üì®</text>
                            <text x="625" y="85" text-anchor="middle" fill="#fff" font-size="9">SNS + SQS</text>
                        </svg>
                    </div>
                    <div class="stack-benefits">
                        <span class="benefit">‚úì Pay per event</span>
                        <span class="benefit">‚úì Auto-scale</span>
                        <span class="benefit">‚úì Zero ops</span>
                        <span class="benefit">‚úì Native retry</span>
                    </div>
                </div>

                <!-- Pattern 3: Azure -->
                <div class="stack-pattern">
                    <div class="stack-header">
                        <span class="stack-badge azure">Azure Native</span>
                        <span class="stack-name">Enterprise Event Mesh</span>
                        <span class="stack-use">Enterprise integration ‚Ä¢ Hybrid cloud ‚Ä¢ Microsoft ecosystem</span>
                    </div>
                    <div class="stack-diagram">
                        <svg viewBox="0 0 700 140" class="stack-svg">
                            <!-- Service Bus -->
                            <rect x="10" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#0078D4" stroke-width="2"/>
                            <text x="55" y="68" text-anchor="middle" fill="#0078D4" font-size="14">üöå</text>
                            <text x="55" y="85" text-anchor="middle" fill="#fff" font-size="9">Service Bus</text>
                            
                            <path d="M 105 70 L 140 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Event Hub -->
                            <rect x="145" y="30" width="120" height="80" rx="10" fill="rgba(0, 120, 212, 0.15)" stroke="#0078D4" stroke-width="2"/>
                            <text x="205" y="55" text-anchor="middle" fill="#0078D4" font-size="12" font-weight="600">Event Hubs</text>
                            <text x="205" y="75" text-anchor="middle" fill="#60A5FA" font-size="9">Kafka Protocol</text>
                            <text x="205" y="90" text-anchor="middle" fill="#6a6a7a" font-size="8">Capture to Storage</text>
                            <text x="205" y="102" text-anchor="middle" fill="#6a6a7a" font-size="8">Partitioning</text>
                            
                            <path d="M 270 70 L 305 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Functions -->
                            <rect x="310" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#0078D4" stroke-width="2"/>
                            <text x="355" y="68" text-anchor="middle" fill="#0078D4" font-size="14">‚ö°</text>
                            <text x="355" y="85" text-anchor="middle" fill="#fff" font-size="9">Functions</text>
                            
                            <path d="M 405 70 L 440 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Cosmos -->
                            <rect x="445" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#10B981" stroke-width="2"/>
                            <text x="490" y="68" text-anchor="middle" fill="#10B981" font-size="14">üåç</text>
                            <text x="490" y="85" text-anchor="middle" fill="#fff" font-size="9">Cosmos DB</text>
                            
                            <path d="M 540 70 L 575 70" stroke="#818CF8" stroke-width="2" marker-end="url(#stackArrow)"/>
                            
                            <!-- Event Grid -->
                            <rect x="580" y="45" width="90" height="50" rx="8" fill="#1a1a2e" stroke="#8B5CF6" stroke-width="2"/>
                            <text x="625" y="68" text-anchor="middle" fill="#8B5CF6" font-size="14">üì°</text>
                            <text x="625" y="85" text-anchor="middle" fill="#fff" font-size="9">Event Grid</text>
                        </svg>
                    </div>
                    <div class="stack-benefits">
                        <span class="benefit">‚úì Kafka compat</span>
                        <span class="benefit">‚úì Global distrib</span>
                        <span class="benefit">‚úì AD integration</span>
                        <span class="benefit">‚úì Hybrid ready</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- UNDERSTANDING -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üìñ</div>
                <div class="module-info">
                    <h2>Understanding Event-Driven Architecture</h2>
                    <p>Events as first-class citizens</p>
                </div>
            </div>

            <div class="content-block">
                <h3>What Is Event-Driven Architecture?</h3>
                <p><strong>Event-Driven Architecture (EDA)</strong> is a design paradigm where services communicate by producing and consuming events. An event represents a fact‚Äîsomething that happened‚Äîlike "OrderPlaced", "PaymentReceived", or "InventoryUpdated".</p>
                <p>Unlike request/response patterns where Service A calls Service B and waits, in EDA, Service A publishes an event and moves on. Service B (and C, D, E...) subscribe to events they care about and react accordingly. This decouples services in time and space.</p>
            </div>

            <!-- Event Flow Complexity Levels -->
            <div class="flow-complexity">
                <div class="flow-level">
                    <div class="flow-level-header">
                        <span class="flow-level-badge simple">Simple</span>
                        <span class="flow-level-title">Point-to-Point</span>
                    </div>
                    <div class="flow-level-diagram">
                        <div class="flow-node producer">üì§ Order Service</div>
                        <div class="flow-connector">‚Üí</div>
                        <div class="flow-node broker-small">Kafka</div>
                        <div class="flow-connector">‚Üí</div>
                        <div class="flow-node consumer">üì• Email Service</div>
                    </div>
                    <div class="flow-level-desc">Single producer, single consumer. Good for simple notifications.</div>
                </div>
                
                <div class="flow-level">
                    <div class="flow-level-header">
                        <span class="flow-level-badge medium">Medium</span>
                        <span class="flow-level-title">Fan-Out Pattern</span>
                    </div>
                    <div class="flow-level-diagram">
                        <div class="flow-node producer">üì§ Order Service</div>
                        <div class="flow-connector">‚Üí</div>
                        <div class="flow-node broker-small">Kafka</div>
                        <div class="flow-fan">
                            <div class="flow-connector">‚Üí</div>
                            <div class="flow-connector">‚Üí</div>
                            <div class="flow-connector">‚Üí</div>
                        </div>
                        <div class="flow-consumers">
                            <div class="flow-node consumer-sm">üì• Email</div>
                            <div class="flow-node consumer-sm">üìä Analytics</div>
                            <div class="flow-node consumer-sm">üì¶ Inventory</div>
                        </div>
                    </div>
                    <div class="flow-level-desc">One event triggers multiple consumers. Each processes independently.</div>
                </div>
                
                <div class="flow-level">
                    <div class="flow-level-header">
                        <span class="flow-level-badge complex">Complex</span>
                        <span class="flow-level-title">Event Choreography</span>
                    </div>
                    <div class="flow-level-diagram-complex">
                        <svg viewBox="0 0 600 120" class="flow-svg">
                            <!-- Nodes -->
                            <rect x="10" y="45" width="80" height="35" rx="6" fill="#1a1a2e" stroke="#10B981" stroke-width="2"/>
                            <text x="50" y="67" text-anchor="middle" fill="#10B981" font-size="10">Order Svc</text>
                            
                            <rect x="140" y="45" width="70" height="35" rx="6" fill="#1a1a2e" stroke="#EF4444" stroke-width="2"/>
                            <text x="175" y="67" text-anchor="middle" fill="#EF4444" font-size="10">Kafka</text>
                            
                            <rect x="260" y="10" width="80" height="30" rx="6" fill="#1a1a2e" stroke="#06B6D4" stroke-width="2"/>
                            <text x="300" y="30" text-anchor="middle" fill="#06B6D4" font-size="9">Payment</text>
                            
                            <rect x="260" y="50" width="80" height="30" rx="6" fill="#1a1a2e" stroke="#06B6D4" stroke-width="2"/>
                            <text x="300" y="70" text-anchor="middle" fill="#06B6D4" font-size="9">Inventory</text>
                            
                            <rect x="260" y="90" width="80" height="30" rx="6" fill="#1a1a2e" stroke="#06B6D4" stroke-width="2"/>
                            <text x="300" y="110" text-anchor="middle" fill="#06B6D4" font-size="9">Shipping</text>
                            
                            <rect x="390" y="45" width="70" height="35" rx="6" fill="#1a1a2e" stroke="#EF4444" stroke-width="2"/>
                            <text x="425" y="67" text-anchor="middle" fill="#EF4444" font-size="10">Kafka</text>
                            
                            <rect x="510" y="45" width="80" height="35" rx="6" fill="#1a1a2e" stroke="#F59E0B" stroke-width="2"/>
                            <text x="550" y="67" text-anchor="middle" fill="#F59E0B" font-size="10">Saga Coord</text>
                            
                            <!-- Arrows -->
                            <path d="M 90 62 L 140 62" stroke="#818CF8" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <path d="M 210 55 L 260 25" stroke="#818CF8" stroke-width="1.5"/>
                            <path d="M 210 62 L 260 65" stroke="#818CF8" stroke-width="1.5"/>
                            <path d="M 210 70 L 260 105" stroke="#818CF8" stroke-width="1.5"/>
                            <path d="M 340 25 L 390 55" stroke="#818CF8" stroke-width="1.5"/>
                            <path d="M 340 65 L 390 62" stroke="#818CF8" stroke-width="1.5"/>
                            <path d="M 340 105 L 390 70" stroke="#818CF8" stroke-width="1.5"/>
                            <path d="M 460 62 L 510 62" stroke="#818CF8" stroke-width="2"/>
                            
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#818CF8"/>
                                </marker>
                            </defs>
                        </svg>
                    </div>
                    <div class="flow-level-desc">Multiple services react to events and publish their own. Saga coordinator manages distributed transaction.</div>
                </div>
            </div>

            <div class="two-col">
                <div class="info-box">
                    <h4>Key Concepts</h4>
                    <ul class="info-list">
                        <li><strong>Event:</strong> Immutable record of something that happened (past tense)</li>
                        <li><strong>Producer:</strong> Service that detects state change and publishes event</li>
                        <li><strong>Consumer:</strong> Service that subscribes to and processes events</li>
                        <li><strong>Broker:</strong> Infrastructure that routes events (Kafka, RabbitMQ)</li>
                        <li><strong>Topic/Channel:</strong> Named stream of related events</li>
                    </ul>
                </div>
                <div class="info-box">
                    <h4>Benefits</h4>
                    <ul class="info-list">
                        <li><strong>Loose coupling:</strong> Producers don't know about consumers</li>
                        <li><strong>Scalability:</strong> Add consumers without changing producers</li>
                        <li><strong>Resilience:</strong> Services can be temporarily unavailable</li>
                        <li><strong>Real-time:</strong> React to events as they happen</li>
                        <li><strong>Audit trail:</strong> Events provide natural history</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- MESSAGING PATTERNS -->
        <section class="module" id="patterns">
            <div class="module-header">
                <div class="module-icon">üîÑ</div>
                <div class="module-info">
                    <h2>Messaging Patterns</h2>
                    <p>Common patterns in event-driven systems</p>
                </div>
            </div>

            <div class="pattern-grid">
                <div class="pattern-card">
                    <div class="pattern-header">
                        <div class="pattern-icon">üì°</div>
                        <div class="pattern-name">Publish/Subscribe (Pub/Sub)</div>
                    </div>
                    <div class="pattern-desc">Producer publishes to a topic, all subscribers receive a copy. One-to-many broadcast. Great for notifications, updates, and fan-out scenarios.</div>
                    <div class="pattern-tags">
                        <span class="pattern-tag">Fan-out</span>
                        <span class="pattern-tag">Notifications</span>
                        <span class="pattern-tag">Broadcast</span>
                    </div>
                </div>
                <div class="pattern-card">
                    <div class="pattern-header">
                        <div class="pattern-icon">üì¨</div>
                        <div class="pattern-name">Point-to-Point (Queue)</div>
                    </div>
                    <div class="pattern-desc">Messages sent to a queue, only one consumer processes each message. Load balancing built-in. Good for work distribution and task processing.</div>
                    <div class="pattern-tags">
                        <span class="pattern-tag">Load Balance</span>
                        <span class="pattern-tag">Task Queue</span>
                        <span class="pattern-tag">Competing Consumers</span>
                    </div>
                </div>
                <div class="pattern-card">
                    <div class="pattern-header">
                        <div class="pattern-icon">üìä</div>
                        <div class="pattern-name">Event Streaming</div>
                    </div>
                    <div class="pattern-desc">Events stored in an ordered, immutable log. Consumers read from any position. Enables replay, reprocessing, and multiple consumption patterns.</div>
                    <div class="pattern-tags">
                        <span class="pattern-tag">Kafka</span>
                        <span class="pattern-tag">Replay</span>
                        <span class="pattern-tag">Log-based</span>
                    </div>
                </div>
                <div class="pattern-card">
                    <div class="pattern-header">
                        <div class="pattern-icon">üîÑ</div>
                        <div class="pattern-name">Request/Reply Async</div>
                    </div>
                    <div class="pattern-desc">Request via message, reply on separate channel with correlation ID. Decouples while preserving request/reply semantics.</div>
                    <div class="pattern-tags">
                        <span class="pattern-tag">Correlation ID</span>
                        <span class="pattern-tag">Reply Queue</span>
                        <span class="pattern-tag">Async RPC</span>
                    </div>
                </div>
                <div class="pattern-card">
                    <div class="pattern-header">
                        <div class="pattern-icon">üé≠</div>
                        <div class="pattern-name">Saga (Orchestration)</div>
                    </div>
                    <div class="pattern-desc">Central orchestrator coordinates multi-step transactions across services. Sends commands, handles responses, manages compensations.</div>
                    <div class="pattern-tags">
                        <span class="pattern-tag">Distributed Tx</span>
                        <span class="pattern-tag">Compensation</span>
                        <span class="pattern-tag">Workflow</span>
                    </div>
                </div>
                <div class="pattern-card">
                    <div class="pattern-header">
                        <div class="pattern-icon">üíÉ</div>
                        <div class="pattern-name">Saga (Choreography)</div>
                    </div>
                    <div class="pattern-desc">No central coordinator‚Äîeach service reacts to events and publishes new ones. Workflow emerges from service interactions.</div>
                    <div class="pattern-tags">
                        <span class="pattern-tag">Decentralized</span>
                        <span class="pattern-tag">Event Chain</span>
                        <span class="pattern-tag">Reactive</span>
                    </div>
                </div>
            </div>

            <div class="content-block">
                <h3>Event Types</h3>
                <p><strong>Domain Events:</strong> Business-meaningful occurrences like OrderPlaced, CustomerRegistered, PaymentFailed. Named in past tense, immutable, part of ubiquitous language.</p>
                <p><strong>Integration Events:</strong> Events shared between bounded contexts/services. Carefully designed contracts that cross team boundaries.</p>
                <p><strong>Commands:</strong> Requests to do something (future tense): CreateOrder, ProcessPayment. Unlike events, commands can be rejected.</p>
            </div>
        </section>

        <!-- PLATFORMS -->
        <section class="module" id="platforms">
            <div class="module-header">
                <div class="module-icon">üõ†Ô∏è</div>
                <div class="module-info">
                    <h2>Event Platforms</h2>
                    <p>Message brokers and streaming platforms</p>
                </div>
            </div>

            <div class="platform-grid">
                <div class="platform-card">
                    <div class="platform-logo">üìä</div>
                    <div class="platform-name">Apache Kafka</div>
                    <div class="platform-type">Event Streaming</div>
                    <div class="platform-desc">Distributed streaming platform. High throughput, durable storage, replay capability. De facto standard for event streaming.</div>
                </div>
                <div class="platform-card">
                    <div class="platform-logo">üê∞</div>
                    <div class="platform-name">RabbitMQ</div>
                    <div class="platform-type">Message Broker</div>
                    <div class="platform-desc">Traditional message broker. Rich routing, multiple protocols (AMQP, MQTT). Great for complex routing patterns.</div>
                </div>
                <div class="platform-card">
                    <div class="platform-logo">‚òÅÔ∏è</div>
                    <div class="platform-name">AWS Kinesis</div>
                    <div class="platform-type">Cloud Streaming</div>
                    <div class="platform-desc">Managed streaming service. Integrates with AWS ecosystem. Good for real-time analytics and data pipelines.</div>
                </div>
                <div class="platform-card">
                    <div class="platform-logo">üî∑</div>
                    <div class="platform-name">Azure Event Hubs</div>
                    <div class="platform-type">Cloud Streaming</div>
                    <div class="platform-desc">Big data streaming platform. Kafka-compatible API. Native Azure integration.</div>
                </div>
                <div class="platform-card">
                    <div class="platform-logo">üåê</div>
                    <div class="platform-name">Google Pub/Sub</div>
                    <div class="platform-type">Cloud Messaging</div>
                    <div class="platform-desc">Fully managed messaging. Global scale, exactly-once delivery. Integrates with GCP services.</div>
                </div>
                <div class="platform-card">
                    <div class="platform-logo">‚ö°</div>
                    <div class="platform-name">Apache Pulsar</div>
                    <div class="platform-type">Event Streaming</div>
                    <div class="platform-desc">Multi-tenant, geo-replicated. Unified queuing and streaming. Growing Kafka alternative.</div>
                </div>
            </div>
        </section>

        <!-- COMPARISON -->
        <section class="module" id="comparison">
            <div class="module-header">
                <div class="module-icon">‚öñÔ∏è</div>
                <div class="module-info">
                    <h2>Platform Comparison</h2>
                    <p>Choosing the right event infrastructure</p>
                </div>
            </div>

            <div class="table-wrapper">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>Kafka</th>
                            <th>RabbitMQ</th>
                            <th>Cloud Managed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Model</td><td>Log-based streaming</td><td>Message broker</td><td>Varies by service</td></tr>
                        <tr><td>Throughput</td><td>Millions/sec</td><td>Tens of thousands/sec</td><td>High (managed scaling)</td></tr>
                        <tr><td>Message retention</td><td>Configurable (days/forever)</td><td>Until consumed</td><td>Configurable</td></tr>
                        <tr><td>Replay capability</td><td>Yes (core feature)</td><td>No (once consumed)</td><td>Varies</td></tr>
                        <tr><td>Ordering</td><td>Per partition</td><td>Per queue</td><td>Varies</td></tr>
                        <tr><td>Routing</td><td>Topic-based</td><td>Rich (exchanges, bindings)</td><td>Topic-based typically</td></tr>
                        <tr><td>Exactly-once</td><td>Yes (with config)</td><td>No (at-least-once)</td><td>Some support</td></tr>
                        <tr><td>Operations</td><td>Complex (ZooKeeper/KRaft)</td><td>Moderate</td><td>Managed</td></tr>
                        <tr><td>Best for</td><td>High-volume streaming</td><td>Complex routing, RPC</td><td>Quick start, less ops</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- BEST PRACTICES -->
        <section class="module" id="practices">
            <div class="module-header">
                <div class="module-icon">‚úÖ</div>
                <div class="module-info">
                    <h2>Best Practices</h2>
                    <p>Building reliable event-driven systems</p>
                </div>
            </div>

            <div class="bp-grid">
                <div class="bp-card do">
                    <div class="bp-title">‚úì Do</div>
                    <ul class="bp-list">
                        <li><span class="icon">‚úì</span> Design idempotent consumers‚Äîhandle duplicate events gracefully</li>
                        <li><span class="icon">‚úì</span> Use schemas (Avro, Protobuf) and schema registry for contracts</li>
                        <li><span class="icon">‚úì</span> Include correlation IDs for distributed tracing</li>
                        <li><span class="icon">‚úì</span> Plan for out-of-order events with timestamps and versions</li>
                        <li><span class="icon">‚úì</span> Implement dead letter queues for failed processing</li>
                        <li><span class="icon">‚úì</span> Monitor consumer lag and processing times</li>
                        <li><span class="icon">‚úì</span> Version your schemas for backward compatibility</li>
                        <li><span class="icon">‚úì</span> Use event sourcing for audit trails and replay</li>
                    </ul>
                </div>
                <div class="bp-card dont">
                    <div class="bp-title">‚úó Don't</div>
                    <ul class="bp-list">
                        <li><span class="icon">‚úó</span> Put large payloads in events‚Äîuse references instead</li>
                        <li><span class="icon">‚úó</span> Create tight coupling via event contents</li>
                        <li><span class="icon">‚úó</span> Ignore backpressure‚Äîconsumers must handle load spikes</li>
                        <li><span class="icon">‚úó</span> Assume ordered delivery across partitions</li>
                        <li><span class="icon">‚úó</span> Make breaking schema changes without versioning</li>
                        <li><span class="icon">‚úó</span> Use events when sync request/response is better</li>
                        <li><span class="icon">‚úó</span> Forget to handle poison messages gracefully</li>
                        <li><span class="icon">‚úó</span> Skip schema validation on producers and consumers</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- AGENT THIS -->
        <section class="module" id="agent">
            <div class="module-header">
                <div class="module-icon">ü§ñ</div>
                <div class="module-info">
                    <h2>Agent This</h2>
                    <p>AI-powered event architecture design</p>
                </div>
            </div>

            <div class="agent-grid">
                <div class="agent-info">
                    <div class="agent-avatar">‚ö°</div>
                    <div class="agent-name">EventArchitect</div>
                    <div class="agent-role">Event-Driven Systems Designer</div>
                    <div class="agent-desc">Designs event-driven architectures, defines event schemas, and recommends messaging patterns. Analyzes domain events, plans event flows, and selects appropriate platforms.</div>
                    <ul class="agent-caps">
                        <li><span class="icon">‚ú¶</span> Event schema design</li>
                        <li><span class="icon">‚ú¶</span> Messaging pattern selection</li>
                        <li><span class="icon">‚ú¶</span> Platform recommendations</li>
                        <li><span class="icon">‚ú¶</span> Saga pattern design</li>
                        <li><span class="icon">‚ú¶</span> Consumer group strategy</li>
                        <li><span class="icon">‚ú¶</span> Schema evolution planning</li>
                    </ul>
                </div>
                <div class="code-panel">
                    <div class="code-header">
                        <div class="code-tab active">Event Designer</div>
                        <div class="code-filename">event_architect.py</div>
                    </div>
                    <div class="code-content">
                        <pre><span class="code-comment"># event_architect.py</span>
<span class="code-keyword">from</span> dataclasses <span class="code-keyword">import</span> dataclass
<span class="code-keyword">from</span> datetime <span class="code-keyword">import</span> datetime
<span class="code-keyword">import</span> uuid

<span class="code-keyword">@dataclass</span>
<span class="code-keyword">class</span> <span class="code-function">DomainEvent</span>:
    <span class="code-string">"""Base class for domain events."""</span>
    event_id: str = field(default_factory=
        <span class="code-keyword">lambda</span>: str(uuid.uuid4()))
    timestamp: datetime = field(default_factory=
        datetime.utcnow)
    correlation_id: str = <span class="code-keyword">None</span>
    
<span class="code-keyword">@dataclass</span>
<span class="code-keyword">class</span> <span class="code-function">OrderPlaced</span>(DomainEvent):
    <span class="code-string">"""Event: Customer placed an order."""</span>
    order_id: str
    customer_id: str
    total_amount: float
    items: list

<span class="code-keyword">class</span> <span class="code-function">EventArchitect</span>:
    <span class="code-keyword">def</span> <span class="code-function">recommend_pattern</span>(self, req: dict):
        <span class="code-keyword">if</span> req[<span class="code-string">"needs_replay"</span>]:
            <span class="code-keyword">return</span> <span class="code-string">"event_streaming"</span>
        <span class="code-keyword">if</span> req[<span class="code-string">"complex_routing"</span>]:
            <span class="code-keyword">return</span> <span class="code-string">"message_broker"</span>
        <span class="code-keyword">return</span> <span class="code-string">"pub_sub"</span></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- RELATED PAGES -->
        <section class="module" id="related">
            <div class="module-header">
                <div class="module-icon">üîó</div>
                <div class="module-info">
                    <h2>Related Pages</h2>
                    <p>Continue exploring architecture patterns</p>
                </div>
            </div>

            <div class="related-grid">
                <a href="cat09-p1-microservices.html" class="related-card">
                    <div class="related-num">Page 9.1</div>
                    <div class="related-title">Microservices Architecture</div>
                    <div class="related-desc">Service decomposition and communication</div>
                </a>
                <a href="cat09-p6-cqrs-eventsourcing.html" class="related-card">
                    <div class="related-num">Page 9.6</div>
                    <div class="related-title">CQRS & Event Sourcing</div>
                    <div class="related-desc">Events as the source of truth</div>
                </a>
                <a href="cat09-p3-data-mesh.html" class="related-card">
                    <div class="related-num">Page 9.3</div>
                    <div class="related-title">Data Mesh</div>
                    <div class="related-desc">Domain-oriented data architecture</div>
                </a>
            </div>
        </section>

    </div>
</div>

<footer>
    <div class="footer-nav">
        <a href="cat09-p1-microservices.html" class="footer-link">
            <span>‚Üê</span>
            <div>
                <div class="footer-link-label">Previous Page</div>
                <div class="footer-link-title">9.1: Microservices</div>
            </div>
        </a>
        <div class="footer-brand"><span>STRATEGY</span>HUB ‚Ä¢ Page 9.2</div>
        <a href="cat09-p3-data-mesh.html" class="footer-link">
            <div>
                <div class="footer-link-label">Next Page</div>
                <div class="footer-link-title">9.3: Data Mesh</div>
            </div>
            <span>‚Üí</span>
        </a>
    </div>
</footer>

</body>
</html>
