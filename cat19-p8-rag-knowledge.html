<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG & Knowledge Systems | Emerging Technologies | Strategy Hub</title>
    <style>
        :root {
            --brand-orange: #FF9900;
            --page-primary: #10B981;
            --page-light: #34D399;
            --page-glow: rgba(16, 185, 129, 0.15);
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --bg-card-alt: #1a1a2e;
            --bg-hover: #252538;
            --border-color: #2a2a3e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6a6a7a;
            --green: #10B981;
            --yellow: #F59E0B;
            --red: #EF4444;
            --blue: #3B82F6;
            --purple: #8B5CF6;
            --sidebar-width: 280px;
            --header-height: 60px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-dark); color: var(--text-primary); line-height: 1.6; }
        header { background: var(--bg-card); border-bottom: 1px solid var(--border-color); padding: 0 32px; position: fixed; top: 0; left: 0; right: 0; z-index: 1000; height: var(--header-height); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 20px; font-weight: 700; text-decoration: none; color: inherit; }
        .logo span { color: var(--brand-orange); }
        .header-tagline { font-size: 13px; color: var(--text-muted); }
        .sidebar { position: fixed; top: var(--header-height); left: 0; width: var(--sidebar-width); height: calc(100vh - var(--header-height)); background: var(--bg-card); border-right: 1px solid var(--border-color); overflow-y: auto; z-index: 100; padding: 24px 0; }
        .sidebar-section { margin-bottom: 28px; }
        .sidebar-title { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--page-light); padding: 0 24px; margin-bottom: 12px; font-weight: 600; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav a { display: flex; align-items: center; gap: 10px; padding: 10px 24px; color: var(--text-secondary); text-decoration: none; font-size: 13px; border-left: 3px solid transparent; transition: all 0.2s; }
        .sidebar-nav a:hover { background: var(--bg-hover); color: var(--text-primary); }
        .sidebar-nav a.active { background: var(--page-glow); color: var(--page-light); border-left-color: var(--page-light); }
        .nav-icon { width: 24px; text-align: center; }
        .main-wrapper { margin-left: var(--sidebar-width); margin-top: var(--header-height); }
        .main-content { max-width: 1200px; padding: 32px; }

        .hero-compact { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; margin-bottom: 32px; align-items: center; }
        .hero-tag { display: inline-flex; align-items: center; gap: 8px; background: var(--page-glow); border: 1px solid var(--page-primary); padding: 6px 14px; border-radius: 9999px; font-size: 12px; color: var(--page-light); margin-bottom: 16px; }
        .hero-left h1 { font-size: 32px; font-weight: 700; margin-bottom: 12px; }
        .hero-left > p { font-size: 15px; color: var(--text-secondary); line-height: 1.7; }
        .hero-metrics { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .hero-metric { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; text-align: center; }
        .hero-metric-value { font-size: 28px; font-weight: 700; color: var(--page-light); }
        .hero-metric-label { font-size: 11px; color: var(--text-muted); margin-top: 4px; }

        .module { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; padding: 28px; margin-bottom: 24px; }
        .module-header { display: flex; align-items: flex-start; gap: 16px; margin-bottom: 24px; }
        .module-icon { width: 48px; height: 48px; background: var(--page-glow); border: 2px solid var(--page-primary); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px; flex-shrink: 0; }
        .module-info h2 { font-size: 20px; font-weight: 600; margin-bottom: 4px; }
        .module-info p { font-size: 13px; color: var(--text-secondary); }

        .overview-content { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px; }
        .overview-content h3 { font-size: 15px; font-weight: 600; margin-bottom: 12px; color: var(--page-light); }
        .overview-content p { font-size: 14px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 12px; }
        .overview-content ul { list-style: none; margin-bottom: 12px; }
        .overview-content li { font-size: 14px; color: var(--text-secondary); padding: 4px 0; padding-left: 20px; position: relative; }
        .overview-content li::before { content: '‚Ä¢'; position: absolute; left: 0; color: var(--page-light); }
        .overview-content strong { color: var(--text-primary); }
        .overview-full { grid-column: 1 / -1; }

        .comparison-table { width: 100%; border-collapse: collapse; margin-bottom: 24px; }
        .comparison-table th, .comparison-table td { padding: 14px 16px; text-align: left; border-bottom: 1px solid var(--border-color); font-size: 13px; }
        .comparison-table th { background: var(--bg-dark); color: var(--text-primary); font-weight: 600; }
        .comparison-table td { color: var(--text-secondary); }
        .comparison-table tr:hover td { background: var(--bg-hover); }
        .table-highlight { color: var(--page-light) !important; font-weight: 600; }

        .sw-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px; }
        .sw-card { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .sw-title { font-size: 14px; font-weight: 600; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .sw-title.green { color: var(--green); }
        .sw-title.yellow { color: var(--yellow); }
        .sw-list { list-style: none; }
        .sw-list li { font-size: 13px; color: var(--text-secondary); padding: 6px 0; padding-left: 16px; position: relative; }
        .sw-card.strengths .sw-list li::before { content: '‚úì'; position: absolute; left: 0; color: var(--green); }
        .sw-card.weaknesses .sw-list li::before { content: '‚ö†'; position: absolute; left: 0; color: var(--yellow); font-size: 11px; }

        .deep-dive { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 24px; overflow: hidden; }
        .deep-header { padding: 20px 24px; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 16px; }
        .deep-icon { font-size: 28px; }
        .deep-title { font-size: 18px; font-weight: 600; }
        .deep-subtitle { font-size: 12px; color: var(--text-muted); }
        .deep-body { padding: 24px; }
        .deep-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
        .deep-section h4 { font-size: 14px; font-weight: 600; margin-bottom: 12px; color: var(--page-light); }
        .deep-section p { font-size: 13px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 12px; }
        .deep-section ul { list-style: none; }
        .deep-section li { font-size: 13px; color: var(--text-secondary); padding: 6px 0; padding-left: 20px; position: relative; }
        .deep-section li::before { content: '‚Üí'; position: absolute; left: 0; color: var(--page-light); }

        /* RAG Stack - Vertical Layers */
        .rag-layers { background: linear-gradient(180deg, var(--bg-dark) 0%, rgba(16, 185, 129, 0.05) 100%); border: 1px solid var(--border-color); border-radius: 16px; padding: 32px; margin-bottom: 24px; }
        .rag-layers-title { font-size: 18px; font-weight: 700; margin-bottom: 8px; color: var(--page-light); text-align: center; }
        .rag-layers-subtitle { font-size: 12px; color: var(--text-muted); text-align: center; margin-bottom: 28px; }
        .rag-stack { display: flex; flex-direction: column; gap: 0; max-width: 700px; margin: 0 auto; }
        .rag-layer { display: grid; grid-template-columns: 120px 1fr; gap: 20px; align-items: center; padding: 20px 24px; position: relative; border-left: 4px solid transparent; }
        .rag-layer:nth-child(1) { background: linear-gradient(90deg, rgba(16, 185, 129, 0.15), transparent); border-left-color: var(--page-primary); border-radius: 12px 12px 0 0; }
        .rag-layer:nth-child(2) { background: linear-gradient(90deg, rgba(59, 130, 246, 0.15), transparent); border-left-color: var(--blue); }
        .rag-layer:nth-child(3) { background: linear-gradient(90deg, rgba(139, 92, 246, 0.15), transparent); border-left-color: var(--purple); }
        .rag-layer:nth-child(4) { background: linear-gradient(90deg, rgba(245, 158, 11, 0.15), transparent); border-left-color: var(--yellow); }
        .rag-layer:nth-child(5) { background: linear-gradient(90deg, rgba(239, 68, 68, 0.15), transparent); border-left-color: var(--red); }
        .rag-layer:nth-child(6) { background: linear-gradient(90deg, rgba(52, 211, 153, 0.15), transparent); border-left-color: var(--page-light); border-radius: 0 0 12px 12px; }
        .rag-layer-left { display: flex; flex-direction: column; align-items: center; gap: 8px; }
        .rag-layer-num { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: 700; color: white; }
        .rag-layer:nth-child(1) .rag-layer-num { background: linear-gradient(135deg, var(--page-primary), var(--page-light)); }
        .rag-layer:nth-child(2) .rag-layer-num { background: linear-gradient(135deg, var(--blue), #60A5FA); }
        .rag-layer:nth-child(3) .rag-layer-num { background: linear-gradient(135deg, var(--purple), #A78BFA); }
        .rag-layer:nth-child(4) .rag-layer-num { background: linear-gradient(135deg, var(--yellow), #FBBF24); }
        .rag-layer:nth-child(5) .rag-layer-num { background: linear-gradient(135deg, var(--red), #F87171); }
        .rag-layer:nth-child(6) .rag-layer-num { background: linear-gradient(135deg, var(--page-light), #6EE7B7); }
        .rag-layer-name { font-size: 14px; font-weight: 600; text-align: center; }
        .rag-layer-right { display: flex; flex-direction: column; gap: 6px; }
        .rag-layer-desc { font-size: 13px; color: var(--text-secondary); line-height: 1.5; }
        .rag-layer-tech { display: flex; flex-wrap: wrap; gap: 6px; }
        .rag-layer-tag { padding: 4px 10px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 6px; font-size: 11px; color: var(--text-muted); }
        .rag-layer-output { font-size: 11px; color: var(--text-muted); margin-top: 4px; }
        .rag-layer-output code { background: var(--bg-dark); padding: 2px 6px; border-radius: 4px; font-family: monospace; }

        /* Query Conversation Flow - Chat Style */
        .query-convo { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 16px; padding: 28px; margin-bottom: 24px; }
        .query-convo-title { font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--page-light); text-align: center; }
        .query-convo-subtitle { font-size: 12px; color: var(--text-muted); text-align: center; margin-bottom: 24px; }
        .convo-flow { display: flex; flex-direction: column; gap: 16px; max-width: 600px; margin: 0 auto; }
        .convo-msg { display: flex; gap: 12px; }
        .convo-msg.user { flex-direction: row; }
        .convo-msg.system { flex-direction: row-reverse; }
        .convo-avatar { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0; }
        .convo-msg.user .convo-avatar { background: linear-gradient(135deg, var(--page-primary), var(--page-light)); }
        .convo-msg.system .convo-avatar { background: linear-gradient(135deg, var(--purple), #A78BFA); }
        .convo-bubble { flex: 1; padding: 14px 18px; border-radius: 16px; position: relative; }
        .convo-msg.user .convo-bubble { background: var(--bg-card); border: 1px solid var(--page-primary); border-bottom-left-radius: 4px; }
        .convo-msg.system .convo-bubble { background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(139, 92, 246, 0.05)); border: 1px solid var(--purple); border-bottom-right-radius: 4px; }
        .convo-label { font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px; }
        .convo-msg.user .convo-label { color: var(--page-light); }
        .convo-msg.system .convo-label { color: var(--purple); text-align: right; }
        .convo-text { font-size: 14px; color: var(--text-primary); line-height: 1.5; }
        .convo-meta { font-size: 11px; color: var(--text-muted); margin-top: 8px; display: flex; gap: 16px; }
        .convo-msg.system .convo-meta { justify-content: flex-end; }
        .convo-divider { display: flex; align-items: center; gap: 12px; padding: 8px 0; }
        .convo-divider-line { flex: 1; height: 1px; background: var(--border-color); }
        .convo-divider-text { font-size: 11px; color: var(--text-muted); padding: 4px 12px; background: var(--bg-card); border-radius: 9999px; }

        /* Semantic Search Explainer */
        .semantic-explainer { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 16px; padding: 28px; margin-bottom: 24px; }
        .semantic-explainer-title { font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--page-light); text-align: center; }
        .semantic-explainer-subtitle { font-size: 12px; color: var(--text-muted); text-align: center; margin-bottom: 24px; }
        .semantic-demo { display: grid; grid-template-columns: 280px 1fr; gap: 24px; align-items: start; }
        .semantic-query-box { background: linear-gradient(135deg, var(--bg-card), var(--page-glow)); border: 2px solid var(--page-primary); border-radius: 12px; padding: 20px; text-align: center; }
        .semantic-query-label { font-size: 11px; color: var(--page-light); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
        .semantic-query-text { font-size: 16px; font-weight: 600; color: var(--text-primary); margin-bottom: 16px; }
        .semantic-query-vector { font-family: monospace; font-size: 10px; color: var(--text-muted); background: var(--bg-dark); padding: 8px; border-radius: 6px; }
        .semantic-results { display: flex; flex-direction: column; gap: 12px; }
        .semantic-result { display: flex; align-items: center; gap: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 14px 18px; transition: all 0.3s; }
        .semantic-result:hover { border-color: var(--page-primary); }
        .semantic-score { min-width: 80px; text-align: center; }
        .semantic-score-bar { height: 6px; background: var(--bg-dark); border-radius: 3px; overflow: hidden; margin-bottom: 4px; }
        .semantic-score-fill { height: 100%; border-radius: 3px; }
        .semantic-score-fill.high { background: linear-gradient(90deg, var(--green), var(--page-light)); }
        .semantic-score-fill.low { background: var(--text-muted); }
        .semantic-score-num { font-size: 11px; font-weight: 600; color: var(--text-secondary); }
        .semantic-doc { flex: 1; }
        .semantic-doc-title { font-size: 13px; font-weight: 600; margin-bottom: 2px; }
        .semantic-doc-note { font-size: 11px; color: var(--text-muted); }
        .semantic-doc-note.match { color: var(--green); }
        .semantic-doc-note.nomatch { color: var(--yellow); }
        .semantic-badge { padding: 4px 10px; border-radius: 9999px; font-size: 10px; font-weight: 600; }
        .semantic-badge.retrieved { background: var(--page-glow); border: 1px solid var(--page-primary); color: var(--page-light); }
        .semantic-badge.missed { background: rgba(245, 158, 11, 0.15); border: 1px solid var(--yellow); color: var(--yellow); }
        .semantic-insight { margin-top: 20px; padding: 16px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1)); border-radius: 10px; display: flex; align-items: center; gap: 12px; }
        .semantic-insight-icon { font-size: 24px; }
        .semantic-insight-text { font-size: 13px; color: var(--text-secondary); line-height: 1.5; }
        .semantic-insight-text strong { color: var(--page-light); }

        /* Chunking Visual */
        .chunk-viz { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 16px; padding: 28px; margin-bottom: 24px; }
        .chunk-viz-title { font-size: 16px; font-weight: 600; margin-bottom: 20px; color: var(--page-light); text-align: center; }
        .chunk-demo { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
        .chunk-example { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .chunk-example-title { font-size: 13px; font-weight: 600; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .chunk-example-title.good { color: var(--green); }
        .chunk-example-title.bad { color: var(--red); }
        .chunk-blocks { display: flex; flex-direction: column; gap: 8px; }
        .chunk-block { padding: 12px; border-radius: 8px; font-size: 11px; line-height: 1.5; font-family: monospace; }
        .chunk-block.c1 { background: rgba(16, 185, 129, 0.2); border-left: 3px solid var(--green); }
        .chunk-block.c2 { background: rgba(59, 130, 246, 0.2); border-left: 3px solid var(--blue); }
        .chunk-block.c3 { background: rgba(139, 92, 246, 0.2); border-left: 3px solid var(--purple); }
        .chunk-block.bad { background: rgba(239, 68, 68, 0.1); border-left: 3px solid var(--red); }
        .chunk-overlap { background: linear-gradient(90deg, rgba(16, 185, 129, 0.2), rgba(59, 130, 246, 0.2)); padding: 4px 8px; font-size: 10px; color: var(--text-muted); border-radius: 4px; margin: -4px 0; }

        /* Hybrid Search Side by Side */
        .hybrid-viz { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 16px; padding: 28px; margin-bottom: 24px; }
        .hybrid-viz-title { font-size: 16px; font-weight: 600; margin-bottom: 20px; color: var(--page-light); text-align: center; }
        .hybrid-compare { display: grid; grid-template-columns: 1fr 80px 1fr; gap: 16px; align-items: start; }
        .hybrid-column { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .hybrid-column-title { font-size: 14px; font-weight: 600; margin-bottom: 16px; text-align: center; }
        .hybrid-column.dense .hybrid-column-title { color: var(--blue); }
        .hybrid-column.sparse .hybrid-column-title { color: var(--yellow); }
        .hybrid-results { display: flex; flex-direction: column; gap: 8px; }
        .hybrid-result { display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: var(--bg-dark); border-radius: 8px; font-size: 12px; }
        .hybrid-rank { width: 20px; height: 20px; background: var(--bg-card-alt); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; }
        .hybrid-merge { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; }
        .hybrid-merge-icon { font-size: 32px; }
        .hybrid-merge-label { font-size: 11px; color: var(--text-muted); text-align: center; }

        /* Evaluation Dashboard */
        .eval-dashboard { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 16px; padding: 28px; margin-bottom: 24px; }
        .eval-dashboard-title { font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--page-light); text-align: center; }
        .eval-dashboard-subtitle { font-size: 12px; color: var(--text-muted); text-align: center; margin-bottom: 24px; }
        .eval-components { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 24px; }
        .eval-component { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; text-align: center; position: relative; overflow: hidden; }
        .eval-component::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
        .eval-component.retrieval::before { background: linear-gradient(90deg, var(--blue), #60A5FA); }
        .eval-component.generation::before { background: linear-gradient(90deg, var(--purple), #A78BFA); }
        .eval-component.overall::before { background: linear-gradient(90deg, var(--page-primary), var(--page-light)); }
        .eval-component-icon { font-size: 32px; margin-bottom: 12px; }
        .eval-component-name { font-size: 14px; font-weight: 600; margin-bottom: 16px; }
        .eval-score { font-size: 36px; font-weight: 700; margin-bottom: 12px; }
        .eval-component.retrieval .eval-score { color: var(--blue); }
        .eval-component.generation .eval-score { color: var(--purple); }
        .eval-component.overall .eval-score { color: var(--page-light); }
        .eval-metrics { display: flex; flex-direction: column; gap: 8px; text-align: left; }
        .eval-metric { display: flex; justify-content: space-between; font-size: 12px; padding: 6px 0; border-bottom: 1px solid var(--border-color); }
        .eval-metric:last-child { border-bottom: none; }
        .eval-metric-name { color: var(--text-secondary); }
        .eval-metric-value { font-weight: 600; }
        .eval-metric-value.good { color: var(--green); }
        .eval-metric-value.warn { color: var(--yellow); }
        .eval-failure-modes { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
        .eval-failure { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 16px; display: flex; gap: 12px; }
        .eval-failure-icon { font-size: 24px; }
        .eval-failure-info { flex: 1; }
        .eval-failure-title { font-size: 13px; font-weight: 600; margin-bottom: 4px; }
        .eval-failure-desc { font-size: 11px; color: var(--text-muted); line-height: 1.4; }
        .eval-failure-action { font-size: 11px; color: var(--page-light); margin-top: 6px; }

        .tool-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px; }
        .tool-card { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; transition: all 0.3s; }
        .tool-card:hover { border-color: var(--page-primary); }
        .tool-card.featured { border-color: var(--page-primary); background: linear-gradient(135deg, var(--bg-dark), var(--page-glow)); }
        .tool-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }
        .tool-name { font-size: 15px; font-weight: 600; }
        .tool-vendor { font-size: 11px; color: var(--text-muted); }
        .tool-badge { padding: 4px 10px; background: var(--page-glow); border: 1px solid var(--page-primary); border-radius: 9999px; font-size: 11px; color: var(--page-light); font-weight: 600; }
        .tool-desc { font-size: 12px; color: var(--text-secondary); margin-bottom: 12px; line-height: 1.5; }
        .tool-features { font-size: 11px; color: var(--text-muted); }

        .strategy-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px; }
        .strategy-card { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .strategy-icon { font-size: 24px; margin-bottom: 12px; }
        .strategy-title { font-size: 15px; font-weight: 600; margin-bottom: 8px; }
        .strategy-desc { font-size: 13px; color: var(--text-secondary); line-height: 1.5; margin-bottom: 12px; }
        .strategy-when { font-size: 12px; color: var(--text-muted); }

        .practices-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px; }
        .practice-card { display: flex; gap: 16px; padding: 20px; background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; }
        .practice-num { width: 32px; height: 32px; background: var(--page-glow); border: 1px solid var(--page-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; color: var(--page-light); flex-shrink: 0; }
        .practice-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
        .practice-desc { font-size: 12px; color: var(--text-secondary); line-height: 1.5; }

        .pitfall-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px; }
        .pitfall-card { background: var(--bg-dark); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 12px; padding: 20px; }
        .pitfall-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
        .pitfall-icon { font-size: 20px; }
        .pitfall-title { font-size: 14px; font-weight: 600; color: var(--red); }
        .pitfall-desc { font-size: 13px; color: var(--text-secondary); line-height: 1.5; margin-bottom: 8px; }
        .pitfall-fix { font-size: 12px; color: var(--green); }

        .agent-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
        .agent-info h3 { font-size: 18px; font-weight: 600; margin-bottom: 12px; color: var(--page-light); }
        .agent-info > p { font-size: 14px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 20px; }
        .agent-capabilities { display: flex; flex-direction: column; gap: 10px; }
        .agent-capability { display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 8px; font-size: 13px; color: var(--text-secondary); }
        .capability-icon { font-size: 18px; }
        .agent-code { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; }
        .code-header { background: var(--bg-card-alt); padding: 12px 16px; font-size: 12px; font-weight: 600; border-bottom: 1px solid var(--border-color); font-family: monospace; color: var(--text-muted); }
        .code-content { padding: 20px; font-family: 'Monaco', 'Menlo', monospace; font-size: 12px; line-height: 1.6; overflow-x: auto; color: var(--text-secondary); }
        .ck { color: #FF7B72; }
        .cs { color: #A5D6FF; }
        .cf { color: #79C0FF; }

        .related-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .related-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; text-decoration: none; color: inherit; transition: all 0.2s; }
        .related-card:hover { border-color: var(--page-primary); transform: translateY(-2px); }
        .related-icon { font-size: 24px; margin-bottom: 12px; }
        .related-title { font-size: 14px; font-weight: 600; margin-bottom: 6px; }
        .related-desc { font-size: 12px; color: var(--text-secondary); }

        footer { background: var(--bg-card); border-top: 1px solid var(--border-color); padding: 24px 32px; margin-left: var(--sidebar-width); }
        .footer-nav { display: flex; justify-content: space-between; align-items: center; }
        .footer-link { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-secondary); padding: 12px 20px; background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 12px; }
        .footer-link:hover { border-color: var(--page-primary); color: var(--text-primary); }
        .footer-link-label { font-size: 11px; color: var(--text-muted); }
        .footer-link-title { font-size: 13px; font-weight: 600; }
        .footer-brand { font-size: 13px; color: var(--text-muted); }
        .footer-brand span { color: var(--brand-orange); }

        @media (max-width: 1024px) {
            .sidebar { display: none; }
            .main-wrapper { margin-left: 0; }
            footer { margin-left: 0; }
            .hero-compact, .overview-content, .sw-grid, .deep-grid, .agent-grid, .semantic-demo { grid-template-columns: 1fr; }
            .tool-grid, .strategy-grid, .practices-grid, .pitfall-grid, .related-grid, .chunk-demo, .hybrid-compare, .eval-components, .eval-failure-modes { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="logo"><span>STRATEGY</span>HUB</a>
    <div class="header-tagline">Enterprise Technology Knowledge Base</div>
</header>

<aside class="sidebar">
    <div class="sidebar-section">
        <div class="sidebar-title">üöÄ Category 19</div>
        <ul class="sidebar-nav">
            <li><a href="cat19-emerging-technologies-overview.html"><span class="nav-icon">üè†</span> Overview</a></li>
            <li><a href="cat19-p1-foundation-models.html"><span class="nav-icon">üß†</span> 19.1 Foundation Models</a></li>
            <li><a href="cat19-p2-agentic-ai.html"><span class="nav-icon">ü§ñ</span> 19.2 Agentic AI</a></li>
            <li><a href="cat19-p3-multimodal-ai.html"><span class="nav-icon">üé®</span> 19.3 Multimodal AI</a></li>
            <li><a href="cat19-p4-ai-coding.html"><span class="nav-icon">üíª</span> 19.4 AI Coding Tools</a></li>
            <li><a href="cat19-p5-edge-ai.html"><span class="nav-icon">üì±</span> 19.5 Edge & On-Device</a></li>
            <li><a href="cat19-p6-ai-infrastructure.html"><span class="nav-icon">üñ•Ô∏è</span> 19.6 AI Infrastructure</a></li>
            <li><a href="cat19-p7-ai-safety.html"><span class="nav-icon">üõ°Ô∏è</span> 19.7 AI Safety & Governance</a></li>
            <li><a href="cat19-p8-rag-knowledge.html" class="active"><span class="nav-icon">üìö</span> 19.8 RAG & Knowledge</a></li>
            <li><a href="cat19-p9-observability.html"><span class="nav-icon">üìä</span> 19.9 Observability & Evals</a></li>
            <li><a href="cat19-p10-enterprise-adoption.html"><span class="nav-icon">üè¢</span> 19.10 Enterprise Adoption</a></li>
        </ul>
    </div>
    <div class="sidebar-section">
        <div class="sidebar-title">üìë On This Page</div>
        <ul class="sidebar-nav">
            <li><a href="#overview"><span class="nav-icon">üí°</span> Overview</a></li>
            <li><a href="#architecture"><span class="nav-icon">üèóÔ∏è</span> RAG Architecture</a></li>
            <li><a href="#embeddings"><span class="nav-icon">üî¢</span> Embeddings</a></li>
            <li><a href="#vectordbs"><span class="nav-icon">üóÑÔ∏è</span> Vector Databases</a></li>
            <li><a href="#chunking"><span class="nav-icon">‚úÇÔ∏è</span> Chunking</a></li>
            <li><a href="#retrieval"><span class="nav-icon">üîç</span> Retrieval Methods</a></li>
            <li><a href="#advanced"><span class="nav-icon">üöÄ</span> Advanced RAG</a></li>
            <li><a href="#frameworks"><span class="nav-icon">üõ†Ô∏è</span> Frameworks</a></li>
            <li><a href="#evaluation"><span class="nav-icon">üìä</span> Evaluation</a></li>
            <li><a href="#pitfalls"><span class="nav-icon">‚ö†Ô∏è</span> Common Pitfalls</a></li>
            <li><a href="#practices"><span class="nav-icon">‚úÖ</span> Best Practices</a></li>
            <li><a href="#agent"><span class="nav-icon">ü§ñ</span> Agent This</a></li>
        </ul>
    </div>
</aside>

<div class="main-wrapper">
    <div class="main-content">

        <!-- Hero -->
        <section class="hero-compact">
            <div class="hero-left">
                <span class="hero-tag">üìö Page 19.8</span>
                <h1>RAG & Knowledge Systems</h1>
                <p>Retrieval-Augmented Generation connects LLMs to your data. Ground AI responses in facts, reduce hallucinations, and build intelligent systems that know your business‚Äîwithout expensive fine-tuning or retraining models.</p>
            </div>
            <div class="hero-metrics">
                <div class="hero-metric"><div class="hero-metric-value">~50%</div><div class="hero-metric-label">Hallucination Reduction</div></div>
                <div class="hero-metric"><div class="hero-metric-value">No Training</div><div class="hero-metric-label">Update Knowledge Instantly</div></div>
                <div class="hero-metric"><div class="hero-metric-value">$0.0001</div><div class="hero-metric-label">Cost per Embedding</div></div>
                <div class="hero-metric"><div class="hero-metric-value">~100ms</div><div class="hero-metric-label">Vector Search Latency</div></div>
            </div>
        </section>

        <!-- Overview -->
        <section class="module" id="overview">
            <div class="module-header">
                <div class="module-icon">üí°</div>
                <div class="module-info">
                    <h2>Overview</h2>
                    <p>Understanding RAG and knowledge systems</p>
                </div>
            </div>

            <div class="overview-content">
                <div>
                    <h3>What is RAG?</h3>
                    <p><strong>Retrieval-Augmented Generation (RAG)</strong> is a technique that enhances LLM responses by retrieving relevant information from external knowledge sources before generating an answer. Instead of relying solely on training data, RAG systems search your documents, databases, or APIs to find relevant context, then include that context in the prompt sent to the LLM.</p>
                    <p>This approach combines the reasoning and language capabilities of LLMs with the accuracy and currency of retrieval systems‚Äîgiving you AI that knows your specific data without the cost and complexity of fine-tuning.</p>
                </div>
                <div>
                    <h3>Why RAG Matters</h3>
                    <p>LLMs have fundamental limitations that RAG addresses:</p>
                    <ul>
                        <li><strong>Knowledge cutoff:</strong> Models only know training data, not recent information</li>
                        <li><strong>No private data:</strong> Can't access your internal documents, databases, policies</li>
                        <li><strong>Hallucinations:</strong> Confidently generate false information when uncertain</li>
                        <li><strong>No citations:</strong> Can't point to sources or verify claims</li>
                        <li><strong>Expensive updates:</strong> Fine-tuning to add knowledge costs $10K-$100K+</li>
                    </ul>
                </div>
            </div>

            <div class="sw-grid">
                <div class="sw-card strengths">
                    <div class="sw-title green">‚úì RAG Advantages</div>
                    <ul class="sw-list">
                        <li><strong>No model training:</strong> Add knowledge without fine-tuning‚Äîjust index documents</li>
                        <li><strong>Instant updates:</strong> New docs available immediately after indexing</li>
                        <li><strong>Transparency:</strong> Can show exact sources for every answer</li>
                        <li><strong>Cost-effective:</strong> 10-100x cheaper than fine-tuning for most use cases</li>
                        <li><strong>Access control:</strong> Retrieve only documents user is permitted to see</li>
                        <li><strong>Reduced hallucination:</strong> 30-50% fewer fabricated facts with good retrieval</li>
                    </ul>
                </div>
                <div class="sw-card weaknesses">
                    <div class="sw-title yellow">‚ö† RAG Challenges</div>
                    <ul class="sw-list">
                        <li><strong>Retrieval quality:</strong> Garbage in, garbage out‚Äîbad retrieval = bad answers</li>
                        <li><strong>Latency overhead:</strong> Search adds 100-500ms to response time</li>
                        <li><strong>Context limits:</strong> Can't stuff entire knowledge base into prompt</li>
                        <li><strong>Chunking complexity:</strong> Bad splits lose information, hurt relevance</li>
                        <li><strong>Maintenance burden:</strong> Keep embeddings in sync as sources change</li>
                        <li><strong>Complex queries:</strong> Multi-hop reasoning across documents is hard</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- RAG Architecture -->
        <section class="module" id="architecture">
            <div class="module-header">
                <div class="module-icon">üèóÔ∏è</div>
                <div class="module-info">
                    <h2>RAG Architecture</h2>
                    <p>How RAG systems work</p>
                </div>
            </div>

            <!-- RAG Stack - Vertical Layers -->
            <div class="rag-layers">
                <div class="rag-layers-title">The RAG Stack</div>
                <div class="rag-layers-subtitle">Each layer transforms your data toward intelligent answers</div>
                <div class="rag-stack">
                    <div class="rag-layer">
                        <div class="rag-layer-left">
                            <div class="rag-layer-num">1</div>
                            <div class="rag-layer-name">Ingest</div>
                        </div>
                        <div class="rag-layer-right">
                            <div class="rag-layer-desc">Load documents from diverse sources into your pipeline. Handle format conversion, encoding issues, and metadata extraction.</div>
                            <div class="rag-layer-tech">
                                <span class="rag-layer-tag">PDF</span>
                                <span class="rag-layer-tag">HTML</span>
                                <span class="rag-layer-tag">Databases</span>
                                <span class="rag-layer-tag">APIs</span>
                                <span class="rag-layer-tag">Confluence</span>
                            </div>
                            <div class="rag-layer-output">Output: <code>raw_documents[]</code></div>
                        </div>
                    </div>
                    <div class="rag-layer">
                        <div class="rag-layer-left">
                            <div class="rag-layer-num">2</div>
                            <div class="rag-layer-name">Chunk</div>
                        </div>
                        <div class="rag-layer-right">
                            <div class="rag-layer-desc">Split documents into retrievable pieces. Balance size for precision vs context. Preserve semantic boundaries.</div>
                            <div class="rag-layer-tech">
                                <span class="rag-layer-tag">Recursive</span>
                                <span class="rag-layer-tag">Semantic</span>
                                <span class="rag-layer-tag">256-512 tokens</span>
                                <span class="rag-layer-tag">20% overlap</span>
                            </div>
                            <div class="rag-layer-output">Output: <code>chunks[] + metadata</code></div>
                        </div>
                    </div>
                    <div class="rag-layer">
                        <div class="rag-layer-left">
                            <div class="rag-layer-num">3</div>
                            <div class="rag-layer-name">Embed</div>
                        </div>
                        <div class="rag-layer-right">
                            <div class="rag-layer-desc">Convert text chunks into dense vector representations that capture semantic meaning in high-dimensional space.</div>
                            <div class="rag-layer-tech">
                                <span class="rag-layer-tag">OpenAI</span>
                                <span class="rag-layer-tag">Cohere</span>
                                <span class="rag-layer-tag">1536 dims</span>
                                <span class="rag-layer-tag">~$0.10/1M</span>
                            </div>
                            <div class="rag-layer-output">Output: <code>vectors[1536]</code></div>
                        </div>
                    </div>
                    <div class="rag-layer">
                        <div class="rag-layer-left">
                            <div class="rag-layer-num">4</div>
                            <div class="rag-layer-name">Index</div>
                        </div>
                        <div class="rag-layer-right">
                            <div class="rag-layer-desc">Store vectors in a specialized database optimized for fast approximate nearest neighbor search at scale.</div>
                            <div class="rag-layer-tech">
                                <span class="rag-layer-tag">Pinecone</span>
                                <span class="rag-layer-tag">Weaviate</span>
                                <span class="rag-layer-tag">HNSW</span>
                                <span class="rag-layer-tag">pgvector</span>
                            </div>
                            <div class="rag-layer-output">Output: <code>searchable_index</code></div>
                        </div>
                    </div>
                    <div class="rag-layer">
                        <div class="rag-layer-left">
                            <div class="rag-layer-num">5</div>
                            <div class="rag-layer-name">Retrieve</div>
                        </div>
                        <div class="rag-layer-right">
                            <div class="rag-layer-desc">Find the most relevant chunks for a query using hybrid search (dense + sparse) and reranking for quality.</div>
                            <div class="rag-layer-tech">
                                <span class="rag-layer-tag">Hybrid</span>
                                <span class="rag-layer-tag">BM25</span>
                                <span class="rag-layer-tag">Rerank</span>
                                <span class="rag-layer-tag">top-k=5</span>
                            </div>
                            <div class="rag-layer-output">Output: <code>relevant_chunks[5]</code></div>
                        </div>
                    </div>
                    <div class="rag-layer">
                        <div class="rag-layer-left">
                            <div class="rag-layer-num">6</div>
                            <div class="rag-layer-name">Generate</div>
                        </div>
                        <div class="rag-layer-right">
                            <div class="rag-layer-desc">LLM synthesizes retrieved context into a coherent, grounded answer with citations back to source documents.</div>
                            <div class="rag-layer-tech">
                                <span class="rag-layer-tag">Claude</span>
                                <span class="rag-layer-tag">GPT-4</span>
                                <span class="rag-layer-tag">Citations</span>
                                <span class="rag-layer-tag">Streaming</span>
                            </div>
                            <div class="rag-layer-output">Output: <code>grounded_answer + sources</code></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Query Conversation Flow - Chat Style -->
            <div class="query-convo">
                <div class="query-convo-title">Query Time: A Conversation in 2 Seconds</div>
                <div class="query-convo-subtitle">What actually happens when a user asks a question</div>
                <div class="convo-flow">
                    <div class="convo-msg user">
                        <div class="convo-avatar">üë§</div>
                        <div class="convo-bubble">
                            <div class="convo-label">User Query</div>
                            <div class="convo-text">"What's the refund policy for enterprise customers?"</div>
                            <div class="convo-meta"><span>t=0ms</span></div>
                        </div>
                    </div>
                    
                    <div class="convo-divider">
                        <div class="convo-divider-line"></div>
                        <div class="convo-divider-text">üî¢ Embed ‚Üí [0.23, -0.87, ...] 1536 dims ‚Ä¢ 50ms</div>
                        <div class="convo-divider-line"></div>
                    </div>
                    
                    <div class="convo-msg system">
                        <div class="convo-avatar">üîç</div>
                        <div class="convo-bubble">
                            <div class="convo-label">Vector Search</div>
                            <div class="convo-text">Found 5 relevant chunks from 50,000 indexed<br/>
                            <strong>Top match (0.94):</strong> "Enterprise Refund Policy v2.pdf" page 3<br/>
                            <strong>2nd match (0.89):</strong> "Customer FAQ.md" section 7</div>
                            <div class="convo-meta"><span>Hybrid search + rerank</span><span>t=150ms</span></div>
                        </div>
                    </div>
                    
                    <div class="convo-divider">
                        <div class="convo-divider-line"></div>
                        <div class="convo-divider-text">üìù Build prompt with context ‚Ä¢ 2,400 tokens</div>
                        <div class="convo-divider-line"></div>
                    </div>
                    
                    <div class="convo-msg system">
                        <div class="convo-avatar">ü§ñ</div>
                        <div class="convo-bubble">
                            <div class="convo-label">LLM Response</div>
                            <div class="convo-text">"Enterprise customers have a <strong>60-day refund window</strong> from date of purchase, compared to 30 days for standard plans. To request a refund, contact your account manager or email enterprise@company.com."</div>
                            <div class="convo-meta"><span>Claude 3.5 Sonnet</span><span>t=1,800ms total</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="deep-dive">
                <div class="deep-header">
                    <div class="deep-icon">üîÑ</div>
                    <div>
                        <div class="deep-title">Indexing vs Query Time</div>
                        <div class="deep-subtitle">Two phases of RAG operation</div>
                    </div>
                </div>
                <div class="deep-body">
                    <div class="deep-grid">
                        <div class="deep-section">
                            <h4>Indexing Pipeline (Offline/Batch)</h4>
                            <p>Runs periodically to process new or updated documents. Not latency-sensitive‚Äîoptimize for thoroughness and quality.</p>
                            <ul>
                                <li><strong>Document loading:</strong> Parse PDFs, HTML, Word, databases, APIs, wikis</li>
                                <li><strong>Preprocessing:</strong> Clean text, normalize whitespace, extract metadata</li>
                                <li><strong>Chunking:</strong> Split into retrievable units with appropriate overlap</li>
                                <li><strong>Embedding:</strong> Convert chunks to vectors via embedding model</li>
                                <li><strong>Storage:</strong> Index vectors and metadata in vector database</li>
                            </ul>
                        </div>
                        <div class="deep-section">
                            <h4>Query Pipeline (Online/Real-time)</h4>
                            <p>Runs on every user query. Latency-sensitive‚Äîoptimize for speed while maintaining quality.</p>
                            <ul>
                                <li><strong>Query processing:</strong> Clean, expand, or transform user query</li>
                                <li><strong>Query embedding:</strong> Convert question to vector (same model as indexing)</li>
                                <li><strong>Retrieval:</strong> Find top-k similar chunks from vector DB</li>
                                <li><strong>Reranking:</strong> Optionally re-score results for better relevance</li>
                                <li><strong>Generation:</strong> LLM produces answer grounded in retrieved context</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Embeddings -->
        <section class="module" id="embeddings">
            <div class="module-header">
                <div class="module-icon">üî¢</div>
                <div class="module-info">
                    <h2>Embedding Models</h2>
                    <p>Converting text to vectors</p>
                </div>
            </div>

            <div class="overview-content" style="margin-bottom: 24px;">
                <div class="overview-full">
                    <h3>What Are Embeddings?</h3>
                    <p><strong>Embeddings</strong> are dense vector representations of text that capture semantic meaning in a high-dimensional space. Similar concepts have similar vectors, enabling semantic search beyond keyword matching. "How do I reset my password?" and "password recovery process" will have similar embeddings even though they share few words.</p>
                </div>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Model</th>
                        <th>Provider</th>
                        <th>Dimensions</th>
                        <th>Max Tokens</th>
                        <th>Best For</th>
                        <th>Price/1M tokens</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>text-embedding-3-large</strong></td>
                        <td>OpenAI</td>
                        <td class="table-highlight">3072</td>
                        <td>8191</td>
                        <td>Highest quality general purpose</td>
                        <td>$0.13</td>
                    </tr>
                    <tr>
                        <td><strong>text-embedding-3-small</strong></td>
                        <td>OpenAI</td>
                        <td>1536</td>
                        <td>8191</td>
                        <td>Cost-effective, good quality</td>
                        <td>$0.02</td>
                    </tr>
                    <tr>
                        <td><strong>voyage-3</strong></td>
                        <td>Voyage AI</td>
                        <td>1024</td>
                        <td class="table-highlight">32000</td>
                        <td>Long documents, retrieval-optimized</td>
                        <td>$0.06</td>
                    </tr>
                    <tr>
                        <td><strong>embed-v3</strong></td>
                        <td>Cohere</td>
                        <td>1024</td>
                        <td>512</td>
                        <td>Multilingual (100+ languages)</td>
                        <td>$0.10</td>
                    </tr>
                    <tr>
                        <td><strong>BGE-large-en-v1.5</strong></td>
                        <td>BAAI (Open)</td>
                        <td>1024</td>
                        <td>512</td>
                        <td>Open source, self-hosted</td>
                        <td>Free (self-host)</td>
                    </tr>
                    <tr>
                        <td><strong>GTE-Qwen2-7B-instruct</strong></td>
                        <td>Alibaba (Open)</td>
                        <td>3584</td>
                        <td>32768</td>
                        <td>Top MTEB benchmark performance</td>
                        <td>Free (self-host)</td>
                    </tr>
                </tbody>
            </table>

            <!-- Semantic Search Explainer -->
            <div class="semantic-explainer">
                <div class="semantic-explainer-title">Why Semantic Search Beats Keyword Search</div>
                <div class="semantic-explainer-subtitle">Same query, different understanding‚Äîembeddings find meaning, not just words</div>
                <div class="semantic-demo">
                    <div class="semantic-query-box">
                        <div class="semantic-query-label">User Query</div>
                        <div class="semantic-query-text">"How do I reset my password?"</div>
                        <div class="semantic-query-vector">[0.23, -0.87, 0.45, 0.12, ...]</div>
                    </div>
                    <div class="semantic-results">
                        <div class="semantic-result">
                            <div class="semantic-score">
                                <div class="semantic-score-bar"><div class="semantic-score-fill high" style="width: 94%;"></div></div>
                                <div class="semantic-score-num">0.94</div>
                            </div>
                            <div class="semantic-doc">
                                <div class="semantic-doc-title">Account Recovery Guide</div>
                                <div class="semantic-doc-note match">‚úì No keyword overlap, but semantically identical</div>
                            </div>
                            <span class="semantic-badge retrieved">Retrieved</span>
                        </div>
                        <div class="semantic-result">
                            <div class="semantic-score">
                                <div class="semantic-score-bar"><div class="semantic-score-fill high" style="width: 89%;"></div></div>
                                <div class="semantic-score-num">0.89</div>
                            </div>
                            <div class="semantic-doc">
                                <div class="semantic-doc-title">Forgot Your Credentials?</div>
                                <div class="semantic-doc-note match">‚úì Different words, same user intent</div>
                            </div>
                            <span class="semantic-badge retrieved">Retrieved</span>
                        </div>
                        <div class="semantic-result" style="opacity: 0.6;">
                            <div class="semantic-score">
                                <div class="semantic-score-bar"><div class="semantic-score-fill low" style="width: 31%;"></div></div>
                                <div class="semantic-score-num">0.31</div>
                            </div>
                            <div class="semantic-doc">
                                <div class="semantic-doc-title">Password Policy Requirements</div>
                                <div class="semantic-doc-note">Keyword match but wrong context</div>
                            </div>
                            <span class="semantic-badge missed">Not Retrieved</span>
                        </div>
                    </div>
                </div>
                <div class="semantic-insight">
                    <div class="semantic-insight-icon">üí°</div>
                    <div class="semantic-insight-text"><strong>Key insight:</strong> "Account Recovery Guide" has zero keyword overlap with the query, but ranks highest because embeddings understand they mean the same thing. Keyword search would miss this entirely.</div>
                </div>
            </div>
        </section>

        <!-- Vector Databases -->
        <section class="module" id="vectordbs">
            <div class="module-header">
                <div class="module-icon">üóÑÔ∏è</div>
                <div class="module-info">
                    <h2>Vector Databases</h2>
                    <p>Storing and searching embeddings at scale</p>
                </div>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Database</th>
                        <th>Type</th>
                        <th>Strengths</th>
                        <th>Limitations</th>
                        <th>Best For</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Pinecone</strong></td>
                        <td>Managed SaaS</td>
                        <td class="table-highlight">Fully managed, fast, scalable, filtering</td>
                        <td>Cost at scale, vendor lock-in</td>
                        <td>Production apps, minimal ops</td>
                    </tr>
                    <tr>
                        <td><strong>Weaviate</strong></td>
                        <td>Open Source</td>
                        <td class="table-highlight">Hybrid search, GraphQL, modules</td>
                        <td>Resource intensive, complexity</td>
                        <td>Flexible enterprise deployments</td>
                    </tr>
                    <tr>
                        <td><strong>Qdrant</strong></td>
                        <td>Open Source</td>
                        <td>Fast (Rust), filtering, payloads</td>
                        <td>Smaller ecosystem</td>
                        <td>High performance self-hosted</td>
                    </tr>
                    <tr>
                        <td><strong>Chroma</strong></td>
                        <td>Open Source</td>
                        <td>Simple, embedded, Python-native</td>
                        <td>Not for large scale</td>
                        <td>Prototyping, local dev</td>
                    </tr>
                    <tr>
                        <td><strong>pgvector</strong></td>
                        <td>Extension</td>
                        <td>PostgreSQL native, familiar, ACID</td>
                        <td>Performance at scale</td>
                        <td>Existing Postgres infrastructure</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Chunking -->
        <section class="module" id="chunking">
            <div class="module-header">
                <div class="module-icon">‚úÇÔ∏è</div>
                <div class="module-info">
                    <h2>Chunking Strategies</h2>
                    <p>Splitting documents for optimal retrieval</p>
                </div>
            </div>

            <div class="overview-content" style="margin-bottom: 24px;">
                <div class="overview-full">
                    <h3>Why Chunking Is Critical</h3>
                    <p>Documents must be split into <strong>chunks</strong> before embedding because: embedding models have token limits (512-8K tokens), large documents dilute retrieval relevance, and LLM context windows are limited. <strong>Bad chunking is the #1 cause of poor RAG performance.</strong></p>
                </div>
            </div>

            <!-- Chunking Visualization -->
            <div class="chunk-viz">
                <div class="chunk-viz-title">Good vs Bad Chunking: Visual Comparison</div>
                <div class="chunk-demo">
                    <div class="chunk-example">
                        <div class="chunk-example-title bad">‚ùå Bad: Fixed-Size Cuts Mid-Thought</div>
                        <div class="chunk-blocks">
                            <div class="chunk-block bad">Our refund policy allows customers to return products within 30 days. For enterprise customers, the policy</div>
                            <div class="chunk-block bad">extends to 60 days with additional support options. Contact your account manager for details about...</div>
                            <div class="chunk-block bad">...the premium tier benefits. Shipping costs are handled separately according to your service agreement.</div>
                        </div>
                    </div>
                    <div class="chunk-example">
                        <div class="chunk-example-title good">‚úì Good: Semantic Boundaries with Overlap</div>
                        <div class="chunk-blocks">
                            <div class="chunk-block c1"><strong>Refund Policy - Standard</strong><br/>Our refund policy allows customers to return products within 30 days of purchase.</div>
                            <div class="chunk-overlap">‚Üî overlap: "return products within"</div>
                            <div class="chunk-block c2"><strong>Refund Policy - Enterprise</strong><br/>For enterprise customers, the policy extends to 60 days with additional support options.</div>
                            <div class="chunk-overlap">‚Üî overlap: "account manager"</div>
                            <div class="chunk-block c3"><strong>Shipping & Billing</strong><br/>Shipping costs are handled separately according to your service agreement.</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="strategy-grid">
                <div class="strategy-card">
                    <div class="strategy-icon">üìè</div>
                    <div class="strategy-title">Fixed-Size Chunking</div>
                    <div class="strategy-desc">Split text at fixed token intervals. Simple but may split mid-sentence, losing semantic coherence.</div>
                    <div class="strategy-when"><strong>Use when:</strong> Simple documents, quick prototyping</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üìù</div>
                    <div class="strategy-title">Recursive Splitting</div>
                    <div class="strategy-desc">Try to split on paragraphs, then sentences, then words. Preserves semantic units.</div>
                    <div class="strategy-when"><strong>Use when:</strong> General-purpose text, articles, documentation</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üè∑Ô∏è</div>
                    <div class="strategy-title">Semantic Chunking</div>
                    <div class="strategy-desc">Use embeddings to detect topic boundaries. Split where similarity drops significantly.</div>
                    <div class="strategy-when"><strong>Use when:</strong> Topic-diverse documents, quality-critical applications</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üìä</div>
                    <div class="strategy-title">Document Structure</div>
                    <div class="strategy-desc">Use headers, sections, HTML tags as boundaries. Preserves author's organization.</div>
                    <div class="strategy-when"><strong>Use when:</strong> Structured docs (manuals, API docs, legal)</div>
                </div>
            </div>
        </section>

        <!-- Retrieval Methods -->
        <section class="module" id="retrieval">
            <div class="module-header">
                <div class="module-icon">üîç</div>
                <div class="module-info">
                    <h2>Retrieval Methods</h2>
                    <p>Finding relevant content at query time</p>
                </div>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>How It Works</th>
                        <th>Strengths</th>
                        <th>Limitations</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Dense Retrieval</strong></td>
                        <td>Semantic similarity via embedding vectors</td>
                        <td class="table-highlight">Understands meaning, handles synonyms</td>
                        <td>Can miss exact matches</td>
                    </tr>
                    <tr>
                        <td><strong>Sparse (BM25)</strong></td>
                        <td>Keyword matching with TF-IDF weighting</td>
                        <td>Fast, good for exact terms, jargon</td>
                        <td>Misses synonyms, paraphrases</td>
                    </tr>
                    <tr>
                        <td><strong>Hybrid Search</strong></td>
                        <td>Combine dense + sparse via RRF</td>
                        <td class="table-highlight">Best of both approaches</td>
                        <td>More complex, requires tuning</td>
                    </tr>
                    <tr>
                        <td><strong>Reranking</strong></td>
                        <td>Cross-encoder re-scores top-k results</td>
                        <td>Higher quality final ranking</td>
                        <td>Adds 50-200ms latency</td>
                    </tr>
                </tbody>
            </table>

            <!-- Hybrid Search Visualization -->
            <div class="hybrid-viz">
                <div class="hybrid-viz-title">Hybrid Search: Combining Dense + Sparse Results</div>
                <div class="hybrid-compare">
                    <div class="hybrid-column dense">
                        <div class="hybrid-column-title">üß† Dense (Semantic)</div>
                        <div class="hybrid-results">
                            <div class="hybrid-result"><div class="hybrid-rank">1</div> Password recovery guide</div>
                            <div class="hybrid-result"><div class="hybrid-rank">2</div> Login troubleshooting</div>
                            <div class="hybrid-result"><div class="hybrid-rank">3</div> Account security FAQ</div>
                            <div class="hybrid-result"><div class="hybrid-rank">4</div> Two-factor setup</div>
                            <div class="hybrid-result"><div class="hybrid-rank">5</div> Session management</div>
                        </div>
                    </div>
                    <div class="hybrid-merge">
                        <div class="hybrid-merge-icon">‚ö°</div>
                        <div class="hybrid-merge-label">RRF<br/>Fusion</div>
                    </div>
                    <div class="hybrid-column sparse">
                        <div class="hybrid-column-title">üî§ Sparse (BM25)</div>
                        <div class="hybrid-results">
                            <div class="hybrid-result"><div class="hybrid-rank">1</div> ERR_CONNECTION_REFUSED</div>
                            <div class="hybrid-result"><div class="hybrid-rank">2</div> Connection error codes</div>
                            <div class="hybrid-result"><div class="hybrid-rank">3</div> Password recovery guide</div>
                            <div class="hybrid-result"><div class="hybrid-rank">4</div> Network troubleshooting</div>
                            <div class="hybrid-result"><div class="hybrid-rank">5</div> Firewall settings</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advanced RAG -->
        <section class="module" id="advanced">
            <div class="module-header">
                <div class="module-icon">üöÄ</div>
                <div class="module-info">
                    <h2>Advanced RAG Patterns</h2>
                    <p>Beyond basic retrieval</p>
                </div>
            </div>

            <div class="strategy-grid">
                <div class="strategy-card">
                    <div class="strategy-icon">üîÑ</div>
                    <div class="strategy-title">Query Transformation</div>
                    <div class="strategy-desc">Rewrite queries to improve matching. Expand abbreviations, clarify ambiguity, add context.</div>
                    <div class="strategy-when"><strong>Techniques:</strong> LLM rewriting, query expansion, step-back prompting</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üå≥</div>
                    <div class="strategy-title">Parent Document Retrieval</div>
                    <div class="strategy-desc">Index small chunks for precise matching, but return the parent document as context.</div>
                    <div class="strategy-when"><strong>When:</strong> Answers require surrounding context</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üó∫Ô∏è</div>
                    <div class="strategy-title">GraphRAG</div>
                    <div class="strategy-desc">Combine vector search with knowledge graphs. Extract entities and relationships for multi-hop reasoning.</div>
                    <div class="strategy-when"><strong>When:</strong> Complex relationships, entity-centric queries</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üîÄ</div>
                    <div class="strategy-title">Agentic RAG</div>
                    <div class="strategy-desc">AI agent decides when, how, and what to retrieve. Can search multiple sources iteratively.</div>
                    <div class="strategy-when"><strong>When:</strong> Multi-source, complex information needs</div>
                </div>
            </div>
        </section>

        <!-- Frameworks -->
        <section class="module" id="frameworks">
            <div class="module-header">
                <div class="module-icon">üõ†Ô∏è</div>
                <div class="module-info">
                    <h2>RAG Frameworks & Tools</h2>
                    <p>Building RAG systems efficiently</p>
                </div>
            </div>

            <div class="tool-grid">
                <div class="tool-card featured">
                    <div class="tool-header">
                        <div><div class="tool-name">LangChain</div><div class="tool-vendor">LangChain</div></div>
                        <span class="tool-badge">Most Popular</span>
                    </div>
                    <div class="tool-desc">Comprehensive framework for LLM applications. Extensive integrations (100+ loaders, 50+ vector stores), retrieval patterns, and chains.</div>
                    <div class="tool-features"><strong>Strengths:</strong> Flexibility, integrations, community</div>
                </div>
                <div class="tool-card featured">
                    <div class="tool-header">
                        <div><div class="tool-name">LlamaIndex</div><div class="tool-vendor">LlamaIndex</div></div>
                        <span class="tool-badge">RAG-Focused</span>
                    </div>
                    <div class="tool-desc">Purpose-built for RAG and data indexing. Excellent document handling, advanced retrieval patterns (RAPTOR, auto-merging).</div>
                    <div class="tool-features"><strong>Strengths:</strong> Indexing, structured data, advanced RAG</div>
                </div>
                <div class="tool-card">
                    <div class="tool-header">
                        <div><div class="tool-name">Unstructured</div><div class="tool-vendor">Unstructured</div></div>
                        <span class="tool-badge">Doc Processing</span>
                    </div>
                    <div class="tool-desc">Pre-processing toolkit for documents. Handles PDFs (including scanned), images, HTML, Word, PowerPoint.</div>
                    <div class="tool-features"><strong>Strengths:</strong> PDF parsing, OCR, table extraction</div>
                </div>
            </div>
        </section>

        <!-- Evaluation -->
        <section class="module" id="evaluation">
            <div class="module-header">
                <div class="module-icon">üìä</div>
                <div class="module-info">
                    <h2>RAG Evaluation</h2>
                    <p>Measuring and improving quality</p>
                </div>
            </div>

            <!-- Evaluation Dashboard -->
            <div class="eval-dashboard">
                <div class="eval-dashboard-title">RAG System Health Dashboard</div>
                <div class="eval-dashboard-subtitle">Diagnose failures by component‚Äîis it retrieval, generation, or both?</div>
                <div class="eval-components">
                    <div class="eval-component retrieval">
                        <div class="eval-component-icon">üîç</div>
                        <div class="eval-component-name">Retrieval Quality</div>
                        <div class="eval-score">82%</div>
                        <div class="eval-metrics">
                            <div class="eval-metric"><span class="eval-metric-name">Recall@5</span><span class="eval-metric-value good">87%</span></div>
                            <div class="eval-metric"><span class="eval-metric-name">Precision@5</span><span class="eval-metric-value warn">68%</span></div>
                            <div class="eval-metric"><span class="eval-metric-name">MRR</span><span class="eval-metric-value good">0.79</span></div>
                        </div>
                    </div>
                    <div class="eval-component generation">
                        <div class="eval-component-icon">ü§ñ</div>
                        <div class="eval-component-name">Generation Quality</div>
                        <div class="eval-score">88%</div>
                        <div class="eval-metrics">
                            <div class="eval-metric"><span class="eval-metric-name">Faithfulness</span><span class="eval-metric-value good">94%</span></div>
                            <div class="eval-metric"><span class="eval-metric-name">Relevance</span><span class="eval-metric-value good">86%</span></div>
                            <div class="eval-metric"><span class="eval-metric-name">Correctness</span><span class="eval-metric-value good">83%</span></div>
                        </div>
                    </div>
                    <div class="eval-component overall">
                        <div class="eval-component-icon">üìä</div>
                        <div class="eval-component-name">End-to-End Score</div>
                        <div class="eval-score">84%</div>
                        <div class="eval-metrics">
                            <div class="eval-metric"><span class="eval-metric-name">Answer Rate</span><span class="eval-metric-value good">91%</span></div>
                            <div class="eval-metric"><span class="eval-metric-name">Latency P95</span><span class="eval-metric-value warn">2.3s</span></div>
                            <div class="eval-metric"><span class="eval-metric-name">User Rating</span><span class="eval-metric-value good">4.2‚òÖ</span></div>
                        </div>
                    </div>
                </div>
                <div class="eval-failure-modes">
                    <div class="eval-failure">
                        <div class="eval-failure-icon">‚ùå</div>
                        <div class="eval-failure-info">
                            <div class="eval-failure-title">Bad Retrieval ‚Üí Bad Answer</div>
                            <div class="eval-failure-desc">Retrieved docs don't contain the answer. LLM can't help.</div>
                            <div class="eval-failure-action">‚Üí Fix: Better chunking, hybrid search, query expansion</div>
                        </div>
                    </div>
                    <div class="eval-failure">
                        <div class="eval-failure-icon">‚ö†Ô∏è</div>
                        <div class="eval-failure-info">
                            <div class="eval-failure-title">Good Retrieval ‚Üí Bad Answer</div>
                            <div class="eval-failure-desc">Right docs retrieved but LLM misinterprets or hallucinates.</div>
                            <div class="eval-failure-action">‚Üí Fix: Better prompts, stronger model, more context</div>
                        </div>
                    </div>
                    <div class="eval-failure">
                        <div class="eval-failure-icon">üéØ</div>
                        <div class="eval-failure-info">
                            <div class="eval-failure-title">Good Retrieval ‚Üí Good Answer</div>
                            <div class="eval-failure-desc">System working as intended. Monitor for drift.</div>
                            <div class="eval-failure-action">‚Üí Action: Track over time, expand test coverage</div>
                        </div>
                    </div>
                    <div class="eval-failure">
                        <div class="eval-failure-icon">üîá</div>
                        <div class="eval-failure-info">
                            <div class="eval-failure-title">No Answer Given</div>
                            <div class="eval-failure-desc">System correctly abstains when it doesn't know.</div>
                            <div class="eval-failure-action">‚Üí Check: Is abstention rate appropriate?</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pitfalls -->
        <section class="module" id="pitfalls">
            <div class="module-header">
                <div class="module-icon">‚ö†Ô∏è</div>
                <div class="module-info">
                    <h2>Common RAG Pitfalls</h2>
                    <p>Mistakes to avoid</p>
                </div>
            </div>

            <div class="pitfall-grid">
                <div class="pitfall-card">
                    <div class="pitfall-header">
                        <div class="pitfall-icon">‚ùå</div>
                        <div class="pitfall-title">Bad Chunking Strategy</div>
                    </div>
                    <div class="pitfall-desc">Using fixed-size chunks without considering document structure. Splitting mid-sentence, separating headers from content.</div>
                    <div class="pitfall-fix"><strong>Fix:</strong> Use recursive or semantic chunking, preserve structure</div>
                </div>
                <div class="pitfall-card">
                    <div class="pitfall-header">
                        <div class="pitfall-icon">‚ùå</div>
                        <div class="pitfall-title">Wrong Embedding Model</div>
                    </div>
                    <div class="pitfall-desc">Using mismatched models for indexing and query, or a model not suited for your domain.</div>
                    <div class="pitfall-fix"><strong>Fix:</strong> Same model for index and query, evaluate on your data</div>
                </div>
                <div class="pitfall-card">
                    <div class="pitfall-header">
                        <div class="pitfall-icon">‚ùå</div>
                        <div class="pitfall-title">Dense-Only Retrieval</div>
                    </div>
                    <div class="pitfall-desc">Missing exact keyword matches (error codes, product SKUs) that sparse retrieval would catch.</div>
                    <div class="pitfall-fix"><strong>Fix:</strong> Use hybrid search combining dense and sparse (BM25)</div>
                </div>
                <div class="pitfall-card">
                    <div class="pitfall-header">
                        <div class="pitfall-icon">‚ùå</div>
                        <div class="pitfall-title">Not Evaluating</div>
                    </div>
                    <div class="pitfall-desc">Making changes without measuring impact. Feels like improvement but worse on edge cases.</div>
                    <div class="pitfall-fix"><strong>Fix:</strong> Build eval dataset, measure before/after, A/B test</div>
                </div>
            </div>
        </section>

        <!-- Best Practices -->
        <section class="module" id="practices">
            <div class="module-header">
                <div class="module-icon">‚úÖ</div>
                <div class="module-info">
                    <h2>Best Practices</h2>
                    <p>Building effective RAG systems</p>
                </div>
            </div>

            <div class="practices-grid">
                <div class="practice-card">
                    <div class="practice-num">1</div>
                    <div>
                        <div class="practice-title">Start Simple, Then Optimize</div>
                        <div class="practice-desc">Begin with basic RAG. Measure performance on real queries. Only add complexity when you've identified specific failures.</div>
                    </div>
                </div>
                <div class="practice-card">
                    <div class="practice-num">2</div>
                    <div>
                        <div class="practice-title">Invest in Chunking</div>
                        <div class="practice-desc">Bad chunking is the #1 failure mode. Preserve document structure, use appropriate overlap. Budget time for iteration.</div>
                    </div>
                </div>
                <div class="practice-card">
                    <div class="practice-num">3</div>
                    <div>
                        <div class="practice-title">Use Hybrid Search</div>
                        <div class="practice-desc">Combine semantic and keyword retrieval. Handles both conceptual queries and exact matches.</div>
                    </div>
                </div>
                <div class="practice-card">
                    <div class="practice-num">4</div>
                    <div>
                        <div class="practice-title">Show Your Sources</div>
                        <div class="practice-desc">Include citations with links to source documents. Users can verify claims, builds trust.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Agent -->
        <section class="module" id="agent">
            <div class="module-header">
                <div class="module-icon">ü§ñ</div>
                <div class="module-info">
                    <h2>Agent This</h2>
                    <p>RAG system optimization agent</p>
                </div>
            </div>

            <div class="overview-content" style="margin-bottom: 24px;">
                <div>
                    <h3>üìö RAGArchitect Agent</h3>
                    <p>An intelligent agent that helps design, build, and optimize RAG systems. Rather than manually tuning chunking strategies, embedding models, and retrieval parameters, RAGArchitect analyzes your documents and query patterns to recommend optimal configurations‚Äîthen continuously monitors and improves system performance.</p>
                </div>
                <div>
                    <h3>When to Deploy</h3>
                    <ul>
                        <li><strong>New RAG project:</strong> Get architecture recommendations before building</li>
                        <li><strong>Performance issues:</strong> Diagnose why retrieval quality is poor</li>
                        <li><strong>Scaling up:</strong> Optimize for larger document collections</li>
                        <li><strong>New document types:</strong> Adapt chunking for different content</li>
                        <li><strong>Continuous improvement:</strong> Monitor and tune production systems</li>
                    </ul>
                </div>
            </div>

            <div class="tool-grid" style="margin-bottom: 24px;">
                <div class="tool-card">
                    <div class="tool-header">
                        <div><div class="tool-name">DocumentAnalyzer</div><div class="tool-vendor">Analysis Tool</div></div>
                    </div>
                    <div class="tool-desc">Scans document corpus to understand structure, content types, average lengths, and complexity. Identifies tables, code blocks, headers, and other structural elements that affect chunking.</div>
                    <div class="tool-features"><strong>Output:</strong> Document profile with chunking recommendations</div>
                </div>
                <div class="tool-card">
                    <div class="tool-header">
                        <div><div class="tool-name">ChunkingTester</div><div class="tool-vendor">Optimization Tool</div></div>
                    </div>
                    <div class="tool-desc">Tests multiple chunking strategies (fixed, recursive, semantic, document-structure) against sample documents. Measures chunk coherence, boundary quality, and metadata preservation.</div>
                    <div class="tool-features"><strong>Output:</strong> Ranked strategies with quality scores</div>
                </div>
                <div class="tool-card">
                    <div class="tool-header">
                        <div><div class="tool-name">EmbeddingBenchmark</div><div class="tool-vendor">Evaluation Tool</div></div>
                    </div>
                    <div class="tool-desc">Benchmarks embedding models on your actual data. Tests OpenAI, Cohere, Voyage, and open-source models. Measures semantic similarity accuracy and retrieval performance.</div>
                    <div class="tool-features"><strong>Output:</strong> Model comparison with cost/quality tradeoffs</div>
                </div>
                <div class="tool-card">
                    <div class="tool-header">
                        <div><div class="tool-name">RetrievalEvaluator</div><div class="tool-vendor">Quality Tool</div></div>
                    </div>
                    <div class="tool-desc">Runs test queries against your RAG system. Measures recall, precision, MRR, and identifies queries with poor retrieval. Compares dense, sparse, and hybrid approaches.</div>
                    <div class="tool-features"><strong>Output:</strong> Retrieval quality report with failure analysis</div>
                </div>
                <div class="tool-card">
                    <div class="tool-header">
                        <div><div class="tool-name">QueryAnalyzer</div><div class="tool-vendor">Pattern Tool</div></div>
                    </div>
                    <div class="tool-desc">Analyzes production query logs to understand user intent patterns, common question types, and query complexity. Identifies gaps between queries and indexed content.</div>
                    <div class="tool-features"><strong>Output:</strong> Query taxonomy and coverage analysis</div>
                </div>
                <div class="tool-card">
                    <div class="tool-header">
                        <div><div class="tool-name">ConfigGenerator</div><div class="tool-vendor">Build Tool</div></div>
                    </div>
                    <div class="tool-desc">Generates optimal RAG configuration based on analysis. Outputs chunking params, embedding model selection, vector DB settings, and retrieval pipeline code.</div>
                    <div class="tool-features"><strong>Output:</strong> Production-ready configuration files</div>
                </div>
            </div>

            <div class="deep-dive" style="margin-bottom: 24px;">
                <div class="deep-header">
                    <div class="deep-icon">üîÑ</div>
                    <div>
                        <div class="deep-title">RAGArchitect Workflow</div>
                        <div class="deep-subtitle">How the agent optimizes your RAG system</div>
                    </div>
                </div>
                <div class="deep-body">
                    <div class="deep-grid">
                        <div class="deep-section">
                            <h4>Phase 1: Analysis</h4>
                            <ul>
                                <li><strong>Document profiling:</strong> Scan corpus for structure, length distribution, content types</li>
                                <li><strong>Query analysis:</strong> Understand user intent patterns from logs or samples</li>
                                <li><strong>Current state audit:</strong> Evaluate existing RAG performance if applicable</li>
                                <li><strong>Requirements gathering:</strong> Latency targets, accuracy needs, scale expectations</li>
                            </ul>
                        </div>
                        <div class="deep-section">
                            <h4>Phase 2: Experimentation</h4>
                            <ul>
                                <li><strong>Chunking trials:</strong> Test 4-6 strategies on representative documents</li>
                                <li><strong>Embedding comparison:</strong> Benchmark 3-5 models on domain-specific queries</li>
                                <li><strong>Retrieval tuning:</strong> Optimize k, similarity thresholds, hybrid weights</li>
                                <li><strong>A/B evaluation:</strong> Compare configurations on held-out test set</li>
                            </ul>
                        </div>
                        <div class="deep-section">
                            <h4>Phase 3: Recommendation</h4>
                            <ul>
                                <li><strong>Architecture design:</strong> Optimal stack for your requirements</li>
                                <li><strong>Configuration output:</strong> Production-ready settings and code</li>
                                <li><strong>Tradeoff analysis:</strong> Cost vs quality vs latency options</li>
                                <li><strong>Migration plan:</strong> Steps to implement recommendations</li>
                            </ul>
                        </div>
                        <div class="deep-section">
                            <h4>Phase 4: Monitoring</h4>
                            <ul>
                                <li><strong>Quality tracking:</strong> Continuous retrieval and answer quality metrics</li>
                                <li><strong>Drift detection:</strong> Alert when performance degrades</li>
                                <li><strong>Failure analysis:</strong> Identify and diagnose problematic queries</li>
                                <li><strong>Optimization suggestions:</strong> Ongoing improvement recommendations</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agent-grid">
                <div class="agent-code">
                    <div class="code-header">rag_architect_agent.py</div>
                    <div class="code-content">
<pre><span class="ck">from</span> crewai <span class="ck">import</span> Agent, Task, Crew
<span class="ck">from</span> langchain_anthropic <span class="ck">import</span> ChatAnthropic
<span class="ck">from</span> rag_tools <span class="ck">import</span> (
    DocumentAnalyzer, ChunkingTester,
    EmbeddingBenchmark, RetrievalEvaluator,
    QueryAnalyzer, ConfigGenerator
)

<span class="cf"># Initialize the RAG Architect agent</span>
rag_architect = Agent(
    role=<span class="cs">"RAG System Architect"</span>,
    goal=<span class="cs">"""Design and optimize RAG systems for 
    maximum retrieval quality and efficiency"""</span>,
    backstory=<span class="cs">"""You are an expert in retrieval-augmented 
    generation systems with deep knowledge of embeddings, 
    vector databases, chunking strategies, and LLM 
    integration. You analyze document corpora, benchmark 
    configurations, and recommend optimal architectures."""</span>,
    tools=[
        DocumentAnalyzer(),
        ChunkingTester(),
        EmbeddingBenchmark(),
        RetrievalEvaluator(),
        QueryAnalyzer(),
        ConfigGenerator()
    ],
    llm=ChatAnthropic(model=<span class="cs">"claude-sonnet-4-20250514"</span>),
    verbose=<span class="ck">True</span>
)

<span class="cf"># Define optimization task</span>
optimize_task = Task(
    description=<span class="cs">"""
    Analyze the document corpus at {corpus_path} and 
    optimize the RAG system:
    
    1. Profile documents for structure and content types
    2. Test chunking strategies and recommend optimal approach
    3. Benchmark embedding models for this domain
    4. Evaluate retrieval quality with test queries
    5. Generate production configuration
    
    Target metrics:
    - Retrieval recall@5 > 85%
    - Answer faithfulness > 90%
    - P95 latency < 2 seconds
    """</span>,
    agent=rag_architect,
    expected_output=<span class="cs">"RAG optimization report with configs"</span>
)

<span class="cf"># Run the optimization</span>
<span class="ck">async def</span> <span class="cf">optimize_rag</span>(corpus_path: str):
    crew = Crew(
        agents=[rag_architect],
        tasks=[optimize_task],
        verbose=<span class="ck">True</span>
    )
    result = <span class="ck">await</span> crew.kickoff_async(
        inputs={<span class="cs">"corpus_path"</span>: corpus_path}
    )
    <span class="ck">return</span> result</pre>
                    </div>
                </div>
                <div class="agent-code">
                    <div class="code-header">rag_tools.py</div>
                    <div class="code-content">
<pre><span class="ck">from</span> crewai.tools <span class="ck">import</span> BaseTool
<span class="ck">from</span> pydantic <span class="ck">import</span> BaseModel, Field

<span class="ck">class</span> <span class="cf">DocumentAnalyzer</span>(BaseTool):
    name: str = <span class="cs">"document_analyzer"</span>
    description: str = <span class="cs">"""Analyze document corpus 
    to understand structure, content types, and 
    characteristics for optimal chunking."""</span>
    
    <span class="ck">def</span> <span class="cf">_run</span>(self, corpus_path: str) -> dict:
        <span class="cf"># Scan documents and extract profiles</span>
        <span class="ck">return</span> {
            <span class="cs">"total_docs"</span>: 1247,
            <span class="cs">"avg_length"</span>: 2340,
            <span class="cs">"has_tables"</span>: 0.23,
            <span class="cs">"has_code"</span>: 0.15,
            <span class="cs">"has_headers"</span>: 0.89,
            <span class="cs">"recommended_chunk_size"</span>: 512,
            <span class="cs">"recommended_overlap"</span>: 50
        }

<span class="ck">class</span> <span class="cf">ChunkingTester</span>(BaseTool):
    name: str = <span class="cs">"chunking_tester"</span>
    description: str = <span class="cs">"""Test multiple chunking 
    strategies and return quality scores."""</span>
    
    <span class="ck">def</span> <span class="cf">_run</span>(self, docs: list, strategies: list) -> dict:
        <span class="cf"># Test each strategy and measure quality</span>
        <span class="ck">return</span> {
            <span class="cs">"recursive"</span>: {<span class="cs">"score"</span>: 0.87, <span class="cs">"chunks"</span>: 4521},
            <span class="cs">"semantic"</span>: {<span class="cs">"score"</span>: 0.91, <span class="cs">"chunks"</span>: 3892},
            <span class="cs">"fixed_512"</span>: {<span class="cs">"score"</span>: 0.72, <span class="cs">"chunks"</span>: 5104},
            <span class="cs">"recommended"</span>: <span class="cs">"semantic"</span>
        }

<span class="ck">class</span> <span class="cf">RetrievalEvaluator</span>(BaseTool):
    name: str = <span class="cs">"retrieval_evaluator"</span>
    description: str = <span class="cs">"""Evaluate retrieval quality 
    with test queries and compute metrics."""</span>
    
    <span class="ck">def</span> <span class="cf">_run</span>(self, index: str, test_queries: list) -> dict:
        <span class="ck">return</span> {
            <span class="cs">"recall_at_5"</span>: 0.87,
            <span class="cs">"precision_at_5"</span>: 0.68,
            <span class="cs">"mrr"</span>: 0.79,
            <span class="cs">"failed_queries"</span>: [<span class="cs">"query_42"</span>, <span class="cs">"query_89"</span>],
            <span class="cs">"failure_reasons"</span>: [<span class="cs">"no_relevant_chunks"</span>]
        }</pre>
                    </div>
                </div>
            </div>

            <div class="overview-content" style="margin-top: 24px;">
                <div>
                    <h3>Example Agent Outputs</h3>
                    <ul>
                        <li><strong>Chunking recommendation:</strong> "Use semantic chunking with 512 token target, 50 token overlap. Your documents have clear topic boundaries that semantic chunking preserves."</li>
                        <li><strong>Embedding selection:</strong> "Voyage-3 outperforms OpenAI on your legal documents by 8% recall. The 32K context handles your longer contracts without truncation."</li>
                        <li><strong>Retrieval diagnosis:</strong> "23% of failed queries involve product SKUs. Adding BM25 hybrid search will catch these exact-match cases."</li>
                        <li><strong>Configuration output:</strong> Complete YAML config for LangChain/LlamaIndex with optimal parameters</li>
                    </ul>
                </div>
                <div>
                    <h3>Integration Patterns</h3>
                    <ul>
                        <li><strong>CI/CD pipeline:</strong> Run RAGArchitect on document updates to detect chunking drift</li>
                        <li><strong>Scheduled audits:</strong> Weekly evaluation runs to track quality over time</li>
                        <li><strong>Slack alerts:</strong> Notify team when retrieval quality drops below threshold</li>
                        <li><strong>Dashboard integration:</strong> Feed metrics to Grafana/DataDog for monitoring</li>
                        <li><strong>Human-in-the-loop:</strong> Generate recommendations for human review before deployment</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Related -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üìö</div>
                <div class="module-info">
                    <h2>Related Topics</h2>
                    <p>Continue exploring</p>
                </div>
            </div>
            <div class="related-grid">
                <a href="cat19-p1-foundation-models.html" class="related-card">
                    <div class="related-icon">üß†</div>
                    <div class="related-title">Foundation Models</div>
                    <div class="related-desc">The LLMs that power RAG generation</div>
                </a>
                <a href="cat19-p2-agentic-ai.html" class="related-card">
                    <div class="related-icon">ü§ñ</div>
                    <div class="related-title">Agentic AI</div>
                    <div class="related-desc">Agents using RAG for knowledge access</div>
                </a>
                <a href="cat19-p9-observability.html" class="related-card">
                    <div class="related-icon">üìä</div>
                    <div class="related-title">Observability & Evals</div>
                    <div class="related-desc">Monitoring RAG system quality</div>
                </a>
            </div>
        </section>

    </div>
</div>

<footer>
    <div class="footer-nav">
        <a href="cat19-p7-ai-safety.html" class="footer-link">
            <span>‚Üê</span>
            <div>
                <div class="footer-link-label">Previous</div>
                <div class="footer-link-title">19.7 AI Safety & Governance</div>
            </div>
        </a>
        <div class="footer-brand"><span>STRATEGY</span>HUB ‚Ä¢ Page 19.8</div>
        <a href="cat19-p9-observability.html" class="footer-link">
            <div>
                <div class="footer-link-label">Next</div>
                <div class="footer-link-title">19.9 Observability & Evals</div>
            </div>
            <span>‚Üí</span>
        </a>
    </div>
</footer>

</body>
</html>
