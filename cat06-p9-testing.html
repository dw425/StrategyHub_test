<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing & QA | Chatbots & Conversational AI | Strategy Hub</title>
    <style>
        :root {
            --brand-orange: #FF9900;
            --cat-primary: #14B8A6;
            --cat-light: #2DD4BF;
            --cat-glow: rgba(20, 184, 166, 0.15);
            --page-primary: #8B5CF6;
            --page-light: #A78BFA;
            --page-glow: rgba(139, 92, 246, 0.15);
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --bg-card-alt: #1a1a2e;
            --bg-hover: #252538;
            --border-color: #2a2a3e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6a6a7a;
            --green: #10B981;
            --yellow: #F59E0B;
            --red: #EF4444;
            --blue: #3B82F6;
            --purple: #8B5CF6;
            --pink: #EC4899;
            --cyan: #06B6D4;
            --sidebar-width: 260px;
            --header-height: 60px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-dark); color: var(--text-primary); line-height: 1.6; }
        header { background: var(--bg-card); border-bottom: 1px solid var(--border-color); padding: 16px 32px; position: fixed; top: 0; left: 0; right: 0; z-index: 1000; height: var(--header-height); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 20px; font-weight: 700; }
        .logo span { color: var(--brand-orange); }
        .breadcrumb { display: flex; align-items: center; gap: 8px; font-size: 13px; }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; }
        .breadcrumb .current { color: var(--text-primary); }
        .sidebar { position: fixed; top: var(--header-height); left: 0; width: var(--sidebar-width); height: calc(100vh - var(--header-height)); background: var(--bg-card); border-right: 1px solid var(--border-color); overflow-y: auto; padding: 24px 0; }
        .sidebar-title { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--cat-light); padding: 0 24px; margin-bottom: 8px; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav a { display: flex; align-items: center; gap: 10px; padding: 10px 24px; color: var(--text-secondary); text-decoration: none; font-size: 13px; border-left: 3px solid transparent; }
        .sidebar-nav a:hover { background: var(--bg-hover); }
        .sidebar-nav a.active { background: var(--page-glow); color: var(--page-light); border-left-color: var(--page-light); }
        .main-wrapper { margin-left: var(--sidebar-width); margin-top: var(--header-height); }
        .main-content { max-width: 1200px; padding: 32px; }
        
        /* HERO */
        .hero-compact { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; margin-bottom: 32px; padding: 32px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 20px; position: relative; }
        .hero-compact::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--page-primary), var(--cat-primary)); }
        .hero-tag { display: inline-flex; background: var(--page-glow); border: 1px solid var(--page-primary); padding: 6px 14px; border-radius: 9999px; font-size: 11px; color: var(--page-light); margin-bottom: 12px; }
        .hero-left h1 { font-size: 32px; margin-bottom: 12px; }
        .hero-left p { font-size: 14px; color: var(--text-secondary); line-height: 1.7; }
        .hero-metrics { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .hero-metric { background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; text-align: center; }
        .hero-metric-value { font-size: 26px; font-weight: 700; color: var(--page-light); }
        .hero-metric-label { font-size: 10px; color: var(--text-muted); text-transform: uppercase; }
        
        /* MODULES */
        .module { margin-bottom: 32px; padding-top: 28px; border-top: 1px solid var(--border-color); }
        .module:first-of-type { border-top: none; padding-top: 0; }
        .module-header { display: flex; align-items: center; gap: 16px; margin-bottom: 20px; }
        .module-icon { width: 56px; height: 56px; background: var(--page-glow); border: 2px solid var(--page-primary); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 28px; }
        .module-info h2 { font-size: 22px; margin-bottom: 4px; }
        .module-info p { font-size: 13px; color: var(--text-muted); }
        
        /* OVERVIEW */
        .overview-content { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px; margin-bottom: 20px; }
        .overview-content h3 { font-size: 18px; margin-bottom: 16px; color: var(--page-light); }
        .overview-content p { font-size: 14px; color: var(--text-secondary); line-height: 1.8; margin-bottom: 14px; }
        .overview-content strong { color: var(--text-primary); }
        
        /* KEY CONCEPTS */
        .concepts-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 20px; }
        .concept-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; border-left: 4px solid var(--page-primary); }
        .concept-icon { font-size: 28px; margin-bottom: 12px; }
        .concept-term { font-size: 15px; font-weight: 600; margin-bottom: 8px; }
        .concept-def { font-size: 12px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 12px; }
        .concept-example { font-size: 10px; color: var(--text-muted); background: var(--bg-card-alt); padding: 10px; border-radius: 8px; font-family: monospace; }
        
        /* TEST PYRAMID */
        .pyramid-viz { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; margin-bottom: 20px; }
        .pyramid-header { padding: 14px 20px; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); font-weight: 600; font-size: 14px; }
        .pyramid-body { padding: 32px; background: linear-gradient(180deg, #151820 0%, #101318 100%); }
        .pyramid-layout { display: grid; grid-template-columns: 1fr 320px; gap: 32px; align-items: center; }
        .pyramid-container { position: relative; width: 100%; max-width: 500px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; }
        .pyramid-level { display: flex; align-items: center; justify-content: center; height: 60px; margin-bottom: 6px; border-radius: 6px; cursor: pointer; transition: all 0.3s; position: relative; }
        .pyramid-level:hover { filter: brightness(1.15); transform: scale(1.02); }
        .pyramid-level.active { box-shadow: 0 0 24px rgba(139, 92, 246, 0.6); z-index: 10; }
        .pyramid-level.e2e { width: 140px; background: linear-gradient(135deg, var(--pink), #DB2777); }
        .pyramid-level.integration { width: 240px; background: linear-gradient(135deg, var(--purple), #7C3AED); }
        .pyramid-level.component { width: 360px; background: linear-gradient(135deg, var(--blue), #2563EB); }
        .pyramid-level.unit { width: 480px; background: linear-gradient(135deg, var(--cyan), #0891B2); }
        .pyramid-content { text-align: center; }
        .pyramid-label { font-size: 13px; font-weight: 700; color: #fff; display: block; }
        .pyramid-count { font-size: 10px; color: rgba(255,255,255,0.75); display: block; margin-top: 2px; }
        .pyramid-detail { background: var(--bg-card-alt); border: 2px solid var(--border-color); border-radius: 14px; padding: 24px; min-height: 300px; transition: all 0.3s; }
        .pyramid-detail.active { border-color: var(--page-primary); }
        .pyramid-detail-header { display: flex; align-items: center; gap: 14px; margin-bottom: 16px; padding-bottom: 14px; border-bottom: 1px solid var(--border-color); }
        .pyramid-detail-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .pyramid-detail-title { font-size: 18px; font-weight: 700; }
        .pyramid-detail-subtitle { font-size: 11px; color: var(--text-muted); }
        .pyramid-detail-desc { font-size: 13px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 16px; }
        .pyramid-detail-tests { list-style: none; }
        .pyramid-detail-tests li { font-size: 12px; color: var(--text-secondary); padding: 8px 0; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 8px; }
        .pyramid-detail-tests li:last-child { border-bottom: none; }
        .test-bullet { color: var(--page-light); }
        .pyramid-placeholder { text-align: center; padding: 60px 20px; color: var(--text-muted); }
        .pyramid-placeholder-icon { font-size: 48px; margin-bottom: 12px; opacity: 0.5; }
        
        /* TEST COVERAGE MATRIX */
        .matrix-viz { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; margin-bottom: 20px; }
        .matrix-header { padding: 14px 20px; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); font-weight: 600; font-size: 14px; }
        .matrix-body { padding: 24px; overflow-x: auto; }
        .matrix-table { width: 100%; border-collapse: collapse; }
        .matrix-table th { padding: 12px 16px; text-align: left; font-size: 11px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 1px solid var(--border-color); }
        .matrix-table td { padding: 14px 16px; font-size: 13px; border-bottom: 1px solid var(--border-color); }
        .matrix-table tr:last-child td { border-bottom: none; }
        .matrix-table tr:hover td { background: var(--bg-card-alt); }
        .matrix-intent { font-weight: 600; color: var(--text-primary); }
        .matrix-coverage { display: flex; align-items: center; gap: 8px; }
        .coverage-bar { flex: 1; height: 8px; background: var(--bg-dark); border-radius: 4px; overflow: hidden; max-width: 100px; }
        .coverage-fill { height: 100%; border-radius: 4px; }
        .coverage-fill.high { background: var(--green); }
        .coverage-fill.med { background: var(--yellow); }
        .coverage-fill.low { background: var(--red); }
        .coverage-pct { font-size: 12px; font-weight: 600; min-width: 40px; }
        .matrix-status { display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; border-radius: 9999px; font-size: 10px; font-weight: 600; }
        .matrix-status.pass { background: rgba(16, 185, 129, 0.2); color: var(--green); }
        .matrix-status.warn { background: rgba(245, 158, 11, 0.2); color: var(--yellow); }
        .matrix-status.fail { background: rgba(239, 68, 68, 0.2); color: var(--red); }
        
        /* TEST CASE BUILDER */
        .builder-viz { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; margin-bottom: 20px; }
        .builder-header { padding: 14px 20px; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); font-weight: 600; font-size: 14px; }
        .builder-body { padding: 24px; }
        .builder-flow { display: flex; gap: 16px; }
        .builder-step { flex: 1; background: var(--bg-card-alt); border-radius: 12px; padding: 16px; position: relative; }
        .builder-step::after { content: '‚Üí'; position: absolute; right: -14px; top: 50%; transform: translateY(-50%); font-size: 18px; color: var(--page-primary); z-index: 5; }
        .builder-step:last-child::after { display: none; }
        .builder-step-num { width: 24px; height: 24px; background: var(--page-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; margin-bottom: 10px; }
        .builder-step-title { font-size: 13px; font-weight: 600; margin-bottom: 8px; }
        .builder-step-content { font-size: 11px; color: var(--text-muted); line-height: 1.6; }
        .builder-example { margin-top: 20px; background: var(--bg-dark); border-radius: 10px; padding: 16px; }
        .builder-example-title { font-size: 11px; font-weight: 600; color: var(--page-light); margin-bottom: 12px; }
        .builder-example-code { font-family: monospace; font-size: 11px; color: var(--text-secondary); line-height: 1.7; }
        .builder-example-code .key { color: var(--cyan); }
        .builder-example-code .string { color: var(--green); }
        .builder-example-code .comment { color: var(--text-muted); }
        
        /* REGRESSION DASHBOARD */
        .regression-viz { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; margin-bottom: 20px; }
        .regression-header { padding: 14px 20px; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); font-weight: 600; font-size: 14px; display: flex; justify-content: space-between; align-items: center; }
        .regression-status { display: flex; align-items: center; gap: 8px; font-size: 12px; }
        .regression-dot { width: 10px; height: 10px; border-radius: 50%; }
        .regression-dot.pass { background: var(--green); }
        .regression-dot.fail { background: var(--red); }
        .regression-body { padding: 24px; }
        .regression-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 20px; }
        .regression-stat { background: var(--bg-card-alt); border-radius: 10px; padding: 16px; text-align: center; }
        .regression-stat-value { font-size: 28px; font-weight: 700; margin-bottom: 4px; }
        .regression-stat-value.green { color: var(--green); }
        .regression-stat-value.yellow { color: var(--yellow); }
        .regression-stat-value.red { color: var(--red); }
        .regression-stat-label { font-size: 10px; color: var(--text-muted); text-transform: uppercase; }
        .regression-history { display: flex; gap: 4px; align-items: flex-end; height: 60px; }
        .regression-bar { flex: 1; border-radius: 3px 3px 0 0; transition: all 0.3s; cursor: pointer; position: relative; }
        .regression-bar:hover { filter: brightness(1.2); }
        .regression-bar.pass { background: var(--green); }
        .regression-bar.partial { background: var(--yellow); }
        .regression-bar.fail { background: var(--red); }
        .regression-bar-tooltip { position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background: var(--bg-dark); padding: 6px 10px; border-radius: 6px; font-size: 10px; white-space: nowrap; opacity: 0; transition: opacity 0.2s; pointer-events: none; }
        .regression-bar:hover .regression-bar-tooltip { opacity: 1; }
        .regression-legend { display: flex; justify-content: center; gap: 20px; margin-top: 12px; }
        .regression-legend-item { display: flex; align-items: center; gap: 6px; font-size: 10px; color: var(--text-muted); }
        .regression-legend-dot { width: 8px; height: 8px; border-radius: 2px; }
        
        /* BEST PRACTICES */
        .practices-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 20px; }
        .practice-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 14px; padding: 20px; }
        .practice-card.do { border-left: 4px solid var(--green); }
        .practice-card.dont { border-left: 4px solid var(--red); }
        .practice-title { font-size: 16px; font-weight: 600; margin-bottom: 14px; }
        .practice-title.do { color: var(--green); }
        .practice-title.dont { color: var(--red); }
        .practice-list { list-style: none; }
        .practice-list li { font-size: 13px; color: var(--text-secondary); padding: 10px 0; border-bottom: 1px solid var(--border-color); line-height: 1.6; }
        
        /* AGENT */
        .agent-grid { display: grid; grid-template-columns: 1fr 1.6fr; gap: 20px; }
        .agent-info { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px; }
        .agent-avatar { width: 60px; height: 60px; background: linear-gradient(135deg, var(--page-primary), var(--page-light)); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 32px; margin-bottom: 16px; }
        .agent-name { font-size: 20px; font-weight: 600; }
        .agent-role { font-size: 12px; color: var(--page-light); margin-bottom: 16px; }
        .agent-desc { font-size: 13px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 20px; }
        .agent-capabilities { list-style: none; }
        .agent-capabilities li { font-size: 12px; color: var(--text-secondary); padding: 8px 0; border-bottom: 1px solid var(--border-color); }
        .agent-capabilities li::before { content: '‚ú¶ '; color: var(--page-light); }
        .code-panel { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; }
        .code-header { padding: 12px 20px; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); font-size: 12px; color: var(--page-light); }
        .code-content { padding: 16px; background: var(--bg-dark); overflow-x: auto; max-height: 400px; }
        .code-content pre { font-family: monospace; font-size: 12px; line-height: 1.7; color: var(--text-secondary); }
        
        /* RELATED */
        .related-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .related-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; text-decoration: none; color: inherit; }
        .related-card:hover { border-color: var(--page-primary); }
        .related-num { font-size: 11px; color: var(--page-light); margin-bottom: 6px; }
        .related-title { font-size: 14px; font-weight: 600; margin-bottom: 6px; }
        .related-desc { font-size: 11px; color: var(--text-muted); }
        
        /* FOOTER */
        footer { background: var(--bg-card); border-top: 1px solid var(--border-color); padding: 20px 32px; margin-left: var(--sidebar-width); }
        .footer-nav { display: flex; justify-content: space-between; align-items: center; }
        .footer-link { text-decoration: none; color: var(--text-secondary); padding: 12px 20px; background: var(--bg-card-alt); border-radius: 10px; font-size: 13px; }
        .footer-brand { font-size: 12px; color: var(--text-muted); }
    </style>
</head>
<body>

<header>
    <div class="logo"><span>STRATEGY</span>HUB</div>
    <div class="header-tagline">Enterprise Technology Knowledge Base</div>
</header>

<aside class="sidebar">
    <div class="sidebar-title">üí¨ Category 06</div>
    <ul class="sidebar-nav">
        <li><a href="cat06-chatbots-overview.html">üè† Overview</a></li>
        <li><a href="cat06-p1-nlu-intent.html">üß† 6.1 NLU & Intent</a></li>
        <li><a href="cat06-p2-dialog-management.html">üîÄ 6.2 Dialog Management</a></li>
        <li><a href="cat06-p3-response-generation.html">üí¨ 6.3 Response Generation</a></li>
        <li><a href="cat06-p4-context-memory.html">üß© 6.4 Context & Memory</a></li>
        <li><a href="cat06-p5-platforms.html">ü§ñ 6.5 Platforms</a></li>
        <li><a href="cat06-p6-voice-assistants.html">üéôÔ∏è 6.6 Voice Assistants</a></li>
        <li><a href="cat06-p7-multichannel.html">üì± 6.7 Multi-Channel</a></li>
        <li><a href="cat06-p8-analytics.html">üìä 6.8 Analytics</a></li>
        <li><a href="cat06-p9-testing.html" class="active">üß™ 6.9 Testing & QA</a></li>
        <li><a href="cat06-p10-enterprise.html">üè¢ 6.10 Enterprise</a></li>
    </ul>
</aside>

<div class="main-wrapper">
    <div class="main-content">
        
        <!-- HERO -->
        <section class="hero-compact">
            <div class="hero-left">
                <div class="hero-tag">üß™ Page 6.9 ‚Ä¢ Quality Assurance</div>
                <h1>Testing & QA</h1>
                <p>Ensure your chatbot performs reliably with comprehensive testing across NLU accuracy, conversation flows, and regression detection.</p>
            </div>
            <div class="hero-metrics">
                <div class="hero-metric"><div class="hero-metric-value">95%</div><div class="hero-metric-label">Intent Accuracy Target</div></div>
                <div class="hero-metric"><div class="hero-metric-value">CI/CD</div><div class="hero-metric-label">Automated Testing</div></div>
                <div class="hero-metric"><div class="hero-metric-value">&lt;1%</div><div class="hero-metric-label">Regression Tolerance</div></div>
                <div class="hero-metric"><div class="hero-metric-value">100%</div><div class="hero-metric-label">Critical Path Coverage</div></div>
            </div>
        </section>

        <!-- OVERVIEW -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üìñ</div>
                <div class="module-info"><h2>Understanding Chatbot Testing</h2><p>Beyond traditional software QA</p></div>
            </div>
            <div class="overview-content">
                <h3>The Testing Challenge</h3>
                <p>Chatbots present unique testing challenges. Unlike traditional software with deterministic inputs and outputs, conversational AI must handle <strong>infinite input variations</strong> for the same intent. "Book a flight," "I need to fly somewhere," and "can u help me get plane tickets" should all work. Testing must validate not just correctness, but naturalness and robustness.</p>
                <p>The <strong>testing pyramid</strong> still applies, but with conversational twists. Unit tests validate individual NLU components‚Äîdoes this regex extract dates correctly? Integration tests verify the dialog manager transitions between states properly. End-to-end tests simulate full conversations, checking that users can complete real tasks.</p>
                <p><strong>Regression testing</strong> is critical for NLU systems. Model updates can inadvertently break previously working intents. A golden test set of known-good utterances catches these regressions before deployment. Track accuracy metrics over time to detect gradual drift that individual test failures might miss.</p>
                <p>Testing must cover both <strong>happy paths and edge cases</strong>. What happens when users provide unexpected input? When they change their mind mid-flow? When the backend API times out? Chaos testing and adversarial inputs reveal weaknesses that polite test cases miss. The goal is confidence that your bot handles the messy reality of human conversation.</p>
            </div>
        </section>

        <!-- KEY CONCEPTS -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üîë</div>
                <div class="module-info"><h2>Key Concepts</h2><p>Testing terminology for chatbots</p></div>
            </div>
            <div class="concepts-grid">
                <div class="concept-card" style="border-left-color: var(--cyan);">
                    <div class="concept-icon">üéØ</div>
                    <div class="concept-term">Golden Test Set</div>
                    <div class="concept-def">Curated collection of utterances with known-correct intent labels. Used for regression testing after model updates.</div>
                    <div class="concept-example">"book flight" ‚Üí book_flight ‚úì<br>"cancel my order" ‚Üí cancel_order ‚úì<br>Run before every deploy</div>
                </div>
                <div class="concept-card" style="border-left-color: var(--purple);">
                    <div class="concept-icon">üîÑ</div>
                    <div class="concept-term">Conversation Replay</div>
                    <div class="concept-def">Re-execute recorded conversation transcripts against the current bot version to verify expected outcomes still occur.</div>
                    <div class="concept-example">Load transcript from logs<br>Replay turn-by-turn<br>Assert final state matches</div>
                </div>
                <div class="concept-card" style="border-left-color: var(--green);">
                    <div class="concept-icon">üìä</div>
                    <div class="concept-term">Confusion Matrix</div>
                    <div class="concept-def">Grid showing predicted vs actual intents. Reveals which intents get confused with each other‚Äîguides training data improvements.</div>
                    <div class="concept-example">check_balance confused with<br>transfer_funds 15% of time<br>‚Üí Add more training examples</div>
                </div>
                <div class="concept-card" style="border-left-color: var(--yellow);">
                    <div class="concept-icon">üé≠</div>
                    <div class="concept-term">Adversarial Testing</div>
                    <div class="concept-def">Deliberately malformed, offensive, or edge-case inputs to test bot robustness and safety guardrails.</div>
                    <div class="concept-example">Typos: "bokk flihgt"<br>Injection: "ignore previous"<br>Offensive: profanity handling</div>
                </div>
                <div class="concept-card" style="border-left-color: var(--pink);">
                    <div class="concept-icon">üìà</div>
                    <div class="concept-term">A/B Testing</div>
                    <div class="concept-def">Split traffic between bot versions to measure impact of changes on real user metrics like completion rate and CSAT.</div>
                    <div class="concept-example">Control: 50% current bot<br>Variant: 50% new prompts<br>Measure: Task completion +5%?</div>
                </div>
                <div class="concept-card" style="border-left-color: var(--blue);">
                    <div class="concept-icon">üîÅ</div>
                    <div class="concept-term">Slot Filling Tests</div>
                    <div class="concept-def">Verify entity extraction across variations. Dates, names, numbers, and custom entities must be captured reliably.</div>
                    <div class="concept-example">"next Tuesday" ‚Üí date ‚úì<br>"the 15th" ‚Üí date ‚úì<br>"tomorrow morning" ‚Üí date ‚úì</div>
                </div>
            </div>
        </section>

        <!-- TEST PYRAMID -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üî∫</div>
                <div class="module-info"><h2>Chatbot Test Pyramid</h2><p>Click each level for details</p></div>
            </div>
            <div class="overview-content">
                <p>The test pyramid prioritizes fast, focused unit tests at the base with fewer (but critical) end-to-end tests at the top. For chatbots, this means heavy investment in NLU unit tests, moderate integration testing of dialog flows, and selective E2E conversation tests.</p>
            </div>
            <div class="pyramid-viz">
                <div class="pyramid-header">üî∫ Conversational AI Test Pyramid</div>
                <div class="pyramid-body">
                    <div class="pyramid-layout">
                        <div class="pyramid-container">
                            <div class="pyramid-level e2e" onclick="showPyramidLevel('e2e')" id="level-e2e">
                                <div class="pyramid-content">
                                    <span class="pyramid-label">E2E Tests</span>
                                    <span class="pyramid-count">~50 tests</span>
                                </div>
                            </div>
                            <div class="pyramid-level integration" onclick="showPyramidLevel('integration')" id="level-integration">
                                <div class="pyramid-content">
                                    <span class="pyramid-label">Integration Tests</span>
                                    <span class="pyramid-count">~200 tests</span>
                                </div>
                            </div>
                            <div class="pyramid-level component" onclick="showPyramidLevel('component')" id="level-component">
                                <div class="pyramid-content">
                                    <span class="pyramid-label">Component Tests</span>
                                    <span class="pyramid-count">~500 tests</span>
                                </div>
                            </div>
                            <div class="pyramid-level unit" onclick="showPyramidLevel('unit')" id="level-unit">
                                <div class="pyramid-content">
                                    <span class="pyramid-label">NLU Unit Tests</span>
                                    <span class="pyramid-count">~2000 tests</span>
                                </div>
                            </div>
                        </div>
                        <div class="pyramid-detail" id="pyramid-detail">
                            <div class="pyramid-placeholder">
                                <div class="pyramid-placeholder-icon">üëÜ</div>
                                <div>Click a pyramid level to see test details</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <script>
            const pyramidData = {
                e2e: {
                    icon: 'üé≠',
                    color: 'linear-gradient(135deg, #EC4899, #DB2777)',
                    title: 'E2E Tests',
                    subtitle: 'Full user journey validation',
                    desc: 'Simulate complete conversations from greeting to goal completion. These are slow but catch integration issues between all components.',
                    tests: [
                        'Complete booking flow with payment',
                        'Multi-turn FAQ with follow-ups',
                        'Handoff to human agent scenario',
                        'Session timeout and recovery',
                        'Cross-channel conversation continuation'
                    ]
                },
                integration: {
                    icon: 'üîó',
                    color: 'linear-gradient(135deg, #8B5CF6, #7C3AED)',
                    title: 'Integration Tests',
                    subtitle: 'State machine transitions',
                    desc: 'Verify dialog manager correctly transitions between states, handles context, and triggers appropriate actions.',
                    tests: [
                        'State transitions on intent match',
                        'Slot filling across multiple turns',
                        'Context preservation between nodes',
                        'Fallback handling and recovery',
                        'Webhook/API response handling'
                    ]
                },
                component: {
                    icon: 'üß©',
                    color: 'linear-gradient(135deg, #3B82F6, #2563EB)',
                    title: 'Component Tests',
                    subtitle: 'Individual module validation',
                    desc: 'Test individual components in isolation: response generators, entity validators, business logic functions.',
                    tests: [
                        'Response template rendering',
                        'Entity validation rules',
                        'Date/time parsing functions',
                        'Business logic calculations',
                        'Channel adapter formatting'
                    ]
                },
                unit: {
                    icon: 'üéØ',
                    color: 'linear-gradient(135deg, #06B6D4, #0891B2)',
                    title: 'NLU Unit Tests',
                    subtitle: 'Intent & entity accuracy',
                    desc: 'The foundation: validate every intent has test utterances, every entity type extracts correctly, confidence thresholds work.',
                    tests: [
                        'Intent classification per utterance',
                        'Entity extraction accuracy',
                        'Confidence threshold validation',
                        'Out-of-scope detection',
                        'Language/locale variations'
                    ]
                }
            };
            
            function showPyramidLevel(level) {
                const data = pyramidData[level];
                const panel = document.getElementById('pyramid-detail');
                
                panel.innerHTML = `
                    <div class="pyramid-detail-header">
                        <div class="pyramid-detail-icon" style="background: ${data.color}">${data.icon}</div>
                        <div>
                            <div class="pyramid-detail-title">${data.title}</div>
                            <div class="pyramid-detail-subtitle">${data.subtitle}</div>
                        </div>
                    </div>
                    <div class="pyramid-detail-desc">${data.desc}</div>
                    <ul class="pyramid-detail-tests">
                        ${data.tests.map(t => `<li><span class="test-bullet">‚úì</span> ${t}</li>`).join('')}
                    </ul>
                `;
                panel.classList.add('active');
                
                document.querySelectorAll('.pyramid-level').forEach(l => l.classList.remove('active'));
                document.getElementById('level-' + level).classList.add('active');
            }
            </script>
        </section>

        <!-- TEST COVERAGE MATRIX -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üìã</div>
                <div class="module-info"><h2>Intent Test Coverage</h2><p>Track testing completeness by intent</p></div>
            </div>
            <div class="matrix-viz">
                <div class="matrix-header">üìä Coverage Matrix ‚Äî All Intents</div>
                <div class="matrix-body">
                    <table class="matrix-table">
                        <thead>
                            <tr>
                                <th>Intent</th>
                                <th>Test Cases</th>
                                <th>Coverage</th>
                                <th>Last Run</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="matrix-intent">book_flight</td>
                                <td>156 / 160</td>
                                <td class="matrix-coverage">
                                    <div class="coverage-bar"><div class="coverage-fill high" style="width: 97%;"></div></div>
                                    <span class="coverage-pct">97%</span>
                                </td>
                                <td>2 min ago</td>
                                <td><span class="matrix-status pass">‚úì Pass</span></td>
                            </tr>
                            <tr>
                                <td class="matrix-intent">cancel_booking</td>
                                <td>89 / 95</td>
                                <td class="matrix-coverage">
                                    <div class="coverage-bar"><div class="coverage-fill high" style="width: 94%;"></div></div>
                                    <span class="coverage-pct">94%</span>
                                </td>
                                <td>2 min ago</td>
                                <td><span class="matrix-status pass">‚úì Pass</span></td>
                            </tr>
                            <tr>
                                <td class="matrix-intent">check_status</td>
                                <td>72 / 80</td>
                                <td class="matrix-coverage">
                                    <div class="coverage-bar"><div class="coverage-fill high" style="width: 90%;"></div></div>
                                    <span class="coverage-pct">90%</span>
                                </td>
                                <td>2 min ago</td>
                                <td><span class="matrix-status pass">‚úì Pass</span></td>
                            </tr>
                            <tr>
                                <td class="matrix-intent">change_date</td>
                                <td>58 / 75</td>
                                <td class="matrix-coverage">
                                    <div class="coverage-bar"><div class="coverage-fill med" style="width: 77%;"></div></div>
                                    <span class="coverage-pct">77%</span>
                                </td>
                                <td>2 min ago</td>
                                <td><span class="matrix-status warn">‚ö† 3 Flaky</span></td>
                            </tr>
                            <tr>
                                <td class="matrix-intent">request_refund</td>
                                <td>41 / 60</td>
                                <td class="matrix-coverage">
                                    <div class="coverage-bar"><div class="coverage-fill low" style="width: 68%;"></div></div>
                                    <span class="coverage-pct">68%</span>
                                </td>
                                <td>2 min ago</td>
                                <td><span class="matrix-status fail">‚úó 2 Failed</span></td>
                            </tr>
                            <tr>
                                <td class="matrix-intent">speak_to_agent</td>
                                <td>35 / 40</td>
                                <td class="matrix-coverage">
                                    <div class="coverage-bar"><div class="coverage-fill high" style="width: 88%;"></div></div>
                                    <span class="coverage-pct">88%</span>
                                </td>
                                <td>2 min ago</td>
                                <td><span class="matrix-status pass">‚úì Pass</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- REGRESSION DASHBOARD -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üìà</div>
                <div class="module-info"><h2>Regression Tracking</h2><p>Monitor test stability over time</p></div>
            </div>
            <div class="overview-content">
                <p><strong>Regression testing</strong> is the safety net that catches unintended side effects when you update your chatbot. Every model retrain, every new intent, every prompt tweak has the potential to break something that was working. A robust regression suite runs automatically on every commit, comparing current behavior against known-good baselines.</p>
                <p>The key metric is <strong>pass rate over time</strong>. A healthy CI/CD pipeline maintains >95% pass rate consistently. Sudden drops indicate breaking changes that need immediate attention. Gradual decline suggests model drift‚Äîyour NLU accuracy is slowly degrading as user language evolves away from your training data. Both patterns require different remediation strategies.</p>
                <p><strong>Flaky tests</strong> are tests that sometimes pass and sometimes fail without code changes. They erode confidence in your test suite and train developers to ignore failures. Track flaky tests separately and either fix them (often timing issues or external dependencies) or quarantine them. A test that fails randomly is worse than no test at all‚Äîit creates noise that masks real problems.</p>
            </div>
            <div class="regression-viz">
                <div class="regression-header">
                    <span>üîÑ Last 30 Days ‚Äî CI/CD Pipeline Runs</span>
                    <div class="regression-status">
                        <div class="regression-dot pass"></div>
                        <span>Build #1847 Passing</span>
                    </div>
                </div>
                <div class="regression-body">
                    <div class="regression-grid">
                        <div class="regression-stat">
                            <div class="regression-stat-value green">98.2%</div>
                            <div class="regression-stat-label">Pass Rate</div>
                        </div>
                        <div class="regression-stat">
                            <div class="regression-stat-value">2,847</div>
                            <div class="regression-stat-label">Total Tests</div>
                        </div>
                        <div class="regression-stat">
                            <div class="regression-stat-value yellow">12</div>
                            <div class="regression-stat-label">Flaky Tests</div>
                        </div>
                        <div class="regression-stat">
                            <div class="regression-stat-value">3m 24s</div>
                            <div class="regression-stat-label">Avg Run Time</div>
                        </div>
                    </div>
                    <div class="regression-history">
                        <div class="regression-bar pass" style="height: 100%;"><div class="regression-bar-tooltip">Dec 1: 100%</div></div>
                        <div class="regression-bar pass" style="height: 98%;"><div class="regression-bar-tooltip">Dec 2: 98%</div></div>
                        <div class="regression-bar pass" style="height: 99%;"><div class="regression-bar-tooltip">Dec 3: 99%</div></div>
                        <div class="regression-bar pass" style="height: 100%;"><div class="regression-bar-tooltip">Dec 4: 100%</div></div>
                        <div class="regression-bar partial" style="height: 92%;"><div class="regression-bar-tooltip">Dec 5: 92%</div></div>
                        <div class="regression-bar pass" style="height: 97%;"><div class="regression-bar-tooltip">Dec 6: 97%</div></div>
                        <div class="regression-bar pass" style="height: 99%;"><div class="regression-bar-tooltip">Dec 7: 99%</div></div>
                        <div class="regression-bar pass" style="height: 100%;"><div class="regression-bar-tooltip">Dec 8: 100%</div></div>
                        <div class="regression-bar pass" style="height: 98%;"><div class="regression-bar-tooltip">Dec 9: 98%</div></div>
                        <div class="regression-bar fail" style="height: 85%;"><div class="regression-bar-tooltip">Dec 10: 85% ‚ö†Ô∏è</div></div>
                        <div class="regression-bar pass" style="height: 96%;"><div class="regression-bar-tooltip">Dec 11: 96%</div></div>
                        <div class="regression-bar pass" style="height: 99%;"><div class="regression-bar-tooltip">Dec 12: 99%</div></div>
                        <div class="regression-bar pass" style="height: 100%;"><div class="regression-bar-tooltip">Dec 13: 100%</div></div>
                        <div class="regression-bar pass" style="height: 98%;"><div class="regression-bar-tooltip">Dec 14: 98%</div></div>
                        <div class="regression-bar pass" style="height: 99%;"><div class="regression-bar-tooltip">Dec 15: 99%</div></div>
                        <div class="regression-bar pass" style="height: 100%;"><div class="regression-bar-tooltip">Dec 16: 100%</div></div>
                    </div>
                    <div class="regression-legend">
                        <div class="regression-legend-item"><div class="regression-legend-dot" style="background: var(--green);"></div> Pass (>95%)</div>
                        <div class="regression-legend-item"><div class="regression-legend-dot" style="background: var(--yellow);"></div> Partial (90-95%)</div>
                        <div class="regression-legend-item"><div class="regression-legend-dot" style="background: var(--red);"></div> Fail (<90%)</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TEST CASE BUILDER -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üîß</div>
                <div class="module-info"><h2>Test Case Structure</h2><p>Anatomy of a chatbot test</p></div>
            </div>
            <div class="builder-viz">
                <div class="builder-header">üìù Building Effective Test Cases</div>
                <div class="builder-body">
                    <div class="builder-flow">
                        <div class="builder-step">
                            <div class="builder-step-num">1</div>
                            <div class="builder-step-title">Setup</div>
                            <div class="builder-step-content">Initialize session, set user context, mock external APIs</div>
                        </div>
                        <div class="builder-step">
                            <div class="builder-step-num">2</div>
                            <div class="builder-step-title">Input</div>
                            <div class="builder-step-content">User utterance or simulated event (button click, payload)</div>
                        </div>
                        <div class="builder-step">
                            <div class="builder-step-num">3</div>
                            <div class="builder-step-title">Assert</div>
                            <div class="builder-step-content">Verify intent, entities, response text, state transitions</div>
                        </div>
                        <div class="builder-step">
                            <div class="builder-step-num">4</div>
                            <div class="builder-step-title">Teardown</div>
                            <div class="builder-step-content">Clean up session, reset mocks, log results</div>
                        </div>
                    </div>
                    <div class="builder-example">
                        <div class="builder-example-title">Example: Intent Classification Test</div>
                        <div class="builder-example-code"><span class="key">def</span> test_book_flight_intent():
    <span class="comment"># Setup</span>
    session = create_test_session(user_id=<span class="string">"test_123"</span>)
    
    <span class="comment"># Input</span>
    result = nlu.classify(<span class="string">"I need to book a flight to NYC"</span>)
    
    <span class="comment"># Assert</span>
    assert result.intent == <span class="string">"book_flight"</span>
    assert result.confidence > 0.85
    assert result.entities[<span class="string">"destination"</span>] == <span class="string">"NYC"</span>
    
    <span class="comment"># Teardown</span>
    session.cleanup()</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- BEST PRACTICES -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">‚úÖ</div>
                <div class="module-info"><h2>Best Practices</h2><p>Testing guidelines</p></div>
            </div>
            <div class="practices-grid">
                <div class="practice-card do">
                    <div class="practice-title do">‚úì Do This</div>
                    <ul class="practice-list">
                        <li>Maintain a golden test set that runs on every commit</li>
                        <li>Test edge cases: typos, incomplete sentences, code-switching</li>
                        <li>Include adversarial inputs to test safety guardrails</li>
                        <li>Track NLU accuracy metrics over time‚Äîdetect drift early</li>
                        <li>Test on production-like data (anonymized real conversations)</li>
                        <li>Automate visual regression for rich message templates</li>
                    </ul>
                </div>
                <div class="practice-card dont">
                    <div class="practice-title dont">‚úó Avoid This</div>
                    <ul class="practice-list">
                        <li>Testing only happy paths‚Äîreal users are unpredictable</li>
                        <li>Hardcoding expected responses (they change frequently)</li>
                        <li>Skipping integration tests between NLU and dialog manager</li>
                        <li>Ignoring flaky tests‚Äîthey indicate real instability</li>
                        <li>Testing only in English if you support multiple languages</li>
                        <li>Manual testing before every deploy‚Äîautomate everything</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- AGENT -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">ü§ñ</div>
                <div class="module-info"><h2>Agent This</h2><p>AI-powered test generation</p></div>
            </div>
            <div class="agent-grid">
                <div class="agent-info">
                    <div class="agent-avatar">üß™</div>
                    <div class="agent-name">QualityAssuranceAgent</div>
                    <div class="agent-role">Chatbot Testing Specialist</div>
                    <div class="agent-desc">Expert in designing comprehensive test suites, generating test cases from conversation logs, and identifying coverage gaps.</div>
                    <ul class="agent-capabilities">
                        <li>Generate test cases from production logs</li>
                        <li>Identify intent confusion patterns</li>
                        <li>Create adversarial test inputs</li>
                        <li>Build regression test suites</li>
                        <li>Analyze test coverage gaps</li>
                        <li>Automate conversation replay tests</li>
                    </ul>
                </div>
                <div class="code-panel">
                    <div class="code-header">test_agent.py</div>
                    <div class="code-content"><pre>from crewai import Agent, Task, Crew
from dataclasses import dataclass
import pytest

qa_agent = Agent(
    role="Chatbot QA Engineer",
    goal="Ensure comprehensive test coverage and catch regressions",
    backstory="""Senior QA engineer specializing in conversational AI.
    Expert at generating test cases, identifying edge cases, and
    building robust CI/CD pipelines for chatbot deployments.""",
    tools=[TestGenerator(), CoverageAnalyzer(), RegressionDetector()]
)

@dataclass
class TestCase:
    utterance: str
    expected_intent: str
    expected_entities: dict
    min_confidence: float = 0.85
    tags: list = None

class ChatbotTestSuite:
    def __init__(self, nlu_client, dialog_client):
        self.nlu = nlu_client
        self.dialog = dialog_client
        self.golden_tests: list[TestCase] = []
    
    def load_golden_tests(self, filepath: str):
        """Load golden test set from YAML/JSON file."""
        # Load curated test cases
        pass
    
    def generate_tests_from_logs(self, logs: list[dict]) -> list[TestCase]:
        """Auto-generate test cases from production conversation logs."""
        tests = []
        for log in logs:
            if log.get("nlu_confidence", 0) > 0.95:  # High confidence = ground truth
                tests.append(TestCase(
                    utterance=log["user_message"],
                    expected_intent=log["detected_intent"],
                    expected_entities=log["extracted_entities"],
                    tags=["auto-generated", "production"]
                ))
        return tests
    
    def run_nlu_tests(self) -> dict:
        """Execute all NLU unit tests."""
        results = {"passed": 0, "failed": 0, "errors": []}
        
        for test in self.golden_tests:
            result = self.nlu.classify(test.utterance)
            
            if result.intent != test.expected_intent:
                results["failed"] += 1
                results["errors"].append({
                    "utterance": test.utterance,
                    "expected": test.expected_intent,
                    "actual": result.intent,
                    "confidence": result.confidence
                })
            elif result.confidence < test.min_confidence:
                results["failed"] += 1
                results["errors"].append({
                    "utterance": test.utterance,
                    "issue": "Low confidence",
                    "confidence": result.confidence
                })
            else:
                results["passed"] += 1
        
        return results
    
    def run_conversation_test(self, turns: list[dict]) -> bool:
        """Execute multi-turn conversation test."""
        session = self.dialog.create_session()
        
        for turn in turns:
            response = session.send(turn["user"])
            
            if turn.get("assert_intent"):
                assert response.intent == turn["assert_intent"]
            if turn.get("assert_contains"):
                assert turn["assert_contains"] in response.text
            if turn.get("assert_state"):
                assert session.current_state == turn["assert_state"]
        
        return True

# Pytest integration
@pytest.fixture
def test_suite():
    return ChatbotTestSuite(nlu_client, dialog_client)

def test_golden_set(test_suite):
    test_suite.load_golden_tests("tests/golden_tests.yaml")
    results = test_suite.run_nlu_tests()
    assert results["failed"] == 0, f"Failed tests: {results['errors']}"

# Task for generating new tests
task = Task(
    description="Analyze last week's low-confidence conversations and generate test cases",
    agent=qa_agent,
    expected_output="New test cases for intents with <90% accuracy"
)

crew = Crew(agents=[qa_agent], tasks=[task])
result = crew.kickoff()</pre></div>
                </div>
            </div>
        </section>

        <!-- RELATED -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üîó</div>
                <div class="module-info"><h2>Related Pages</h2><p>Continue learning</p></div>
            </div>
            <div class="related-grid">
                <a href="cat06-p8-analytics.html" class="related-card"><div class="related-num">Page 6.8</div><div class="related-title">Analytics & Metrics</div><div class="related-desc">Measure what you test</div></a>
                <a href="cat06-p1-nlu-intent.html" class="related-card"><div class="related-num">Page 6.1</div><div class="related-title">NLU & Intent</div><div class="related-desc">What to test first</div></a>
                <a href="cat06-p10-enterprise.html" class="related-card"><div class="related-num">Page 6.10</div><div class="related-title">Enterprise Integration</div><div class="related-desc">Testing integrations</div></a>
            </div>
        </section>
    </div>
</div>

<footer>
    <div class="footer-nav">
        <a href="cat06-p8-analytics.html" class="footer-link">‚Üê 6.8: Analytics</a>
        <div class="footer-brand"><strong>STRATEGY</strong>HUB ‚Ä¢ Page 6.9 of 10</div>
        <a href="cat06-p10-enterprise.html" class="footer-link">6.10: Enterprise ‚Üí</a>
    </div>
</footer>

</body>
</html>
