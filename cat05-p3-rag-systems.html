<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Systems | Generative AI | Strategy Hub</title>
    <style>
        :root {
            --brand-orange: #FF9900;
            --cat-primary: #EC4899;
            --cat-light: #F472B6;
            --cat-glow: rgba(236, 72, 153, 0.15);
            --page-primary: #8B5CF6;
            --page-light: #A78BFA;
            --page-glow: rgba(139, 92, 246, 0.15);
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --bg-card-alt: #1a1a2e;
            --bg-hover: #252538;
            --border-color: #2a2a3e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6a6a7a;
            --green: #10B981;
            --yellow: #F59E0B;
            --red: #EF4444;
            --blue: #3B82F6;
            --cyan: #06B6D4;
            --pink: #EC4899;
            --violet: #8B5CF6;
            --sidebar-width: 260px;
            --header-height: 60px;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-dark); color: var(--text-primary); line-height: 1.6; }
        
        header { background: var(--bg-card); border-bottom: 1px solid var(--border-color); padding: 16px 32px; position: fixed; top: 0; left: 0; right: 0; z-index: 1000; height: var(--header-height); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 20px; font-weight: 700; }
        .logo span { color: var(--brand-orange); }
        .breadcrumb { display: flex; align-items: center; gap: 8px; font-size: 13px; }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; }
        .breadcrumb a:hover { color: var(--brand-orange); }
        .breadcrumb .sep { color: var(--text-muted); }
        .breadcrumb .current { color: var(--text-primary); }
        
        .sidebar { position: fixed; top: var(--header-height); left: 0; width: var(--sidebar-width); height: calc(100vh - var(--header-height)); background: var(--bg-card); border-right: 1px solid var(--border-color); overflow-y: auto; z-index: 100; padding: 24px 0; }
        .sidebar-section { margin-bottom: 24px; }
        .sidebar-title { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--cat-light); padding: 0 24px; margin-bottom: 8px; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav a { display: flex; align-items: center; gap: 8px; padding: 10px 24px; color: var(--text-secondary); text-decoration: none; font-size: 12px; border-left: 3px solid transparent; transition: all 0.2s; }
        .sidebar-nav a:hover { background: var(--bg-hover); color: var(--text-primary); }
        .sidebar-nav a.active { background: var(--page-glow); color: var(--page-light); border-left-color: var(--page-light); }
        .nav-icon { font-size: 14px; width: 24px; text-align: center; }
        
        .main-wrapper { margin-left: var(--sidebar-width); margin-top: var(--header-height); }
        .main-content { max-width: 1100px; padding: 32px; }
        
        .hero-compact { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; margin-bottom: 32px; padding: 28px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; position: relative; }
        .hero-compact::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, var(--page-primary), var(--page-light), var(--cat-primary)); }
        .hero-tag { display: inline-flex; background: var(--page-glow); border: 1px solid var(--page-primary); padding: 5px 14px; border-radius: 9999px; font-size: 12px; color: var(--page-light); margin-bottom: 12px; width: fit-content; }
        .hero-left h1 { font-size: 28px; margin-bottom: 8px; }
        .hero-left p { font-size: 13px; color: var(--text-secondary); line-height: 1.6; }
        .hero-metrics { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .hero-metric { background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; text-align: center; position: relative; }
        .hero-metric::before { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 3px; background: var(--page-primary); border-radius: 0 0 12px 12px; }
        .hero-metric-value { font-size: 24px; font-weight: 700; color: var(--page-light); }
        .hero-metric-label { font-size: 10px; color: var(--text-muted); margin-top: 4px; }
        
        .module { margin-bottom: 32px; padding-top: 24px; border-top: 1px solid var(--border-color); }
        .module:first-of-type { border-top: none; padding-top: 0; }
        .module-header { display: flex; align-items: center; gap: 16px; margin-bottom: 20px; }
        .module-icon { width: 52px; height: 52px; background: var(--page-glow); border: 2px solid var(--page-primary); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 26px; }
        .module-info h2 { font-size: 20px; margin-bottom: 4px; }
        .module-info p { font-size: 12px; color: var(--text-muted); }
        
        .overview-content { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .overview-content h3 { font-size: 16px; margin-bottom: 12px; color: var(--page-light); }
        .overview-content p { font-size: 13px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 12px; }
        .overview-content p:last-child { margin-bottom: 0; }
        
        /* RAG PIPELINE DIAGRAM */
        .pipeline-diagram { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; margin-bottom: 20px; }
        .pipeline-header { padding: 12px 20px; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; }
        .pipeline-title { font-size: 13px; font-weight: 600; }
        .pipeline-badge { font-size: 11px; padding: 4px 12px; border-radius: 9999px; background: var(--page-glow); color: var(--page-light); }
        .pipeline-canvas { padding: 24px; background: var(--bg-dark); }
        
        .pipeline-section { margin-bottom: 24px; }
        .pipeline-section:last-child { margin-bottom: 0; }
        .pipeline-section-title { font-size: 11px; font-weight: 600; color: var(--page-light); margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
        .pipeline-flow { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
        .pipeline-step { background: var(--bg-card-alt); border: 2px solid var(--border-color); border-radius: 10px; padding: 12px 16px; text-align: center; min-width: 90px; }
        .pipeline-step.ingest { border-color: var(--cyan); background: rgba(6, 182, 212, 0.1); }
        .pipeline-step.chunk { border-color: var(--blue); background: rgba(59, 130, 246, 0.1); }
        .pipeline-step.embed { border-color: var(--violet); background: rgba(139, 92, 246, 0.1); }
        .pipeline-step.store { border-color: var(--pink); background: rgba(236, 72, 153, 0.1); }
        .pipeline-step.query { border-color: var(--yellow); background: rgba(245, 158, 11, 0.1); }
        .pipeline-step.retrieve { border-color: var(--green); background: rgba(16, 185, 129, 0.1); }
        .pipeline-step.generate { border-color: var(--red); background: rgba(239, 68, 68, 0.1); }
        .pipeline-step-icon { font-size: 20px; margin-bottom: 6px; }
        .pipeline-step-title { font-size: 10px; font-weight: 600; }
        .pipeline-step-desc { font-size: 8px; color: var(--text-muted); margin-top: 2px; }
        .pipeline-arrow { font-size: 16px; color: var(--text-muted); }
        
        /* CHUNKING STRATEGIES */
        .chunking-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 20px; }
        .chunk-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; }
        .chunk-header { padding: 16px; border-bottom: 1px solid var(--border-color); }
        .chunk-header.fixed { background: linear-gradient(135deg, rgba(59,130,246,0.2), transparent); border-left: 3px solid var(--blue); }
        .chunk-header.semantic { background: linear-gradient(135deg, rgba(16,185,129,0.2), transparent); border-left: 3px solid var(--green); }
        .chunk-header.recursive { background: linear-gradient(135deg, rgba(139,92,246,0.2), transparent); border-left: 3px solid var(--violet); }
        .chunk-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
        .chunk-subtitle { font-size: 10px; color: var(--text-muted); }
        .chunk-body { padding: 16px; }
        .chunk-desc { font-size: 11px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 12px; }
        .chunk-visual { background: var(--bg-dark); border-radius: 8px; padding: 12px; margin-bottom: 12px; }
        .chunk-bar { height: 24px; background: var(--bg-card-alt); border-radius: 4px; margin-bottom: 6px; display: flex; overflow: hidden; }
        .chunk-segment { display: flex; align-items: center; justify-content: center; font-size: 8px; color: white; font-weight: 600; }
        .chunk-config { font-family: monospace; font-size: 10px; color: var(--page-light); background: var(--bg-card-alt); padding: 8px; border-radius: 6px; }
        .chunk-pros { list-style: none; margin-top: 8px; }
        .chunk-pros li { font-size: 10px; color: var(--text-muted); padding: 3px 0; }
        .chunk-pros li::before { content: '‚úì '; color: var(--green); }
        
        /* RETRIEVAL COMPARISON */
        .retrieval-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 20px; }
        .retrieval-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .retrieval-icon { font-size: 32px; margin-bottom: 12px; }
        .retrieval-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
        .retrieval-subtitle { font-size: 10px; color: var(--page-light); margin-bottom: 12px; }
        .retrieval-desc { font-size: 11px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 12px; }
        .retrieval-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 12px; }
        .retrieval-stat { background: var(--bg-card-alt); border-radius: 6px; padding: 8px; text-align: center; }
        .retrieval-stat-value { font-size: 12px; font-weight: 600; color: var(--page-light); }
        .retrieval-stat-label { font-size: 8px; color: var(--text-muted); }
        .retrieval-pros { list-style: none; }
        .retrieval-pros li { font-size: 10px; color: var(--green); padding: 2px 0; }
        .retrieval-pros li::before { content: '+ '; }
        .retrieval-cons { list-style: none; margin-top: 6px; }
        .retrieval-cons li { font-size: 10px; color: var(--text-muted); padding: 2px 0; }
        .retrieval-cons li::before { content: '‚àí '; color: var(--red); }
        
        /* VECTOR DB COMPARISON */
        .comparison-table { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; margin-bottom: 20px; }
        .comparison-header { background: var(--bg-card-alt); padding: 12px 16px; border-bottom: 1px solid var(--border-color); }
        .comparison-title { font-size: 13px; font-weight: 600; }
        .comparison-table table { width: 100%; border-collapse: collapse; }
        .comparison-table th { background: var(--bg-card-alt); padding: 10px 12px; text-align: left; font-size: 10px; font-weight: 600; color: var(--text-muted); border-bottom: 1px solid var(--border-color); }
        .comparison-table td { padding: 12px; font-size: 11px; border-bottom: 1px solid var(--border-color); }
        .comparison-table tr:hover td { background: var(--bg-hover); }
        .compare-tag { font-size: 9px; padding: 2px 8px; border-radius: 4px; }
        .compare-tag.excellent { background: rgba(16,185,129,0.2); color: var(--green); }
        .compare-tag.good { background: rgba(59,130,246,0.2); color: var(--blue); }
        .compare-tag.moderate { background: rgba(245,158,11,0.2); color: var(--yellow); }
        
        /* RERANKING FLOW */
        .rerank-flow { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .rerank-title { font-size: 14px; font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
        .rerank-stages { display: flex; align-items: center; gap: 16px; margin-bottom: 16px; }
        .rerank-stage { flex: 1; background: var(--bg-card-alt); border-radius: 10px; padding: 16px; text-align: center; }
        .rerank-stage-num { font-size: 20px; font-weight: 700; color: var(--page-light); margin-bottom: 4px; }
        .rerank-stage-title { font-size: 12px; font-weight: 600; margin-bottom: 4px; }
        .rerank-stage-desc { font-size: 10px; color: var(--text-muted); }
        .rerank-arrow { font-size: 20px; color: var(--text-muted); }
        .rerank-caption { font-size: 11px; color: var(--text-muted); background: var(--bg-dark); padding: 12px; border-radius: 8px; }
        
        /* BEST PRACTICES */
        .practices-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 20px; }
        .practice-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .practice-card.do { border-left: 3px solid var(--green); }
        .practice-card.dont { border-left: 3px solid var(--red); }
        .practice-title { font-size: 14px; font-weight: 600; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .practice-title.do { color: var(--green); }
        .practice-title.dont { color: var(--red); }
        .practice-list { list-style: none; }
        .practice-list li { font-size: 11px; color: var(--text-secondary); padding: 6px 0; border-bottom: 1px solid var(--border-color); }
        .practice-list li:last-child { border-bottom: none; }
        
        /* AGENT SECTION */
        .agent-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 20px; }
        .agent-info { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .agent-avatar { width: 56px; height: 56px; background: linear-gradient(135deg, var(--page-primary), var(--page-light)); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 28px; margin-bottom: 16px; }
        .agent-name { font-size: 18px; font-weight: 600; margin-bottom: 4px; }
        .agent-role { font-size: 11px; color: var(--page-light); margin-bottom: 16px; }
        .agent-desc { font-size: 11px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 16px; }
        .agent-capabilities { list-style: none; }
        .agent-capabilities li { font-size: 11px; color: var(--text-secondary); padding: 6px 0; display: flex; align-items: center; gap: 8px; }
        .agent-capabilities li::before { content: '‚ú¶'; color: var(--page-light); }
        
        .code-panel { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; }
        .code-header { display: flex; align-items: center; background: var(--bg-card-alt); border-bottom: 1px solid var(--border-color); }
        .code-tab { padding: 10px 16px; font-size: 11px; color: var(--text-muted); cursor: pointer; border-bottom: 2px solid transparent; }
        .code-tab.active { color: var(--page-light); border-bottom-color: var(--page-light); }
        .code-filename { margin-left: auto; padding: 10px 16px; font-size: 10px; color: var(--text-muted); font-family: monospace; }
        .code-content { padding: 16px; background: var(--bg-dark); overflow-x: auto; }
        .code-content pre { font-family: 'Monaco', 'Consolas', monospace; font-size: 11px; line-height: 1.6; color: var(--text-secondary); }
        .code-keyword { color: var(--pink); }
        .code-string { color: var(--green); }
        .code-function { color: var(--page-light); }
        .code-comment { color: var(--text-muted); }
        
        /* RELATED PAGES */
        .related-pages { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .related-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 16px; text-decoration: none; color: inherit; transition: all 0.2s; }
        .related-card:hover { border-color: var(--page-primary); transform: translateY(-2px); }
        .related-num { font-size: 10px; color: var(--page-light); margin-bottom: 4px; }
        .related-title { font-size: 13px; font-weight: 600; margin-bottom: 4px; }
        .related-desc { font-size: 10px; color: var(--text-muted); }
        
        footer { background: var(--bg-card); border-top: 1px solid var(--border-color); padding: 20px 32px; margin-left: var(--sidebar-width); }
        .footer-nav { display: flex; justify-content: space-between; align-items: center; }
        .footer-link { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-secondary); padding: 12px 20px; background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 10px; transition: all 0.2s; }
        .footer-link:hover { border-color: var(--page-primary); color: var(--text-primary); }
        .footer-link-label { font-size: 10px; color: var(--text-muted); }
        .footer-link-title { font-size: 13px; font-weight: 600; }
        .footer-brand { font-size: 12px; color: var(--text-muted); }
        .footer-brand strong { color: var(--brand-orange); }
    </style>
</head>
<body>

<header>
    <div class="logo"><span>STRATEGY</span>HUB</div>
    <div class="breadcrumb">
        <a href="#">Strategy Hub</a>
        <span class="sep">/</span>
        <a href="cat05-generative-ai-overview.html">Generative AI</a>
        <span class="sep">/</span>
        <span class="current">RAG Systems</span>
    </div>
</header>

<aside class="sidebar">
    <div class="sidebar-section">
        <div class="sidebar-title">üé® Category 05</div>
        <ul class="sidebar-nav">
            <li><a href="cat05-generative-ai-overview.html"><span class="nav-icon">üè†</span> Overview</a></li>
        </ul>
    </div>
    <div class="sidebar-section">
        <div class="sidebar-title">üìÑ Pages</div>
        <ul class="sidebar-nav">
            <li><a href="cat05-p1-llm-fundamentals.html"><span class="nav-icon">üß†</span> 5.1 LLM Fundamentals</a></li>
            <li><a href="cat05-p2-prompt-engineering.html"><span class="nav-icon">‚úçÔ∏è</span> 5.2 Prompt Engineering</a></li>
            <li><a href="cat05-p3-rag-systems.html" class="active"><span class="nav-icon">üîç</span> 5.3 RAG Systems</a></li>
            <li><a href="cat05-p4-fine-tuning.html"><span class="nav-icon">üéØ</span> 5.4 Fine-Tuning</a></li>
            <li><a href="cat05-p5-embeddings.html"><span class="nav-icon">üìä</span> 5.5 Embeddings</a></li>
            <li><a href="cat05-p6-model-evaluation.html"><span class="nav-icon">üìà</span> 5.6 Evaluation</a></li>
            <li><a href="cat05-p7-multimodal.html"><span class="nav-icon">üñºÔ∏è</span> 5.7 Multimodal</a></li>
            <li><a href="cat05-p8-responsible-ai.html"><span class="nav-icon">‚öñÔ∏è</span> 5.8 Responsible AI</a></li>
            <li><a href="cat05-p9-deployment.html"><span class="nav-icon">üöÄ</span> 5.9 Deployment</a></li>
            <li><a href="cat05-p10-cost-optimization.html"><span class="nav-icon">üí∞</span> 5.10 Cost</a></li>
        </ul>
    </div>
</aside>

<div class="main-wrapper">
    <div class="main-content">
        
        <!-- HERO -->
        <section class="hero-compact">
            <div class="hero-left">
                <div class="hero-tag">üîç Page 5.3</div>
                <h1>RAG Systems</h1>
                <p>Build retrieval-augmented generation pipelines that ground LLM responses in your own data. Master chunking strategies, embedding models, vector databases, and retrieval optimization.</p>
            </div>
            <div class="hero-metrics">
                <div class="hero-metric">
                    <div class="hero-metric-value">95%</div>
                    <div class="hero-metric-label">Hallucination Reduction</div>
                </div>
                <div class="hero-metric">
                    <div class="hero-metric-value">Top-K</div>
                    <div class="hero-metric-label">Retrieval Strategy</div>
                </div>
                <div class="hero-metric">
                    <div class="hero-metric-value">Vector</div>
                    <div class="hero-metric-label">Semantic Search</div>
                </div>
                <div class="hero-metric">
                    <div class="hero-metric-value">Real-time</div>
                    <div class="hero-metric-label">Knowledge Updates</div>
                </div>
            </div>
        </section>

        <!-- OVERVIEW -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üìñ</div>
                <div class="module-info">
                    <h2>What is RAG?</h2>
                    <p>Retrieval-Augmented Generation explained</p>
                </div>
            </div>
            <div class="overview-content">
                <h3>RAG Architecture Overview</h3>
                <p>Retrieval-Augmented Generation (RAG) is an architecture that enhances LLM outputs by retrieving relevant information from external knowledge bases before generating responses. Instead of relying solely on knowledge encoded during training, RAG systems dynamically fetch context from your documents, databases, or APIs.</p>
                <p>The key insight is that LLMs have a knowledge cutoff and can hallucinate facts. RAG solves both problems: it provides access to current information and grounds responses in actual source documents that can be cited. This is essential for enterprise applications where accuracy and traceability are critical.</p>
                <p>RAG pipelines have two phases: <strong>indexing</strong> (preparing documents) and <strong>querying</strong> (retrieving and generating). The indexing phase runs once per document update, while querying happens in real-time for each user request. Optimizing both phases is key to building production RAG systems.</p>
            </div>
        </section>

        <!-- RAG PIPELINE DIAGRAM -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üîÑ</div>
                <div class="module-info">
                    <h2>RAG Pipeline Architecture</h2>
                    <p>End-to-end retrieval-augmented generation flow</p>
                </div>
            </div>
            <div class="pipeline-diagram">
                <div class="pipeline-header">
                    <div class="pipeline-title">üìä Complete RAG Pipeline</div>
                    <div class="pipeline-badge">2 Phases, 7 Steps</div>
                </div>
                <div class="pipeline-canvas">
                    <div class="pipeline-section">
                        <div class="pipeline-section-title">Phase 1: Indexing (Offline)</div>
                        <div class="pipeline-flow">
                            <div class="pipeline-step ingest">
                                <div class="pipeline-step-icon">üì•</div>
                                <div class="pipeline-step-title">Ingest</div>
                                <div class="pipeline-step-desc">Load documents</div>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step chunk">
                                <div class="pipeline-step-icon">‚úÇÔ∏è</div>
                                <div class="pipeline-step-title">Chunk</div>
                                <div class="pipeline-step-desc">Split text</div>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step embed">
                                <div class="pipeline-step-icon">üî¢</div>
                                <div class="pipeline-step-title">Embed</div>
                                <div class="pipeline-step-desc">Vectorize</div>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step store">
                                <div class="pipeline-step-icon">üóÑÔ∏è</div>
                                <div class="pipeline-step-title">Store</div>
                                <div class="pipeline-step-desc">Vector DB</div>
                            </div>
                        </div>
                    </div>
                    <div class="pipeline-section">
                        <div class="pipeline-section-title">Phase 2: Querying (Real-time)</div>
                        <div class="pipeline-flow">
                            <div class="pipeline-step query">
                                <div class="pipeline-step-icon">‚ùì</div>
                                <div class="pipeline-step-title">Query</div>
                                <div class="pipeline-step-desc">User question</div>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step embed">
                                <div class="pipeline-step-icon">üî¢</div>
                                <div class="pipeline-step-title">Embed</div>
                                <div class="pipeline-step-desc">Query vector</div>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step retrieve">
                                <div class="pipeline-step-icon">üîç</div>
                                <div class="pipeline-step-title">Retrieve</div>
                                <div class="pipeline-step-desc">Top-K similar</div>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step generate">
                                <div class="pipeline-step-icon">‚ú®</div>
                                <div class="pipeline-step-title">Generate</div>
                                <div class="pipeline-step-desc">LLM + context</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHUNKING STRATEGIES -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">‚úÇÔ∏è</div>
                <div class="module-info">
                    <h2>Chunking Strategies</h2>
                    <p>How to split documents for optimal retrieval</p>
                </div>
            </div>
            <div class="chunking-grid">
                <div class="chunk-card">
                    <div class="chunk-header fixed">
                        <div class="chunk-title">Fixed-Size Chunking</div>
                        <div class="chunk-subtitle">Simple & predictable</div>
                    </div>
                    <div class="chunk-body">
                        <div class="chunk-desc">Split by character or token count with configurable overlap. Fast and predictable but may break mid-sentence, losing semantic coherence.</div>
                        <div class="chunk-visual">
                            <div class="chunk-bar">
                                <div class="chunk-segment" style="flex: 1; background: var(--blue);">512</div>
                                <div class="chunk-segment" style="flex: 0.1; background: var(--cyan);">‚Üî</div>
                                <div class="chunk-segment" style="flex: 1; background: var(--blue);">512</div>
                                <div class="chunk-segment" style="flex: 0.1; background: var(--cyan);">‚Üî</div>
                                <div class="chunk-segment" style="flex: 1; background: var(--blue);">512</div>
                            </div>
                        </div>
                        <div class="chunk-config">chunk_size=512, overlap=50</div>
                        <ul class="chunk-pros">
                            <li>Fast processing, simple implementation</li>
                            <li>Predictable chunk sizes for batching</li>
                            <li>Works with any document type</li>
                        </ul>
                    </div>
                </div>
                <div class="chunk-card">
                    <div class="chunk-header semantic">
                        <div class="chunk-title">Semantic Chunking</div>
                        <div class="chunk-subtitle">Meaning-aware splits</div>
                    </div>
                    <div class="chunk-body">
                        <div class="chunk-desc">Use sentence embeddings to identify natural breakpoints where topic changes. Keeps related content together but requires more compute.</div>
                        <div class="chunk-visual">
                            <div class="chunk-bar">
                                <div class="chunk-segment" style="flex: 0.8; background: var(--green);">Topic A</div>
                                <div class="chunk-segment" style="flex: 1.2; background: var(--cyan);">Topic B</div>
                                <div class="chunk-segment" style="flex: 0.6; background: var(--violet);">Topic C</div>
                            </div>
                        </div>
                        <div class="chunk-config">breakpoint_threshold=0.7</div>
                        <ul class="chunk-pros">
                            <li>Preserves semantic coherence</li>
                            <li>Better retrieval relevance</li>
                            <li>Natural topic boundaries</li>
                        </ul>
                    </div>
                </div>
                <div class="chunk-card">
                    <div class="chunk-header recursive">
                        <div class="chunk-title">Recursive Chunking</div>
                        <div class="chunk-subtitle">Hierarchical splitting</div>
                    </div>
                    <div class="chunk-body">
                        <div class="chunk-desc">Try separators in priority order: paragraphs ‚Üí sentences ‚Üí words. Best balance of quality and speed, recommended for most use cases.</div>
                        <div class="chunk-visual">
                            <div class="chunk-bar">
                                <div class="chunk-segment" style="flex: 1; background: var(--violet);">¬∂ Para</div>
                                <div class="chunk-segment" style="flex: 0.7; background: var(--pink);">. Sent</div>
                                <div class="chunk-segment" style="flex: 1.1; background: var(--violet);">¬∂ Para</div>
                                <div class="chunk-segment" style="flex: 0.5; background: var(--pink);">. Sent</div>
                            </div>
                        </div>
                        <div class="chunk-config">separators=["\n\n", "\n", ". ", " "]</div>
                        <ul class="chunk-pros">
                            <li>Respects document structure</li>
                            <li>Good balance of speed/quality</li>
                            <li>LangChain default strategy</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="overview-content">
                <h3>Chunking Best Practices</h3>
                <p><strong>Chunk size matters:</strong> Smaller chunks (256-512 tokens) give more precise retrieval but may lack context. Larger chunks (1000-2000 tokens) provide more context but may include irrelevant information. Start with 512-1000 and tune based on your use case.</p>
                <p><strong>Always use overlap:</strong> 10-20% overlap between chunks ensures important information at chunk boundaries isn't lost. Without overlap, key sentences split between chunks become unretrievable.</p>
                <p><strong>Preserve metadata:</strong> Store source document, page number, section headers, and timestamps with each chunk. This enables filtering, citation, and debugging retrieval issues.</p>
            </div>
        </section>

        <!-- RETRIEVAL METHODS -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üîç</div>
                <div class="module-info">
                    <h2>Retrieval Methods</h2>
                    <p>How to find the most relevant chunks</p>
                </div>
            </div>
            <div class="retrieval-grid">
                <div class="retrieval-card">
                    <div class="retrieval-icon">üéØ</div>
                    <div class="retrieval-title">Dense Retrieval</div>
                    <div class="retrieval-subtitle">Semantic similarity search</div>
                    <div class="retrieval-desc">Convert query and documents to embeddings, find nearest neighbors by cosine similarity. Understands meaning, handles synonyms and paraphrases.</div>
                    <div class="retrieval-stats">
                        <div class="retrieval-stat">
                            <div class="retrieval-stat-value">High</div>
                            <div class="retrieval-stat-label">Semantic Match</div>
                        </div>
                        <div class="retrieval-stat">
                            <div class="retrieval-stat-value">~100ms</div>
                            <div class="retrieval-stat-label">Latency</div>
                        </div>
                    </div>
                    <ul class="retrieval-pros">
                        <li>Understands synonyms & paraphrases</li>
                        <li>Works across languages</li>
                    </ul>
                    <ul class="retrieval-cons">
                        <li>May miss exact keyword matches</li>
                        <li>Requires embedding infrastructure</li>
                    </ul>
                </div>
                <div class="retrieval-card">
                    <div class="retrieval-icon">üìù</div>
                    <div class="retrieval-title">Sparse Retrieval</div>
                    <div class="retrieval-subtitle">BM25 / TF-IDF keyword matching</div>
                    <div class="retrieval-desc">Traditional keyword matching with term frequency weighting. Fast, precise for exact terms, no ML infrastructure needed.</div>
                    <div class="retrieval-stats">
                        <div class="retrieval-stat">
                            <div class="retrieval-stat-value">High</div>
                            <div class="retrieval-stat-label">Keyword Precision</div>
                        </div>
                        <div class="retrieval-stat">
                            <div class="retrieval-stat-value">~10ms</div>
                            <div class="retrieval-stat-label">Latency</div>
                        </div>
                    </div>
                    <ul class="retrieval-pros">
                        <li>Fast, no GPU required</li>
                        <li>Precise for technical terms</li>
                    </ul>
                    <ul class="retrieval-cons">
                        <li>Misses synonyms completely</li>
                        <li>No semantic understanding</li>
                    </ul>
                </div>
                <div class="retrieval-card">
                    <div class="retrieval-icon">üîÄ</div>
                    <div class="retrieval-title">Hybrid Retrieval</div>
                    <div class="retrieval-subtitle">Dense + Sparse fusion</div>
                    <div class="retrieval-desc">Combine both methods with Reciprocal Rank Fusion (RRF). Get semantic understanding AND keyword precision. Industry best practice.</div>
                    <div class="retrieval-stats">
                        <div class="retrieval-stat">
                            <div class="retrieval-stat-value">Best</div>
                            <div class="retrieval-stat-label">Overall Quality</div>
                        </div>
                        <div class="retrieval-stat">
                            <div class="retrieval-stat-value">~150ms</div>
                            <div class="retrieval-stat-label">Latency</div>
                        </div>
                    </div>
                    <ul class="retrieval-pros">
                        <li>Best overall retrieval quality</li>
                        <li>Robust to query variations</li>
                    </ul>
                    <ul class="retrieval-cons">
                        <li>More complex to implement</li>
                        <li>Needs weight tuning</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- RERANKING -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üìä</div>
                <div class="module-info">
                    <h2>Reranking Pipeline</h2>
                    <p>Two-stage retrieval for better precision</p>
                </div>
            </div>
            <div class="rerank-flow">
                <div class="rerank-title">üéØ Two-Stage Retrieval with Reranking</div>
                <div class="rerank-stages">
                    <div class="rerank-stage">
                        <div class="rerank-stage-num">50-100</div>
                        <div class="rerank-stage-title">Initial Retrieval</div>
                        <div class="rerank-stage-desc">Fast vector search returns candidate chunks</div>
                    </div>
                    <div class="rerank-arrow">‚Üí</div>
                    <div class="rerank-stage">
                        <div class="rerank-stage-num">ü§ñ</div>
                        <div class="rerank-stage-title">Cross-Encoder</div>
                        <div class="rerank-stage-desc">Score query-chunk pairs with transformer</div>
                    </div>
                    <div class="rerank-arrow">‚Üí</div>
                    <div class="rerank-stage">
                        <div class="rerank-stage-num">5-10</div>
                        <div class="rerank-stage-title">Final Context</div>
                        <div class="rerank-stage-desc">Top reranked chunks sent to LLM</div>
                    </div>
                </div>
                <div class="rerank-caption">üí° <strong>Why rerank?</strong> Bi-encoder embedding search is fast but approximate. Cross-encoders like Cohere Rerank or BGE-reranker score each query-document pair together, giving much better relevance scores at the cost of latency. Retrieve many, rerank few.</div>
            </div>
        </section>

        <!-- VECTOR DB COMPARISON -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üóÑÔ∏è</div>
                <div class="module-info">
                    <h2>Vector Database Comparison</h2>
                    <p>Where to store your embeddings</p>
                </div>
            </div>
            <div class="comparison-table">
                <div class="comparison-header">
                    <div class="comparison-title">üìä Vector Database Options</div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Database</th>
                            <th>Type</th>
                            <th>Scale</th>
                            <th>Hybrid Search</th>
                            <th>Best For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>üå≤ Pinecone</strong></td>
                            <td>Managed SaaS</td>
                            <td><span class="compare-tag excellent">Billions</span></td>
                            <td><span class="compare-tag excellent">Yes</span></td>
                            <td>Production, zero-ops</td>
                        </tr>
                        <tr>
                            <td><strong>üé® Chroma</strong></td>
                            <td>Open Source</td>
                            <td><span class="compare-tag moderate">Millions</span></td>
                            <td><span class="compare-tag moderate">Basic</span></td>
                            <td>Prototyping, local dev</td>
                        </tr>
                        <tr>
                            <td><strong>üî∑ Weaviate</strong></td>
                            <td>Open Source</td>
                            <td><span class="compare-tag excellent">Billions</span></td>
                            <td><span class="compare-tag excellent">Yes</span></td>
                            <td>Hybrid search, GraphQL</td>
                        </tr>
                        <tr>
                            <td><strong>üìç Qdrant</strong></td>
                            <td>Open Source</td>
                            <td><span class="compare-tag excellent">Billions</span></td>
                            <td><span class="compare-tag good">Yes</span></td>
                            <td>Filtering, payload search</td>
                        </tr>
                        <tr>
                            <td><strong>üêò pgvector</strong></td>
                            <td>Postgres Extension</td>
                            <td><span class="compare-tag moderate">Millions</span></td>
                            <td><span class="compare-tag good">Yes</span></td>
                            <td>Existing Postgres stack</td>
                        </tr>
                        <tr>
                            <td><strong>üîç Elasticsearch</strong></td>
                            <td>Self-hosted</td>
                            <td><span class="compare-tag excellent">Billions</span></td>
                            <td><span class="compare-tag excellent">Native</span></td>
                            <td>Enterprise, existing ES</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- BEST PRACTICES -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">‚úÖ</div>
                <div class="module-info">
                    <h2>RAG Best Practices</h2>
                    <p>Production-ready implementation tips</p>
                </div>
            </div>
            <div class="practices-grid">
                <div class="practice-card do">
                    <div class="practice-title do">‚úì Do This</div>
                    <ul class="practice-list">
                        <li>Use hybrid search (dense + sparse) for best results</li>
                        <li>Add reranking for high-stakes applications</li>
                        <li>Preserve document metadata for filtering and citations</li>
                        <li>Implement query expansion/transformation</li>
                        <li>Test with diverse query types (factual, conceptual, multi-hop)</li>
                        <li>Monitor retrieval quality with human evaluation</li>
                        <li>Use contextual compression to fit more in context window</li>
                    </ul>
                </div>
                <div class="practice-card dont">
                    <div class="practice-title dont">‚úó Avoid This</div>
                    <ul class="practice-list">
                        <li>Don't use fixed chunk sizes without testing alternatives</li>
                        <li>Don't skip overlap‚Äîboundary information gets lost</li>
                        <li>Don't retrieve too many chunks (context gets diluted)</li>
                        <li>Don't ignore retrieval failures‚Äîhave fallback strategies</li>
                        <li>Don't use the same embedding model for all content types</li>
                        <li>Don't forget to update indices when documents change</li>
                        <li>Don't assume RAG alone prevents all hallucinations</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- AGENT THIS -->
        <section class="module" id="agent">
            <div class="module-header">
                <div class="module-icon">ü§ñ</div>
                <div class="module-info">
                    <h2>Agent This</h2>
                    <p>AI-powered RAG architect</p>
                </div>
            </div>
            
            <div class="agent-grid">
                <div class="agent-info">
                    <div class="agent-avatar">üîç</div>
                    <div class="agent-name">RAGArchitectAgent</div>
                    <div class="agent-role">RAG System Designer</div>
                    <div class="agent-desc">Expert in designing and optimizing RAG pipelines for production. Helps select chunking strategies, embedding models, vector databases, retrieval methods, and reranking approaches based on your specific requirements and constraints.</div>
                    <ul class="agent-capabilities">
                        <li>Design end-to-end RAG architecture</li>
                        <li>Select optimal chunking strategy</li>
                        <li>Choose embedding models for your domain</li>
                        <li>Configure vector database and indexing</li>
                        <li>Implement hybrid retrieval with reranking</li>
                        <li>Optimize retrieval quality metrics</li>
                        <li>Debug poor retrieval performance</li>
                    </ul>
                </div>
                
                <div class="code-panel">
                    <div class="code-header">
                        <div class="code-tab active">Agent Definition</div>
                        <div class="code-tab">RAG Pipeline</div>
                        <div class="code-filename">rag_architect_agent.py</div>
                    </div>
                    <div class="code-content">
                        <pre><span class="code-comment"># rag_architect_agent.py - RAG Architecture Agent</span>
<span class="code-keyword">from</span> crewai <span class="code-keyword">import</span> Agent, Task, Crew

<span class="code-function">rag_agent</span> = Agent(
    role=<span class="code-string">"RAG System Architect"</span>,
    goal=<span class="code-string">"Design optimal RAG pipelines"</span>,
    backstory=<span class="code-string">"""Expert in retrieval-augmented generation
    with deep knowledge of chunking strategies, embedding
    models, vector databases, and retrieval optimization.
    Has built production RAG systems handling millions of
    documents with sub-second latency. Optimizes for both
    retrieval quality and system efficiency."""</span>,
    tools=[
        ChunkingAnalyzer(),
        EmbeddingBenchmark(),
        VectorDBConfigurator(),
        RetrievalOptimizer(),
        QualityEvaluator(),
    ]
)

<span class="code-function">rag_task</span> = Task(
    description=<span class="code-string">"""
    1. Analyze document corpus characteristics
    2. Design optimal chunking strategy
    3. Select embedding model for domain
    4. Configure vector database and indices
    5. Implement retrieval pipeline with reranking
    6. Optimize for latency and quality
    7. Set up monitoring and evaluation
    """</span>,
    agent=rag_agent,
    expected_output=<span class="code-string">"Production RAG system design"</span>
)

<span class="code-comment"># Execute RAG design</span>
crew = Crew(agents=[rag_agent], tasks=[rag_task])
result = crew.kickoff()</pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- RELATED PAGES -->
        <section class="module" id="related">
            <div class="module-header">
                <div class="module-icon">üîó</div>
                <div class="module-info">
                    <h2>Related Pages</h2>
                    <p>Continue learning</p>
                </div>
            </div>
            
            <div class="related-pages">
                <a href="cat05-p5-embeddings.html" class="related-card">
                    <div class="related-num">Page 5.5</div>
                    <div class="related-title">Embeddings & Vectors</div>
                    <div class="related-desc">Deep dive into embedding models and vector search</div>
                </a>
                <a href="cat05-p2-prompt-engineering.html" class="related-card">
                    <div class="related-num">Page 5.2</div>
                    <div class="related-title">Prompt Engineering</div>
                    <div class="related-desc">Optimize prompts with retrieved context</div>
                </a>
                <a href="cat05-p4-fine-tuning.html" class="related-card">
                    <div class="related-num">Page 5.4</div>
                    <div class="related-title">Fine-Tuning</div>
                    <div class="related-desc">When RAG isn't enough for your use case</div>
                </a>
            </div>
        </section>

    </div>
</div>

<footer>
    <div class="footer-nav">
        <a href="cat05-p2-prompt-engineering.html" class="footer-link">
            <span>‚Üê</span>
            <div>
                <div class="footer-link-label">Previous Page</div>
                <div class="footer-link-title">5.2: Prompt Engineering</div>
            </div>
        </a>
        <div class="footer-brand"><strong>STRATEGY</strong>HUB ‚Ä¢ Page 5.3 of 10</div>
        <a href="cat05-p4-fine-tuning.html" class="footer-link">
            <div>
                <div class="footer-link-label">Next Page</div>
                <div class="footer-link-title">5.4: Fine-Tuning</div>
            </div>
            <span>‚Üí</span>
        </a>
    </div>
</footer>

</body>
</html>
