<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Design Patterns | Architecture Patterns | Strategy Hub</title>
    <style>
        :root {
            --brand-orange: #FF9900;
            --cat-primary: #6366F1;
            --cat-light: #818CF8;
            --cat-dark: #4F46E5;
            --cat-glow: rgba(99, 102, 241, 0.15);
            --page-color: #3B82F6;
            --page-light: #60A5FA;
            --page-glow: rgba(59, 130, 246, 0.15);
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --bg-card-alt: #1a1a2e;
            --bg-hover: #252538;
            --border-color: #2a2a3e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6a6a7a;
            --green: #10B981;
            --yellow: #F59E0B;
            --red: #EF4444;
            --blue: #3B82F6;
            --cyan: #06B6D4;
            --purple: #8B5CF6;
            --pink: #EC4899;
            --sidebar-width: 280px;
            --header-height: 60px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-dark); color: var(--text-primary); line-height: 1.6; }
        
        header { background: var(--bg-card); border-bottom: 1px solid var(--border-color); padding: 0 32px; position: fixed; top: 0; left: 0; right: 0; z-index: 1000; height: var(--header-height); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 20px; font-weight: 700; }
        .logo span { color: var(--brand-orange); }
        .breadcrumb { display: flex; align-items: center; gap: 8px; font-size: 14px; }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; }
        .breadcrumb a:hover { color: var(--brand-orange); }
        .breadcrumb .sep { color: var(--text-muted); }
        .breadcrumb .current { color: var(--text-primary); }

        .sidebar { position: fixed; top: var(--header-height); left: 0; width: var(--sidebar-width); height: calc(100vh - var(--header-height)); background: var(--bg-card); border-right: 1px solid var(--border-color); overflow-y: auto; z-index: 100; padding: 24px 0; }
        .sidebar-section { margin-bottom: 24px; }
        .sidebar-title { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--cat-light); padding: 0 24px; margin-bottom: 8px; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav a { display: flex; align-items: center; gap: 8px; padding: 10px 24px; color: var(--text-secondary); text-decoration: none; font-size: 13px; border-left: 3px solid transparent; transition: all 0.2s; }
        .sidebar-nav a:hover { background: var(--bg-hover); color: var(--text-primary); }
        .sidebar-nav a.active { background: var(--cat-glow); color: var(--cat-light); border-left-color: var(--cat-light); }
        .nav-icon { font-size: 16px; width: 24px; text-align: center; }

        .main-wrapper { margin-left: var(--sidebar-width); margin-top: var(--header-height); }
        .main-content { max-width: 1200px; padding: 32px; }

        /* Hero */
        .hero { margin-bottom: 28px; padding: 28px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 14px; position: relative; }
        .hero::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #3B82F6, #8B5CF6, #EC4899, #06B6D4); border-radius: 14px 14px 0 0; }
        .hero-tag { display: inline-flex; background: var(--page-glow); border: 1px solid var(--page-color); padding: 5px 14px; border-radius: 9999px; font-size: 11px; color: var(--page-light); margin-bottom: 14px; }
        .hero h1 { font-size: 28px; font-weight: 700; margin-bottom: 12px; }
        .hero > p { font-size: 14px; color: var(--text-secondary); line-height: 1.7; max-width: 800px; margin-bottom: 24px; }
        .hero-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }
        .hero-stat { background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 10px; padding: 16px; text-align: center; }
        .hero-stat-value { font-size: 22px; font-weight: 700; color: var(--page-light); }
        .hero-stat-label { font-size: 10px; color: var(--text-muted); margin-top: 4px; }

        /* Business Case */
        .business-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
        .business-card { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; text-align: center; }
        .business-icon { font-size: 28px; margin-bottom: 8px; }
        .business-stat { font-size: 28px; font-weight: 700; color: var(--page-light); margin-bottom: 4px; }
        .business-label { font-size: 12px; font-weight: 600; color: var(--text-primary); margin-bottom: 8px; }
        .business-desc { font-size: 11px; color: var(--text-secondary); line-height: 1.5; }

        /* API Types Grid */
        .api-types-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
        .api-type-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .api-type-card:hover { border-color: var(--page-color); transform: translateY(-2px); }
        .api-type-card.rest { border-top: 4px solid #3B82F6; }
        .api-type-card.graphql { border-top: 4px solid #EC4899; }
        .api-type-card.grpc { border-top: 4px solid #10B981; }
        .api-type-card.websocket { border-top: 4px solid #F59E0B; }
        .api-type-icon { font-size: 32px; margin-bottom: 12px; }
        .api-type-name { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
        .api-type-card.rest .api-type-name { color: #3B82F6; }
        .api-type-card.graphql .api-type-name { color: #EC4899; }
        .api-type-card.grpc .api-type-name { color: #10B981; }
        .api-type-card.websocket .api-type-name { color: #F59E0B; }
        .api-type-desc { font-size: 11px; color: var(--text-muted); }

        /* Architecture Diagram */
        .architecture-diagram { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; }
        .arch-svg { width: 100%; height: auto; }

        /* API Detail Sections */
        .api-detail { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .api-detail-header { display: flex; align-items: center; gap: 16px; margin-bottom: 20px; }
        .api-logo { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: 700; }
        .api-logo.rest { background: rgba(59, 130, 246, 0.2); color: #3B82F6; }
        .api-logo.graphql { background: rgba(236, 72, 153, 0.2); color: #EC4899; }
        .api-logo.grpc { background: rgba(16, 185, 129, 0.2); color: #10B981; }
        .api-logo.websocket { background: rgba(245, 158, 11, 0.2); color: #F59E0B; }
        .api-detail-title h3 { font-size: 20px; font-weight: 600; margin-bottom: 4px; }
        .api-detail-title .tagline { font-size: 12px; color: var(--text-muted); }
        .api-badges { display: flex; gap: 8px; margin-left: auto; }
        .api-badge { font-size: 10px; padding: 4px 10px; border-radius: 20px; font-weight: 600; }
        .api-badge.popular { background: rgba(16, 185, 129, 0.2); color: #10B981; }
        .api-badge.fast { background: rgba(245, 158, 11, 0.2); color: #F59E0B; }
        .api-badge.flexible { background: rgba(139, 92, 246, 0.2); color: #8B5CF6; }
        .api-badge.realtime { background: rgba(236, 72, 153, 0.2); color: #EC4899; }

        .code-block { background: var(--bg-dark); border-radius: 8px; padding: 16px; margin-bottom: 16px; font-family: 'Monaco', 'Menlo', monospace; font-size: 12px; overflow-x: auto; }
        .code-block .comment { color: #6A737D; }
        .code-block .method { color: #10B981; font-weight: 600; }
        .code-block .url { color: #60A5FA; }
        .code-block .key { color: #F59E0B; }
        .code-block .string { color: #A5D6FF; }
        .code-block .keyword { color: #FF7B72; }

        /* Comparison Scorecard */
        .compare-table { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; margin-bottom: 24px; }
        .compare-header { display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr; background: var(--bg-card-alt); padding: 16px; border-bottom: 1px solid var(--border-color); }
        .compare-col { font-size: 12px; text-align: center; font-weight: 600; }
        .compare-col.rest { color: #3B82F6; }
        .compare-col.graphql { color: #EC4899; }
        .compare-col.grpc { color: #10B981; }
        .compare-col.websocket { color: #F59E0B; }
        .compare-row { display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr; padding: 14px 16px; border-bottom: 1px solid var(--border-color); align-items: center; }
        .compare-row:last-child { border-bottom: none; }
        .compare-row .compare-col:first-child { text-align: left; font-weight: 600; font-size: 12px; color: var(--text-primary); }
        .compare-cell { text-align: center; font-size: 11px; }
        .cell-good { color: var(--green); }
        .cell-bad { color: var(--red); }
        .cell-mid { color: var(--yellow); }

        /* Stack Patterns */
        .stack-patterns { display: flex; flex-direction: column; gap: 20px; }
        .stack-pattern { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .stack-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; }
        .stack-badge { font-size: 10px; font-weight: 600; padding: 4px 10px; border-radius: 20px; text-transform: uppercase; }
        .stack-badge.rest { background: rgba(59, 130, 246, 0.2); color: #3B82F6; }
        .stack-badge.graphql { background: rgba(236, 72, 153, 0.2); color: #EC4899; }
        .stack-badge.grpc { background: rgba(16, 185, 129, 0.2); color: #10B981; }
        .stack-name { font-size: 16px; font-weight: 600; color: var(--text-primary); }
        .stack-use { font-size: 11px; color: var(--text-muted); margin-left: auto; }
        .stack-diagram { background: var(--bg-dark); border-radius: 8px; padding: 16px; margin-bottom: 12px; }
        .stack-svg { width: 100%; height: auto; }
        .stack-benefits { display: flex; gap: 16px; flex-wrap: wrap; }
        .benefit { font-size: 11px; color: var(--green); background: rgba(16, 185, 129, 0.1); padding: 4px 10px; border-radius: 4px; }

        /* Module */
        .module { margin-bottom: 40px; padding-top: 28px; border-top: 1px solid var(--border-color); }
        .module:first-of-type { border-top: none; padding-top: 0; }
        .module-header { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; }
        .module-icon { width: 52px; height: 52px; background: var(--page-glow); border: 2px solid var(--page-color); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .module-info h2 { font-size: 22px; font-weight: 600; margin-bottom: 4px; }
        .module-info p { font-size: 13px; color: var(--text-muted); }

        /* Content Block */
        .content-block { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 24px; margin-bottom: 20px; }
        .content-block h3 { font-size: 16px; font-weight: 600; margin-bottom: 14px; color: var(--page-light); }
        .content-block p { font-size: 13px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 12px; }
        .content-block p:last-child { margin-bottom: 0; }
        .content-block p strong { color: var(--text-primary); }

        /* Two Column */
        .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px; }
        .info-box { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; }
        .info-box h4 { font-size: 14px; font-weight: 600; margin-bottom: 12px; color: var(--text-primary); display: flex; align-items: center; gap: 10px; }
        .info-box h4::before { content: ''; width: 3px; height: 16px; background: var(--page-color); border-radius: 2px; }
        .info-list { list-style: none; margin: 0; padding: 0; }
        .info-list li { font-size: 12px; color: var(--text-secondary); padding: 8px 0; border-bottom: 1px solid var(--border-color); line-height: 1.5; }
        .info-list li:last-child { border-bottom: none; }
        .info-list li strong { color: var(--text-primary); }

        /* Best Practices */
        .bp-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; margin-bottom: 24px; }
        .bp-card { background: var(--bg-dark); border-radius: 12px; padding: 24px; }
        .bp-card.do { border: 1px solid var(--green); }
        .bp-card.dont { border: 1px solid var(--red); }
        .bp-title { font-size: 16px; font-weight: 600; margin-bottom: 20px; }
        .bp-card.do .bp-title { color: var(--green); }
        .bp-card.dont .bp-title { color: var(--red); }
        .bp-list { list-style: none; margin: 0; padding: 0; }
        .bp-list li { font-size: 13px; color: var(--text-secondary); padding: 6px 0; display: flex; align-items: flex-start; gap: 10px; }
        .bp-list li .icon { flex-shrink: 0; }
        .bp-card.do .bp-list li .icon { color: var(--green); }
        .bp-card.dont .bp-list li .icon { color: var(--red); }

        /* Agent Section */
        .agent-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 20px; margin-bottom: 24px; }
        .agent-info { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; }
        .agent-avatar { width: 56px; height: 56px; background: linear-gradient(135deg, #3B82F6, #EC4899); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 28px; margin-bottom: 16px; }
        .agent-name { font-size: 18px; font-weight: 600; margin-bottom: 4px; }
        .agent-role { font-size: 12px; color: var(--page-light); margin-bottom: 16px; }
        .agent-desc { font-size: 12px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }
        .agent-caps { list-style: none; margin: 0; padding: 0; }
        .agent-caps li { font-size: 12px; color: var(--text-secondary); padding: 8px 0; display: flex; align-items: center; gap: 10px; }
        .agent-caps li .icon { color: var(--page-light); }

        .code-panel { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; }
        .code-header { background: var(--bg-card-alt); padding: 12px 16px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); }
        .code-tab { font-size: 12px; font-weight: 600; color: var(--page-light); }
        .code-filename { font-size: 11px; color: var(--text-muted); }
        .code-content { padding: 20px; font-family: 'Monaco', 'Menlo', monospace; font-size: 11px; line-height: 1.7; overflow-x: auto; }
        .code-content pre { color: var(--text-secondary); }
        .code-keyword { color: #FF7B72; }
        .code-string { color: #A5D6FF; }
        .code-comment { color: #6A737D; }

        /* Related Grid */
        .related-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; }
        .related-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 10px; padding: 18px; text-decoration: none; transition: all 0.2s; }
        .related-card:hover { border-color: var(--page-color); transform: translateY(-2px); }
        .related-num { font-size: 10px; color: var(--page-light); margin-bottom: 6px; }
        .related-title { font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px; }
        .related-desc { font-size: 11px; color: var(--text-muted); }

        /* Footer */
        footer { background: var(--bg-card); border-top: 1px solid var(--border-color); padding: 24px 32px; margin-left: var(--sidebar-width); }
        .footer-nav { display: flex; justify-content: space-between; align-items: center; }
        .footer-link { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-secondary); padding: 12px 20px; background: var(--bg-card-alt); border: 1px solid var(--border-color); border-radius: 12px; transition: all 0.2s; }
        .footer-link:hover { border-color: var(--page-color); color: var(--text-primary); }
        .footer-link-label { font-size: 11px; color: var(--text-muted); }
        .footer-link-title { font-size: 13px; font-weight: 600; }
        .footer-brand { font-size: 13px; color: var(--text-muted); }
        .footer-brand span { color: var(--brand-orange); }

        /* Decision Grid */
        .decision-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 24px; }
        .decision-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; }
        .decision-card.rest-dec { border-top: 4px solid #3B82F6; }
        .decision-card.graphql-dec { border-top: 4px solid #EC4899; }
        .decision-card.grpc-dec { border-top: 4px solid #10B981; }
        .decision-card.ws-dec { border-top: 4px solid #F59E0B; }
        .decision-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
        .decision-icon { font-size: 24px; }
        .decision-header h4 { font-size: 14px; font-weight: 600; color: var(--text-primary); margin: 0; }
        .decision-list { list-style: none; margin: 0 0 16px 0; padding: 0; }
        .decision-list li { font-size: 12px; color: var(--text-secondary); padding: 6px 0; line-height: 1.5; }
        .decision-example { background: var(--bg-dark); border-radius: 6px; padding: 12px; font-size: 11px; color: var(--text-muted); line-height: 1.5; }
        .decision-example strong { color: var(--text-secondary); }

        /* Decision Flowchart */
        .decision-flowchart { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; }
        .decision-flowchart h4 { font-size: 14px; font-weight: 600; color: var(--page-light); margin-bottom: 16px; text-align: center; }
        .flowchart-content { text-align: center; }
        .flow-question { font-size: 14px; color: var(--text-primary); font-weight: 600; margin-bottom: 20px; padding: 16px; background: var(--bg-dark); border-radius: 8px; }
        .flow-branches { display: flex; justify-content: center; gap: 16px; flex-wrap: wrap; }
        .flow-branch { display: flex; flex-direction: column; align-items: center; gap: 8px; }
        .flow-answer { font-size: 10px; padding: 6px 12px; border-radius: 4px; background: rgba(107, 114, 128, 0.2); color: var(--text-secondary); }
        .flow-result { font-size: 12px; font-weight: 600; padding: 8px 16px; border-radius: 6px; }
        .flow-result.rest-r { background: rgba(59, 130, 246, 0.2); color: #3B82F6; }
        .flow-result.graphql-r { background: rgba(236, 72, 153, 0.2); color: #EC4899; }
        .flow-result.grpc-r { background: rgba(16, 185, 129, 0.2); color: #10B981; }
        .flow-result.ws-r { background: rgba(245, 158, 11, 0.2); color: #F59E0B; }

        /* Evolution Timeline */
        .evolution-timeline { background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; margin-bottom: 24px; }
        .evolution-svg { width: 100%; height: auto; }

        @media (max-width: 1024px) {
            .sidebar { display: none; }
            .main-wrapper { margin-left: 0; }
            footer { margin-left: 0; }
            .hero-stats, .business-grid, .api-types-grid { grid-template-columns: repeat(2, 1fr); }
            .two-col, .bp-grid, .agent-grid, .decision-grid { grid-template-columns: 1fr; }
            .related-grid { grid-template-columns: 1fr; }
            .compare-header, .compare-row { grid-template-columns: 1fr; gap: 8px; }
            .compare-col { text-align: left; padding: 4px 0; }
            .stack-use { margin-left: 0; width: 100%; margin-top: 8px; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo"><span>STRATEGY</span>HUB</div>
    <div class="header-tagline">Enterprise Technology Knowledge Base</div>
</header>

<aside class="sidebar">
    <div class="sidebar-section">
        <div class="sidebar-title">üèóÔ∏è Category 09</div>
        <ul class="sidebar-nav">
            <li><a href="cat09-architecture-overview.html"><span class="nav-icon">üè†</span> Overview</a></li>
            <li><a href="cat09-p1-microservices.html"><span class="nav-icon">üî≤</span> 9.1 Microservices</a></li>
            <li><a href="cat09-p2-event-driven.html"><span class="nav-icon">‚ö°</span> 9.2 Event-Driven</a></li>
            <li><a href="cat09-p3-data-mesh.html"><span class="nav-icon">üï∏Ô∏è</span> 9.3 Data Mesh</a></li>
            <li><a href="cat09-p4-lakehouse.html"><span class="nav-icon">üè†</span> 9.4 Data Lakehouse</a></li>
            <li><a href="cat09-p5-api-patterns.html" class="active"><span class="nav-icon">üîå</span> 9.5 API Patterns</a></li>
            <li><a href="cat09-p6-cqrs-eventsourcing.html"><span class="nav-icon">üìö</span> 9.6 CQRS & ES</a></li>
            <li><a href="cat09-p7-domain-driven.html"><span class="nav-icon">üéØ</span> 9.7 DDD</a></li>
        </ul>
    </div>
    <div class="sidebar-section">
        <div class="sidebar-title">üìë On This Page</div>
        <ul class="sidebar-nav">
            <li><a href="#overview"><span class="nav-icon">üìñ</span> Overview</a></li>
            <li><a href="#business-case"><span class="nav-icon">üíº</span> Business Case</a></li>
            <li><a href="#architecture"><span class="nav-icon">üèóÔ∏è</span> Architecture</a></li>
            <li><a href="#comparison"><span class="nav-icon">‚öñÔ∏è</span> Comparison</a></li>
            <li><a href="#decision"><span class="nav-icon">üéØ</span> When to Use</a></li>
            <li><a href="#evolution"><span class="nav-icon">üìà</span> Evolution</a></li>
            <li><a href="#rest"><span class="nav-icon">üîµ</span> REST</a></li>
            <li><a href="#graphql"><span class="nav-icon">üî¥</span> GraphQL</a></li>
            <li><a href="#grpc"><span class="nav-icon">üü¢</span> gRPC</a></li>
            <li><a href="#websocket"><span class="nav-icon">üü°</span> WebSocket</a></li>
            <li><a href="#practices"><span class="nav-icon">‚úÖ</span> Best Practices</a></li>
            <li><a href="#agent"><span class="nav-icon">ü§ñ</span> Agent This</a></li>
        </ul>
    </div>
</aside>

<div class="main-wrapper">
    <div class="main-content">

        <!-- HERO -->
        <section class="hero" id="overview">
            <div class="hero-tag">üîå Page 9.5 ‚Ä¢ Service Communication</div>
            <h1>API Design Patterns</h1>
            <p>The backbone of modern distributed systems. APIs define how services communicate‚ÄîREST for resources, GraphQL for flexibility, gRPC for performance, WebSockets for real-time. Choosing the right pattern determines scalability, developer experience, and system evolution.</p>
            <div class="hero-stats">
                <div class="hero-stat"><div class="hero-stat-value">REST</div><div class="hero-stat-label">Most Adopted</div></div>
                <div class="hero-stat"><div class="hero-stat-value">GraphQL</div><div class="hero-stat-label">Fastest Growing</div></div>
                <div class="hero-stat"><div class="hero-stat-value">gRPC</div><div class="hero-stat-label">Highest Performance</div></div>
                <div class="hero-stat"><div class="hero-stat-value">WS</div><div class="hero-stat-label">Real-Time</div></div>
            </div>
        </section>

        <!-- BUSINESS CASE -->
        <section class="module" id="business-case">
            <div class="module-header">
                <div class="module-icon">üíº</div>
                <div class="module-info">
                    <h2>The Business Case for API Strategy</h2>
                    <p>Why API design matters for business outcomes</p>
                </div>
            </div>

            <div class="business-grid">
                <div class="business-card">
                    <div class="business-icon">üöÄ</div>
                    <div class="business-stat">3x</div>
                    <div class="business-label">Faster Integration</div>
                    <div class="business-desc">Well-designed APIs reduce partner integration time</div>
                </div>
                <div class="business-card">
                    <div class="business-icon">üë®‚Äçüíª</div>
                    <div class="business-stat">40%</div>
                    <div class="business-label">Developer Productivity</div>
                    <div class="business-desc">Good DX means less time debugging, more building</div>
                </div>
                <div class="business-card">
                    <div class="business-icon">üìà</div>
                    <div class="business-stat">$B</div>
                    <div class="business-label">API Economy</div>
                    <div class="business-desc">APIs as products‚ÄîStripe, Twilio, AWS built empires</div>
                </div>
                <div class="business-card">
                    <div class="business-icon">üîÑ</div>
                    <div class="business-stat">‚àû</div>
                    <div class="business-label">Evolvability</div>
                    <div class="business-desc">Versioned APIs allow systems to evolve independently</div>
                </div>
            </div>

            <div class="api-types-grid">
                <div class="api-type-card rest">
                    <div class="api-type-icon">üîµ</div>
                    <div class="api-type-name">REST</div>
                    <div class="api-type-desc">Resource-based, HTTP verbs, widely adopted</div>
                </div>
                <div class="api-type-card graphql">
                    <div class="api-type-icon">üî¥</div>
                    <div class="api-type-name">GraphQL</div>
                    <div class="api-type-desc">Query language, single endpoint, flexible</div>
                </div>
                <div class="api-type-card grpc">
                    <div class="api-type-icon">üü¢</div>
                    <div class="api-type-name">gRPC</div>
                    <div class="api-type-desc">Binary protocol, streaming, high performance</div>
                </div>
                <div class="api-type-card websocket">
                    <div class="api-type-icon">üü°</div>
                    <div class="api-type-name">WebSocket</div>
                    <div class="api-type-desc">Bidirectional, real-time, persistent connection</div>
                </div>
            </div>
        </section>

        <!-- ARCHITECTURE DIAGRAM -->
        <section class="module" id="architecture">
            <div class="module-header">
                <div class="module-icon">üèóÔ∏è</div>
                <div class="module-info">
                    <h2>API Gateway Architecture</h2>
                    <p>How APIs connect clients to services</p>
                </div>
            </div>

            <div class="architecture-diagram">
                <svg viewBox="0 0 900 380" class="arch-svg">
                    <defs>
                        <pattern id="apiGrid" width="20" height="20" patternUnits="userSpaceOnUse">
                            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#1a1a2e" stroke-width="0.5"/>
                        </pattern>
                        <marker id="apiArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#818CF8"/>
                        </marker>
                    </defs>
                    
                    <rect width="100%" height="100%" fill="url(#apiGrid)"/>
                    
                    <text x="450" y="25" text-anchor="middle" fill="#60A5FA" font-size="14" font-weight="600">API Gateway Pattern: Unified Entry Point</text>
                    
                    <!-- Clients -->
                    <rect x="30" y="60" width="140" height="260" rx="12" fill="rgba(139, 92, 246, 0.1)" stroke="#8B5CF6" stroke-width="2"/>
                    <text x="100" y="85" text-anchor="middle" fill="#8B5CF6" font-size="11" font-weight="600">üì± Clients</text>
                    
                    <rect x="45" y="100" width="110" height="40" rx="6" fill="#1a1a2e" stroke="#8B5CF6" stroke-width="1"/>
                    <text x="100" y="118" text-anchor="middle" fill="#A78BFA" font-size="10">Web App</text>
                    <text x="100" y="132" text-anchor="middle" fill="#6a6a7a" font-size="8">REST / GraphQL</text>
                    
                    <rect x="45" y="150" width="110" height="40" rx="6" fill="#1a1a2e" stroke="#8B5CF6" stroke-width="1"/>
                    <text x="100" y="168" text-anchor="middle" fill="#A78BFA" font-size="10">Mobile App</text>
                    <text x="100" y="182" text-anchor="middle" fill="#6a6a7a" font-size="8">REST / GraphQL</text>
                    
                    <rect x="45" y="200" width="110" height="40" rx="6" fill="#1a1a2e" stroke="#8B5CF6" stroke-width="1"/>
                    <text x="100" y="218" text-anchor="middle" fill="#A78BFA" font-size="10">Partner API</text>
                    <text x="100" y="232" text-anchor="middle" fill="#6a6a7a" font-size="8">REST</text>
                    
                    <rect x="45" y="250" width="110" height="40" rx="6" fill="#1a1a2e" stroke="#8B5CF6" stroke-width="1"/>
                    <text x="100" y="268" text-anchor="middle" fill="#A78BFA" font-size="10">IoT Devices</text>
                    <text x="100" y="282" text-anchor="middle" fill="#6a6a7a" font-size="8">MQTT / gRPC</text>
                    
                    <!-- Arrows to Gateway -->
                    <path d="M 175 170 L 260 170" stroke="#818CF8" stroke-width="2" marker-end="url(#apiArrow)" fill="none"/>
                    
                    <!-- API Gateway -->
                    <rect x="270" y="80" width="200" height="220" rx="14" fill="rgba(59, 130, 246, 0.1)" stroke="#3B82F6" stroke-width="2"/>
                    <text x="370" y="105" text-anchor="middle" fill="#3B82F6" font-size="12" font-weight="600">üö™ API Gateway</text>
                    
                    <rect x="290" y="120" width="160" height="30" rx="6" fill="#1a1a2e" stroke="#3B82F6" stroke-width="1"/>
                    <text x="370" y="140" text-anchor="middle" fill="#60A5FA" font-size="9">üîê Authentication</text>
                    
                    <rect x="290" y="155" width="160" height="30" rx="6" fill="#1a1a2e" stroke="#3B82F6" stroke-width="1"/>
                    <text x="370" y="175" text-anchor="middle" fill="#60A5FA" font-size="9">‚ö° Rate Limiting</text>
                    
                    <rect x="290" y="190" width="160" height="30" rx="6" fill="#1a1a2e" stroke="#3B82F6" stroke-width="1"/>
                    <text x="370" y="210" text-anchor="middle" fill="#60A5FA" font-size="9">üîÄ Request Routing</text>
                    
                    <rect x="290" y="225" width="160" height="30" rx="6" fill="#1a1a2e" stroke="#3B82F6" stroke-width="1"/>
                    <text x="370" y="245" text-anchor="middle" fill="#60A5FA" font-size="9">üìä Analytics & Logging</text>
                    
                    <rect x="290" y="260" width="160" height="30" rx="6" fill="#1a1a2e" stroke="#3B82F6" stroke-width="1"/>
                    <text x="370" y="280" text-anchor="middle" fill="#60A5FA" font-size="9">üîÑ Protocol Transform</text>
                    
                    <!-- Arrows to Services -->
                    <path d="M 475 130 L 540 100" stroke="#818CF8" stroke-width="2" marker-end="url(#apiArrow)" fill="none"/>
                    <path d="M 475 170 L 540 170" stroke="#818CF8" stroke-width="2" marker-end="url(#apiArrow)" fill="none"/>
                    <path d="M 475 210 L 540 240" stroke="#818CF8" stroke-width="2" marker-end="url(#apiArrow)" fill="none"/>
                    <path d="M 475 250 L 540 300" stroke="#818CF8" stroke-width="2" marker-end="url(#apiArrow)" fill="none"/>
                    
                    <!-- Backend Services -->
                    <rect x="550" y="60" width="320" height="270" rx="14" fill="rgba(16, 185, 129, 0.08)" stroke="#10B981" stroke-width="2" stroke-dasharray="5,3"/>
                    <text x="710" y="85" text-anchor="middle" fill="#10B981" font-size="11" font-weight="600">‚öôÔ∏è Backend Services</text>
                    
                    <rect x="570" y="100" width="130" height="50" rx="8" fill="#1a1a2e" stroke="#10B981" stroke-width="1"/>
                    <text x="635" y="122" text-anchor="middle" fill="#34D399" font-size="10">User Service</text>
                    <text x="635" y="138" text-anchor="middle" fill="#6a6a7a" font-size="8">gRPC</text>
                    
                    <rect x="720" y="100" width="130" height="50" rx="8" fill="#1a1a2e" stroke="#10B981" stroke-width="1"/>
                    <text x="785" y="122" text-anchor="middle" fill="#34D399" font-size="10">Order Service</text>
                    <text x="785" y="138" text-anchor="middle" fill="#6a6a7a" font-size="8">gRPC</text>
                    
                    <rect x="570" y="160" width="130" height="50" rx="8" fill="#1a1a2e" stroke="#F59E0B" stroke-width="1"/>
                    <text x="635" y="182" text-anchor="middle" fill="#FBBF24" font-size="10">Notification</text>
                    <text x="635" y="198" text-anchor="middle" fill="#6a6a7a" font-size="8">WebSocket</text>
                    
                    <rect x="720" y="160" width="130" height="50" rx="8" fill="#1a1a2e" stroke="#10B981" stroke-width="1"/>
                    <text x="785" y="182" text-anchor="middle" fill="#34D399" font-size="10">Product Service</text>
                    <text x="785" y="198" text-anchor="middle" fill="#6a6a7a" font-size="8">gRPC</text>
                    
                    <rect x="570" y="220" width="130" height="50" rx="8" fill="#1a1a2e" stroke="#EC4899" stroke-width="1"/>
                    <text x="635" y="242" text-anchor="middle" fill="#F472B6" font-size="10">Search Service</text>
                    <text x="635" y="258" text-anchor="middle" fill="#6a6a7a" font-size="8">GraphQL</text>
                    
                    <rect x="720" y="220" width="130" height="50" rx="8" fill="#1a1a2e" stroke="#10B981" stroke-width="1"/>
                    <text x="785" y="242" text-anchor="middle" fill="#34D399" font-size="10">Payment Service</text>
                    <text x="785" y="258" text-anchor="middle" fill="#6a6a7a" font-size="8">gRPC</text>
                    
                    <rect x="645" y="280" width="130" height="40" rx="8" fill="#1a1a2e" stroke="#06B6D4" stroke-width="1"/>
                    <text x="710" y="302" text-anchor="middle" fill="#22D3EE" font-size="10">Analytics Service</text>
                    <text x="710" y="314" text-anchor="middle" fill="#6a6a7a" font-size="8">Async / Kafka</text>
                    
                    <!-- Legend -->
                    <rect x="30" y="335" width="400" height="35" rx="8" fill="#1a1a2e" stroke="#2a2a3e"/>
                    <text x="50" y="357" fill="#6a6a7a" font-size="10">Protocols:</text>
                    <circle cx="120" cy="352" r="6" fill="#3B82F6"/>
                    <text x="132" y="356" fill="#a0a0b0" font-size="9">REST</text>
                    <circle cx="180" cy="352" r="6" fill="#EC4899"/>
                    <text x="192" y="356" fill="#a0a0b0" font-size="9">GraphQL</text>
                    <circle cx="260" cy="352" r="6" fill="#10B981"/>
                    <text x="272" y="356" fill="#a0a0b0" font-size="9">gRPC</text>
                    <circle cx="320" cy="352" r="6" fill="#F59E0B"/>
                    <text x="332" y="356" fill="#a0a0b0" font-size="9">WebSocket</text>
                </svg>
            </div>
        </section>

        <!-- COMPARISON SCORECARD -->
        <section class="module" id="comparison">
            <div class="module-header">
                <div class="module-icon">‚öñÔ∏è</div>
                <div class="module-info">
                    <h2>API Pattern Comparison</h2>
                    <p>Choosing the right protocol for your use case</p>
                </div>
            </div>

            <div class="compare-table">
                <div class="compare-header">
                    <div class="compare-col">Criteria</div>
                    <div class="compare-col rest">üîµ REST</div>
                    <div class="compare-col graphql">üî¥ GraphQL</div>
                    <div class="compare-col grpc">üü¢ gRPC</div>
                    <div class="compare-col websocket">üü° WebSocket</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Performance</div>
                    <div class="compare-cell cell-mid">Medium</div>
                    <div class="compare-cell cell-mid">Medium</div>
                    <div class="compare-cell cell-good">Excellent</div>
                    <div class="compare-cell cell-good">Good</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Payload Size</div>
                    <div class="compare-cell cell-mid">JSON (verbose)</div>
                    <div class="compare-cell cell-good">Exact fields</div>
                    <div class="compare-cell cell-good">Binary (small)</div>
                    <div class="compare-cell cell-mid">Variable</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Real-time</div>
                    <div class="compare-cell cell-bad">Polling</div>
                    <div class="compare-cell cell-mid">Subscriptions</div>
                    <div class="compare-cell cell-good">Streaming</div>
                    <div class="compare-cell cell-good">Native</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Browser Support</div>
                    <div class="compare-cell cell-good">Native</div>
                    <div class="compare-cell cell-good">Native</div>
                    <div class="compare-cell cell-bad">grpc-web</div>
                    <div class="compare-cell cell-good">Native</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Learning Curve</div>
                    <div class="compare-cell cell-good">Easy</div>
                    <div class="compare-cell cell-mid">Medium</div>
                    <div class="compare-cell cell-bad">Steep</div>
                    <div class="compare-cell cell-mid">Medium</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Caching</div>
                    <div class="compare-cell cell-good">HTTP caching</div>
                    <div class="compare-cell cell-bad">Complex</div>
                    <div class="compare-cell cell-bad">Custom</div>
                    <div class="compare-cell cell-bad">None</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Tooling</div>
                    <div class="compare-cell cell-good">Excellent</div>
                    <div class="compare-cell cell-good">Growing</div>
                    <div class="compare-cell cell-mid">Good</div>
                    <div class="compare-cell cell-mid">Limited</div>
                </div>
                <div class="compare-row">
                    <div class="compare-col">Best For</div>
                    <div class="compare-cell">Public APIs</div>
                    <div class="compare-cell">Mobile/Frontend</div>
                    <div class="compare-cell">Microservices</div>
                    <div class="compare-cell">Chat/Gaming</div>
                </div>
            </div>
        </section>

        <!-- WHEN TO USE EACH -->
        <section class="module" id="decision">
            <div class="module-header">
                <div class="module-icon">üéØ</div>
                <div class="module-info">
                    <h2>When to Use Each API Style</h2>
                    <p>Decision framework for your use case</p>
                </div>
            </div>

            <div class="decision-grid">
                <div class="decision-card rest-dec">
                    <div class="decision-header">
                        <span class="decision-icon">üîµ</span>
                        <h4>Use REST When...</h4>
                    </div>
                    <ul class="decision-list">
                        <li>‚úì Building public APIs for external developers</li>
                        <li>‚úì Simple CRUD operations on resources</li>
                        <li>‚úì HTTP caching is important for performance</li>
                        <li>‚úì Wide tooling/library support needed</li>
                        <li>‚úì Team is familiar with HTTP semantics</li>
                        <li>‚úì API will be consumed by many different clients</li>
                    </ul>
                    <div class="decision-example">
                        <strong>Example:</strong> Stripe, GitHub, Twilio‚Äîpublic APIs that prioritize developer experience and broad compatibility.
                    </div>
                </div>

                <div class="decision-card graphql-dec">
                    <div class="decision-header">
                        <span class="decision-icon">üî¥</span>
                        <h4>Use GraphQL When...</h4>
                    </div>
                    <ul class="decision-list">
                        <li>‚úì Frontend needs flexible, nested data</li>
                        <li>‚úì Mobile apps with bandwidth constraints</li>
                        <li>‚úì Rapidly evolving UI requirements</li>
                        <li>‚úì Aggregating data from multiple services</li>
                        <li>‚úì Strong typing and introspection valuable</li>
                        <li>‚úì Different clients need different data shapes</li>
                    </ul>
                    <div class="decision-example">
                        <strong>Example:</strong> Facebook, Shopify, GitHub (v4)‚Äîcomplex UIs with varying data needs across web/mobile.
                    </div>
                </div>

                <div class="decision-card grpc-dec">
                    <div class="decision-header">
                        <span class="decision-icon">üü¢</span>
                        <h4>Use gRPC When...</h4>
                    </div>
                    <ul class="decision-list">
                        <li>‚úì Internal microservice communication</li>
                        <li>‚úì High-performance, low-latency required</li>
                        <li>‚úì Bidirectional streaming needed</li>
                        <li>‚úì Polyglot environment (auto-generated clients)</li>
                        <li>‚úì Strong contracts between services</li>
                        <li>‚úì Network bandwidth is constrained</li>
                    </ul>
                    <div class="decision-example">
                        <strong>Example:</strong> Google, Netflix, Uber‚Äîinternal service mesh where performance and type safety matter.
                    </div>
                </div>

                <div class="decision-card ws-dec">
                    <div class="decision-header">
                        <span class="decision-icon">üü°</span>
                        <h4>Use WebSocket When...</h4>
                    </div>
                    <ul class="decision-list">
                        <li>‚úì Real-time bidirectional communication</li>
                        <li>‚úì Server needs to push updates to clients</li>
                        <li>‚úì Chat, notifications, live dashboards</li>
                        <li>‚úì Multiplayer games, collaborative editing</li>
                        <li>‚úì Financial trading, live sports scores</li>
                        <li>‚úì Low-latency is critical</li>
                    </ul>
                    <div class="decision-example">
                        <strong>Example:</strong> Slack, Discord, Figma‚Äîreal-time collaboration where server push is essential.
                    </div>
                </div>
            </div>

            <div class="decision-flowchart">
                <h4>Quick Decision Tree</h4>
                <div class="flowchart-content">
                    <div class="flow-question">What's your primary requirement?</div>
                    <div class="flow-branches">
                        <div class="flow-branch">
                            <span class="flow-answer">Public API / Simple CRUD</span>
                            <span class="flow-result rest-r">‚Üí REST</span>
                        </div>
                        <div class="flow-branch">
                            <span class="flow-answer">Flexible queries / Mobile</span>
                            <span class="flow-result graphql-r">‚Üí GraphQL</span>
                        </div>
                        <div class="flow-branch">
                            <span class="flow-answer">High perf / Internal services</span>
                            <span class="flow-result grpc-r">‚Üí gRPC</span>
                        </div>
                        <div class="flow-branch">
                            <span class="flow-answer">Real-time / Bidirectional</span>
                            <span class="flow-result ws-r">‚Üí WebSocket</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- API EVOLUTION -->
        <section class="module" id="evolution">
            <div class="module-header">
                <div class="module-icon">üìà</div>
                <div class="module-info">
                    <h2>The Evolution of APIs</h2>
                    <p>From RPC to modern API patterns</p>
                </div>
            </div>

            <div class="evolution-timeline">
                <svg viewBox="0 0 900 200" class="evolution-svg">
                    <defs>
                        <linearGradient id="apiTimelineBg" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" stop-color="#6a6a7a" stop-opacity="0.1"/>
                            <stop offset="25%" stop-color="#3B82F6" stop-opacity="0.1"/>
                            <stop offset="50%" stop-color="#EC4899" stop-opacity="0.1"/>
                            <stop offset="75%" stop-color="#10B981" stop-opacity="0.1"/>
                            <stop offset="100%" stop-color="#F59E0B" stop-opacity="0.1"/>
                        </linearGradient>
                    </defs>
                    
                    <!-- Background -->
                    <rect x="0" y="70" width="900" height="60" fill="url(#apiTimelineBg)" rx="8"/>
                    
                    <!-- Timeline line -->
                    <line x1="60" y1="100" x2="840" y2="100" stroke="#2a2a3e" stroke-width="3"/>
                    
                    <!-- Era 1: SOAP/XML-RPC -->
                    <circle cx="120" cy="100" r="28" fill="#12121a" stroke="#6a6a7a" stroke-width="3"/>
                    <text x="120" y="106" text-anchor="middle" font-size="22">üìú</text>
                    <text x="120" y="150" text-anchor="middle" fill="#6a6a7a" font-size="11" font-weight="600">SOAP/XML</text>
                    <text x="120" y="167" text-anchor="middle" fill="#4a4a5a" font-size="9">1990s-2000s</text>
                    
                    <!-- Connector -->
                    <line x1="152" y1="100" x2="228" y2="100" stroke="#6a6a7a" stroke-width="2"/>
                    
                    <!-- Era 2: REST -->
                    <circle cx="300" cy="100" r="32" fill="#12121a" stroke="#3B82F6" stroke-width="3"/>
                    <text x="300" y="108" text-anchor="middle" font-size="28">üîµ</text>
                    <text x="300" y="150" text-anchor="middle" fill="#3B82F6" font-size="12" font-weight="600">REST</text>
                    <text x="300" y="167" text-anchor="middle" fill="#6a6a7a" font-size="9">2000-Present</text>
                    
                    <!-- Connector -->
                    <line x1="335" y1="100" x2="405" y2="100" stroke="#3B82F6" stroke-width="2"/>
                    
                    <!-- Era 3: GraphQL -->
                    <circle cx="480" cy="100" r="32" fill="#12121a" stroke="#EC4899" stroke-width="3"/>
                    <text x="480" y="108" text-anchor="middle" font-size="28">üî¥</text>
                    <text x="480" y="150" text-anchor="middle" fill="#EC4899" font-size="12" font-weight="600">GraphQL</text>
                    <text x="480" y="167" text-anchor="middle" fill="#6a6a7a" font-size="9">2015-Present</text>
                    
                    <!-- Connector -->
                    <line x1="515" y1="100" x2="585" y2="100" stroke="#EC4899" stroke-width="2"/>
                    
                    <!-- Era 4: gRPC -->
                    <circle cx="660" cy="100" r="32" fill="#12121a" stroke="#10B981" stroke-width="3"/>
                    <text x="660" y="108" text-anchor="middle" font-size="28">üü¢</text>
                    <text x="660" y="150" text-anchor="middle" fill="#10B981" font-size="12" font-weight="600">gRPC</text>
                    <text x="660" y="167" text-anchor="middle" fill="#6a6a7a" font-size="9">2016-Present</text>
                    
                    <!-- Connector -->
                    <line x1="695" y1="100" x2="765" y2="100" stroke="#10B981" stroke-width="2"/>
                    
                    <!-- Era 5: Async/Event -->
                    <circle cx="820" cy="100" r="28" fill="#12121a" stroke="#F59E0B" stroke-width="3"/>
                    <text x="820" y="106" text-anchor="middle" font-size="22">‚ö°</text>
                    <text x="820" y="150" text-anchor="middle" fill="#F59E0B" font-size="11" font-weight="600">Async APIs</text>
                    <text x="820" y="167" text-anchor="middle" fill="#6a6a7a" font-size="9">Future</text>
                    
                    <!-- Key insight -->
                    <text x="450" y="195" text-anchor="middle" fill="#6a6a7a" font-size="10">Each paradigm addresses different needs‚Äîmost systems use multiple styles</text>
                </svg>
            </div>
        </section>

        <!-- REST -->
        <section class="module" id="rest">
            <div class="module-header">
                <div class="module-icon">üîµ</div>
                <div class="module-info">
                    <h2>REST APIs</h2>
                    <p>Representational State Transfer</p>
                </div>
            </div>

            <div class="api-detail">
                <div class="api-detail-header">
                    <div class="api-logo rest">R</div>
                    <div class="api-detail-title">
                        <h3>RESTful APIs</h3>
                        <div class="tagline">Resource-based design, HTTP-native</div>
                    </div>
                    <div class="api-badges">
                        <span class="api-badge popular">Most Popular</span>
                        <span class="api-badge fast">HTTP-Based</span>
                    </div>
                </div>

                <div class="code-block">
                    <span class="comment"># RESTful resource operations</span><br>
                    <span class="method">GET</span>    <span class="url">/api/v1/users</span>          <span class="comment"># List all users</span><br>
                    <span class="method">GET</span>    <span class="url">/api/v1/users/{id}</span>     <span class="comment"># Get specific user</span><br>
                    <span class="method">POST</span>   <span class="url">/api/v1/users</span>          <span class="comment"># Create new user</span><br>
                    <span class="method">PUT</span>    <span class="url">/api/v1/users/{id}</span>     <span class="comment"># Replace user</span><br>
                    <span class="method">PATCH</span>  <span class="url">/api/v1/users/{id}</span>     <span class="comment"># Partial update</span><br>
                    <span class="method">DELETE</span> <span class="url">/api/v1/users/{id}</span>     <span class="comment"># Delete user</span>
                </div>

                <div class="two-col">
                    <div class="info-box">
                        <h4>REST Principles</h4>
                        <ul class="info-list">
                            <li><strong>Stateless:</strong> Each request contains all needed info</li>
                            <li><strong>Resource-based:</strong> URLs represent resources, not actions</li>
                            <li><strong>HTTP verbs:</strong> GET, POST, PUT, PATCH, DELETE</li>
                            <li><strong>Uniform interface:</strong> Consistent patterns across endpoints</li>
                            <li><strong>HATEOAS:</strong> Hypermedia links for discoverability</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>When to Use REST</h4>
                        <ul class="info-list">
                            <li>Public-facing APIs with diverse clients</li>
                            <li>CRUD operations on resources</li>
                            <li>When caching is important (HTTP caching)</li>
                            <li>Wide tooling and developer familiarity needed</li>
                            <li>Simple request/response patterns</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- GraphQL -->
        <section class="module" id="graphql">
            <div class="module-header">
                <div class="module-icon">üî¥</div>
                <div class="module-info">
                    <h2>GraphQL</h2>
                    <p>Query language for your API</p>
                </div>
            </div>

            <div class="api-detail">
                <div class="api-detail-header">
                    <div class="api-logo graphql">G</div>
                    <div class="api-detail-title">
                        <h3>GraphQL</h3>
                        <div class="tagline">Ask for exactly what you need</div>
                    </div>
                    <div class="api-badges">
                        <span class="api-badge flexible">Flexible</span>
                        <span class="api-badge popular">Growing Fast</span>
                    </div>
                </div>

                <div class="code-block">
                    <span class="comment"># GraphQL query - get exactly what you need</span><br>
                    <span class="keyword">query</span> {<br>
                    &nbsp;&nbsp;user(<span class="key">id</span>: <span class="string">"123"</span>) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="key">name</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="key">email</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;orders(<span class="key">first</span>: <span class="string">5</span>) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">id</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">total</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items { <span class="key">name</span>, <span class="key">quantity</span> }<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;}<br>
                    }
                </div>

                <div class="two-col">
                    <div class="info-box">
                        <h4>GraphQL Strengths</h4>
                        <ul class="info-list">
                            <li><strong>No over-fetching:</strong> Get only the fields you request</li>
                            <li><strong>No under-fetching:</strong> Get related data in one request</li>
                            <li><strong>Strong typing:</strong> Schema defines all types and operations</li>
                            <li><strong>Introspection:</strong> Self-documenting API</li>
                            <li><strong>Single endpoint:</strong> All queries go to /graphql</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>When to Use GraphQL</h4>
                        <ul class="info-list">
                            <li>Mobile apps with bandwidth constraints</li>
                            <li>Complex, nested data requirements</li>
                            <li>Rapid frontend iteration without backend changes</li>
                            <li>Aggregating data from multiple sources</li>
                            <li>When clients need flexibility in data fetching</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- gRPC -->
        <section class="module" id="grpc">
            <div class="module-header">
                <div class="module-icon">üü¢</div>
                <div class="module-info">
                    <h2>gRPC</h2>
                    <p>High-performance RPC framework</p>
                </div>
            </div>

            <div class="api-detail">
                <div class="api-detail-header">
                    <div class="api-logo grpc">g</div>
                    <div class="api-detail-title">
                        <h3>gRPC</h3>
                        <div class="tagline">Binary protocol, streaming, polyglot</div>
                    </div>
                    <div class="api-badges">
                        <span class="api-badge fast">10x Faster</span>
                        <span class="api-badge realtime">Streaming</span>
                    </div>
                </div>

                <div class="code-block">
                    <span class="comment">// user.proto - Protocol Buffer definition</span><br>
                    <span class="keyword">syntax</span> = <span class="string">"proto3"</span>;<br><br>
                    <span class="keyword">service</span> UserService {<br>
                    &nbsp;&nbsp;<span class="keyword">rpc</span> GetUser(GetUserRequest) <span class="keyword">returns</span> (User);<br>
                    &nbsp;&nbsp;<span class="keyword">rpc</span> ListUsers(ListRequest) <span class="keyword">returns</span> (<span class="keyword">stream</span> User);<br>
                    &nbsp;&nbsp;<span class="keyword">rpc</span> CreateUser(User) <span class="keyword">returns</span> (User);<br>
                    }<br><br>
                    <span class="keyword">message</span> User {<br>
                    &nbsp;&nbsp;<span class="key">string</span> id = 1;<br>
                    &nbsp;&nbsp;<span class="key">string</span> name = 2;<br>
                    &nbsp;&nbsp;<span class="key">string</span> email = 3;<br>
                    }
                </div>

                <div class="two-col">
                    <div class="info-box">
                        <h4>gRPC Strengths</h4>
                        <ul class="info-list">
                            <li><strong>Performance:</strong> Binary format, HTTP/2, 10x faster</li>
                            <li><strong>Streaming:</strong> Bidirectional streaming built-in</li>
                            <li><strong>Code generation:</strong> Clients in any language from .proto</li>
                            <li><strong>Strong contracts:</strong> Schema-first development</li>
                            <li><strong>Deadlines:</strong> Built-in timeout propagation</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>When to Use gRPC</h4>
                        <ul class="info-list">
                            <li>Microservices internal communication</li>
                            <li>High-performance, low-latency requirements</li>
                            <li>Polyglot environments (multi-language)</li>
                            <li>Real-time streaming (logs, metrics, events)</li>
                            <li>When payload size matters</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- WebSocket -->
        <section class="module" id="websocket">
            <div class="module-header">
                <div class="module-icon">üü°</div>
                <div class="module-info">
                    <h2>WebSocket</h2>
                    <p>Real-time bidirectional communication</p>
                </div>
            </div>

            <div class="api-detail">
                <div class="api-detail-header">
                    <div class="api-logo websocket">W</div>
                    <div class="api-detail-title">
                        <h3>WebSocket</h3>
                        <div class="tagline">Persistent connection, real-time</div>
                    </div>
                    <div class="api-badges">
                        <span class="api-badge realtime">Real-Time</span>
                        <span class="api-badge flexible">Bidirectional</span>
                    </div>
                </div>

                <div class="code-block">
                    <span class="comment">// WebSocket connection</span><br>
                    <span class="keyword">const</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">'wss://api.example.com/ws'</span>);<br><br>
                    ws.onopen = () => {<br>
                    &nbsp;&nbsp;ws.send(JSON.stringify({ <span class="key">type</span>: <span class="string">'subscribe'</span>, <span class="key">channel</span>: <span class="string">'orders'</span> }));<br>
                    };<br><br>
                    ws.onmessage = (event) => {<br>
                    &nbsp;&nbsp;<span class="keyword">const</span> data = JSON.parse(event.data);<br>
                    &nbsp;&nbsp;console.log(<span class="string">'New order:'</span>, data);<br>
                    };
                </div>

                <div class="two-col">
                    <div class="info-box">
                        <h4>WebSocket Strengths</h4>
                        <ul class="info-list">
                            <li><strong>Real-time:</strong> Server can push without polling</li>
                            <li><strong>Low latency:</strong> No HTTP overhead per message</li>
                            <li><strong>Bidirectional:</strong> Both sides can initiate</li>
                            <li><strong>Persistent:</strong> Single connection, no reconnect cost</li>
                            <li><strong>Native:</strong> Browser support without libraries</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>When to Use WebSocket</h4>
                        <ul class="info-list">
                            <li>Chat applications and messaging</li>
                            <li>Live dashboards and monitoring</li>
                            <li>Multiplayer games</li>
                            <li>Collaborative editing (Google Docs-style)</li>
                            <li>Financial trading / live prices</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- BEST PRACTICES -->
        <section class="module" id="practices">
            <div class="module-header">
                <div class="module-icon">‚úÖ</div>
                <div class="module-info">
                    <h2>Best Practices</h2>
                    <p>API design guidelines for success</p>
                </div>
            </div>

            <div class="bp-grid">
                <div class="bp-card do">
                    <div class="bp-title">‚úì Do</div>
                    <ul class="bp-list">
                        <li><span class="icon">‚úì</span> Version your APIs from day one (/v1/, /v2/)</li>
                        <li><span class="icon">‚úì</span> Use consistent naming conventions</li>
                        <li><span class="icon">‚úì</span> Return meaningful HTTP status codes</li>
                        <li><span class="icon">‚úì</span> Implement rate limiting and throttling</li>
                        <li><span class="icon">‚úì</span> Document everything with OpenAPI/Swagger</li>
                        <li><span class="icon">‚úì</span> Use pagination for list endpoints</li>
                        <li><span class="icon">‚úì</span> Implement proper authentication (OAuth2, JWT)</li>
                        <li><span class="icon">‚úì</span> Design for backward compatibility</li>
                    </ul>
                </div>
                <div class="bp-card dont">
                    <div class="bp-title">‚úó Don't</div>
                    <ul class="bp-list">
                        <li><span class="icon">‚úó</span> Use verbs in REST URLs (/getUser, /deleteItem)</li>
                        <li><span class="icon">‚úó</span> Return 200 OK for errors with error body</li>
                        <li><span class="icon">‚úó</span> Expose internal implementation details</li>
                        <li><span class="icon">‚úó</span> Skip input validation and sanitization</li>
                        <li><span class="icon">‚úó</span> Break existing clients without deprecation</li>
                        <li><span class="icon">‚úó</span> Return unbounded result sets</li>
                        <li><span class="icon">‚úó</span> Use cookies for API authentication</li>
                        <li><span class="icon">‚úó</span> Ignore idempotency for write operations</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- AGENT SECTION -->
        <section class="module" id="agent">
            <div class="module-header">
                <div class="module-icon">ü§ñ</div>
                <div class="module-info">
                    <h2>Agent This</h2>
                    <p>AI-powered API design and optimization</p>
                </div>
            </div>

            <div class="agent-grid">
                <div class="agent-info">
                    <div class="agent-avatar">üîå</div>
                    <div class="agent-name">APIArchitect</div>
                    <div class="agent-role">API Design & Optimization Agent</div>
                    <div class="agent-desc">Designs APIs, generates OpenAPI specs, reviews existing APIs for best practices, and recommends protocol selection based on requirements.</div>
                    <ul class="agent-caps">
                        <li><span class="icon">‚ú¶</span> OpenAPI/Swagger generation</li>
                        <li><span class="icon">‚ú¶</span> GraphQL schema design</li>
                        <li><span class="icon">‚ú¶</span> gRPC .proto file creation</li>
                        <li><span class="icon">‚ú¶</span> API review and linting</li>
                        <li><span class="icon">‚ú¶</span> Protocol selection guidance</li>
                        <li><span class="icon">‚ú¶</span> Security best practices</li>
                    </ul>
                </div>
                <div class="code-panel">
                    <div class="code-header">
                        <div class="code-tab">API Architect</div>
                        <div class="code-filename">api_architect.py</div>
                    </div>
                    <div class="code-content">
                        <pre><span class="code-comment"># api_architect.py</span>
<span class="code-keyword">from</span> crewai <span class="code-keyword">import</span> Agent, Task, Crew

api_architect = Agent(
    <span class="code-string">role=</span><span class="code-string">"API Architect"</span>,
    <span class="code-string">goal=</span><span class="code-string">"Design clean, scalable, secure APIs"</span>,
    <span class="code-string">backstory=</span><span class="code-string">"""Expert in REST, GraphQL, gRPC,
    WebSocket patterns. Deep knowledge of API
    security, versioning, and documentation."""</span>,
    <span class="code-string">tools=</span>[openapi_generator, schema_validator,
           security_scanner, protocol_advisor]
)

design_task = Task(
    <span class="code-string">description=</span><span class="code-string">"""Design an API for:
    {requirements}
    
    Generate OpenAPI spec, recommend protocol,
    and identify security considerations."""</span>,
    <span class="code-string">agent=</span>api_architect
)</pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- RELATED -->
        <section class="module">
            <div class="module-header">
                <div class="module-icon">üîó</div>
                <div class="module-info">
                    <h2>Related Pages</h2>
                    <p>Continue exploring</p>
                </div>
            </div>

            <div class="related-grid">
                <a href="cat09-p1-microservices.html" class="related-card">
                    <div class="related-num">Page 9.1</div>
                    <div class="related-title">Microservices</div>
                    <div class="related-desc">Service-oriented architecture patterns</div>
                </a>
                <a href="cat09-p2-event-driven.html" class="related-card">
                    <div class="related-num">Page 9.2</div>
                    <div class="related-title">Event-Driven</div>
                    <div class="related-desc">Asynchronous messaging patterns</div>
                </a>
                <a href="cat09-p6-cqrs-eventsourcing.html" class="related-card">
                    <div class="related-num">Page 9.6</div>
                    <div class="related-title">CQRS & Event Sourcing</div>
                    <div class="related-desc">Command query separation patterns</div>
                </a>
            </div>
        </section>

    </div>
</div>

<footer>
    <div class="footer-nav">
        <a href="cat09-p4-lakehouse.html" class="footer-link">
            <span>‚Üê</span>
            <div>
                <div class="footer-link-label">Previous Page</div>
                <div class="footer-link-title">9.4: Data Lakehouse</div>
            </div>
        </a>
        <div class="footer-brand"><span>STRATEGY</span>HUB ‚Ä¢ Page 9.5</div>
        <a href="cat09-p6-cqrs-eventsourcing.html" class="footer-link">
            <div>
                <div class="footer-link-label">Next Page</div>
                <div class="footer-link-title">9.6: CQRS & Event Sourcing</div>
            </div>
            <span>‚Üí</span>
        </a>
    </div>
</footer>

</body>
</html>
